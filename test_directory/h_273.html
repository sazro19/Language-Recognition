<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Обзор нововведений в C# 10 / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/company\/pvs-studio\/blog\/584490\/"},"headline":"Обзор нововведений в C# 10","datePublished":"2021-10-20T11:38:10+03:00","dateModified":"2021-10-21T15:15:30+03:00","author":{"@type":"Person","name":"Валентин Прокофьев"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"В данной статье мы рассмотрим новую версию языка C# 10, которая включает в себя небольшой список изменений относительно C# 9. Ниже приведены их описания вместе с...","url":"https:\/\/habr.com\/ru\/company\/pvs-studio\/blog\/584490\/#post-content-body","about":["c_pvs-studio","h_net","h_csharp","f_develop"],"image":["https:\/\/habr.com\/share\/publication\/584490\/612676b3373db5d33678fcb78366558c\/","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/e20\/6bd\/2fb\/e206bd2fb7dc507b1f0934d652da2448.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Обзор нововведений в C# 10" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Обзор нововведений в C# 10" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Обзор нововведений в C# 10" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="В данной статье мы рассмотрим новую версию языка C# 10, которая включает в себя небольшой список изменений относительно C# 9. Ниже приведены их описания вместе с поясняющими фрагментами кода. Давайте..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="В данной статье мы рассмотрим новую версию языка C# 10, которая включает в себя небольшой список изменений относительно C# 9. Ниже приведены их описания вместе с поясняющими фрагментами кода. Давайте..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="В данной статье мы рассмотрим новую версию языка C# 10, которая включает в себя небольшой список изменений относительно C# 9. Ниже приведены их описания вместе с поясняющими фрагментами кода. Давайте..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="В данной статье мы рассмотрим новую версию языка C# 10, которая включает в себя небольшой список изменений относительно C# 9. Ниже приведены их описания вместе с поясняющими фрагментами кода. Давайте..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="В данной статье мы рассмотрим новую версию языка C# 10, которая включает в себя небольшой список изменений относительно C# 9. Ниже приведены их описания вместе с поясняющими фрагментами кода. Давайте..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habrastorage.org/getpro/habr/upload_files/2d5/ce8/bcb/2d5ce8bcbeea1b3c5f8aed527bbb743c.png" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habrastorage.org/getpro/habr/upload_files/2d5/ce8/bcb/2d5ce8bcbeea1b3c5f8aed527bbb743c.png" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habrastorage.org/getpro/habr/upload_files/2d5/ce8/bcb/2d5ce8bcbeea1b3c5f8aed527bbb743c.png" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habrastorage.org/getpro/habr/upload_files/2d5/ce8/bcb/2d5ce8bcbeea1b3c5f8aed527bbb743c.png" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habrastorage.org/getpro/habr/upload_files/2d5/ce8/bcb/2d5ce8bcbeea1b3c5f8aed527bbb743c.png" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="584490" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2021-10-20T08:38:10.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/584490/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/company/pvs-studio/blog/584490/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habrastorage.org/getpro/habr/upload_files/2d5/ce8/bcb/2d5ce8bcbeea1b3c5f8aed527bbb743c.png" data-vmid="image:href"><link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/584490/">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" companyName="pvs-studio" data-async-called="true" class="tm-page"><div class="tm-page-width"><div class="tm-page__header"><!----></div> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"><div class="tm-company-card tm-company-article__company-card"><div class="tm-company-card__info"><div class="tm-company-card__header"><a href="/ru/company/pvs-studio/profile/" class="tm-company-card__avatar"><div class="tm-entity-image"><img alt="" height="48" src="//habrastorage.org/getpro/habr/company/95a/244/327/95a244327fc36477b6048c0f8b67df8b.png" width="48" class="tm-entity-image__pic"></div></a> <!----> <div class="tm-rating tm-company-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">266.05</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div> <div class="tm-company-card__info"><a href="/ru/company/pvs-studio/profile/" class="tm-company-card__name">
        PVS-Studio
      </a> <div class="tm-company-card__description">Статический анализ кода для C, C++, C# и Java</div></div></div> <div class="tm-company-card__buttons"><!----> <!----></div></div> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/DstRoses/" title="DstRoses" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/a83/c4d/4b3/a83c4d4b3798df2dce80a03aab80caf1.png" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/DstRoses/" class="tm-user-info__username">
      DstRoses
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2021-10-20T08:38:10.000Z" title="2021-10-20, 11:38">20  октября   в 11:38</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Обзор нововведений в C# 10</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/company/pvs-studio/blog/" class="tm-article-snippet__hubs-item-link router-link-active"><span>Блог компании PVS-Studio</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/net/" class="tm-article-snippet__hubs-item-link"><span>.NET</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/csharp/" class="tm-article-snippet__hubs-item-link"><span>C#</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><p>В данной статье мы рассмотрим новую версию языка C# 10, которая включает в себя небольшой список изменений относительно C# 9. Ниже приведены их описания вместе с поясняющими фрагментами кода. Давайте их рассмотрим.</p><figure class="full-width "><img src="/img/image-loader.svg" height="242" data-src="https://habrastorage.org/getpro/habr/upload_files/e20/6bd/2fb/e206bd2fb7dc507b1f0934d652da2448.png" data-width="580"/><figcaption></figcaption></figure><h3>Изменения структур</h3><h4>Инициализация полей структуры</h4><p>Теперь в структурах можно задать инициализацию полей и свойств:</p><pre><code class="cs">public struct User
{
    public User(string name, int age)
    {
        Name = name;
        Age = age;
    }
    string Name { get; set; } = string.Empty;
    int Age { get; set; } = 18;
}</code></pre><h4>Объявление конструктора структуры без параметров</h4><p>В C# 10 станет доступно создание конструктора без параметров для структур:</p><pre><code class="cs">public struct User
{
    public User()
    {

    }

    public User(string name, int age)
    {
        Name = name;
        Age = age;
    }

    string Name { get; set; } = string.Empty;
    int Age { get; set; } = 18;
}</code></pre><p><strong>Важно.</strong> Использовать конструктор без параметров можно только тогда, когда все поля и/или свойства имеют инициализаторы. Например, если не задать инициализатор <em>Age</em>, возникнет ошибка:</p><p><em>Error CS0843: Auto-implemented property 'User.Age' must be fully assigned before control is returned to the caller.</em></p><h3>Применение выражения with к структуре</h3><p>Новая версия C# делает доступным использование выражения <em>with</em> со структурами, как ранее это можно было сделать с записями. Пример:</p><pre><code class="cs">public struct User
{
    public User()
    {

    }

    public User(string name, int age)
    {
        Name = name;
        Age = age;
    }

    public string Name { get; set; } = string.Empty;
    public int Age { get; set; } = 18;
}

User myUser = new("Chris", 21);
User otherUser = myUser with { Name = "David" };</code></pre><p>Очевидно, что изменяемое свойство (в данном случае поле <em>Name</em>) должно быть с публичным модификатором доступа.</p><h3>Глобальное использование using</h3><p>Данное нововведение позволит использовать директиву <em>using</em> с охватом всего проекта. Для этого необходимо перед фразой <em>using</em> добавить ключевое слово <em>global</em>:</p><pre><code class="cs">global using "Пространство имен"</code></pre><p>Таким образом, можно не дублировать в разных файлах одни и те же пространства имён, используя директиву <em>using</em>.</p><p><strong>Важно.</strong> Применять данную конструкцию следует ПЕРЕД включениями <em>using</em>, которые объявлены без использования <em>global</em>. Пример:</p><pre><code class="cs">global using System.Text;
using System;
using System.Linq;
using System.Threading.Tasks;
// Корректная запись</code></pre><p>В ином случае:</p><pre><code class="cs">using System;
using System.Linq;
using System.Threading.Tasks;
global using System.Text;
// Error CS8915
// A global using directive must precede
// all non-global using directives.</code></pre><p>Если произошло так, что вы повторно включили одно пространство имён при условии, что оно было ранее включено с использованием ключевого слова <em>global</em>, то об этом будет сообщено средой разработки (<em>IDE: 0005: Using directive is unnecessary</em>).</p><h3>namespace для всего файла</h3><p>Бывает такое, что пространство имён необходимо использовать во всём файле, но это может немного сдвинуть отступы текста программы. Теперь для решения этой проблемы добавлена возможность использования <em>namespace</em> для всего файла. Для этого необходимо написать <em>namespace</em> без использования блочных фигурных скобок:</p><pre><code class="cs">using System;
using System.Linq;
using System.Threading.Tasks;

namespace TestC10;

public class TestClass
{
    ....
}</code></pre><p>Ранее необходимо было тянуть на весь файл открытый блок <em>namespace</em>:</p><pre><code class="cs">using System;
using System.Linq;
using System.Threading.Tasks;

namespace TestC10
{
    public class TestClass
    {
        ....
    }
}</code></pre><p>Очевидно, указать в файле можно лишь один такого рода <em>namespace</em>. То есть данная запись некорректна:</p><pre><code class="cs">namespace TestC10;
namespace MyDir;
// Error CS8954
// Source file can only contain
// one file-scoped namespace declaration</code></pre><p>как и запись такого вида:</p><pre><code class="cs">namespace TestC10;
namespace MyDir
{
    ....
}
// Error CS8955
// Source file can not contain both
// file-scoped and normal namespace declarations.</code></pre><h3>Изменение записей</h3><h4>Ключевое слово class</h4><p>В версии языка C# 10.0 было добавлено необязательное ключевое слово <em>class</em> у записей, которое лишь помогает при чтении кода определить принадлежность записи к ссылочному типу.</p><p>То есть две следующие записи идентичны:</p><pre><code class="cs">public record class Test(string Name, string Surname);
public record Test(string Name, string Surname);</code></pre><h4>Структуры записей</h4><p>Также теперь можно создавать структуры записей:</p><pre><code class="cs">record struct Test(string Name, string Surname)</code></pre><p>По умолчанию, свойства данной записи можно изменять, в отличие от стандартной <em>record</em>, в которой модификатор изменения полей – <em>init</em>:</p><pre><code class="cs">string Name { get; set; }
string Surname { get; set; }</code></pre><p>К данной структуре можно применить свойство <em>readonly</em>, тогда доступ к полям будет подобен обычной записи:</p><pre><code class="cs">readonly record struct Test(string Name, string Surname);</code></pre><p>где свойства записаны как:</p><pre><code class="cs">string Name { get; init; }
string Surname { get; init; }</code></pre><p>Равенство двух объектов структуры записей схоже с равенством двух обычных структур – равенство истинно, если эти два объекта хранят одни и те же данные:</p><pre><code class="cs">var firstRecord = new Person("Nick", "Smith");
var secondRecord = new Person("Robert", "Smith");
var thirdRecord = new Person("Nick", "Smith");

Console.WriteLine(firstRecord == secondRecord);
// False
Console.WriteLine(firstRecord == thirdRecord);
// True</code></pre><p>Стоит отметить, что для структур записей не генерируется конструктор копирования. Если определить его и использовать ключевое слово *with *при инициализации нового объекта, то вызываться будет оператор присваивания, вместо конструктора копирования (как это происходит при работе с <em>record class</em>).</p><h4>Запечатывание метода ToString</h4><p>Как писал мой коллега в статье о <a href="https://pvs-studio.com/ru/blog/posts/csharp/0860/">нововведениях в C# 9</a>, у записей имеется метод <em>ToString</em>, который можно переопределить. Но при наследовании есть одна особенность: переопределенный вами метод <em>ToString</em> не будет унаследован потомками от родительской записи. Для того чтобы потомки записей наследовали метод <em>ToString</em>, стало доступно использование ключевого слова <em>sealed</em>, которое запрещает компилятору генерировать имплементацию метода <em>ToString</em> у дочерних записей. Данное ключевое слово указывается при переопределении метода <em>ToString</em>:</p><pre><code class="cs">public sealed override string ToString()
{
    ....
}</code></pre><p>Создадим следующую запись, включая переопределение метода <em>ToString</em>:</p><pre><code class="cs">public record TestRec(string name, string surname)
{
    public override string ToString()
    {
        return $"{name} {surname}";
    }
}</code></pre><p>И наследуем от него вторую запись:</p><pre><code class="cs">public record InheritedRecord : TestRec
{
    public InheritedRecord(string name, string surname)
    :base(name, surname)
    {

    }
}</code></pre><p>Теперь создадим по экземпляру каждой из записей и напечатаем результат в консоль:</p><pre><code class="cs">TestRec myObj = new("Alex", "Johnson");
Console.WriteLine(myObj.ToString());
// Alex Johnson

InheritedRecord mySecObj = new("Thomas", "Brown");
Console.WriteLine(mySecObj.ToString());
// inheritedRecord { name = Thomas, surname = Brown}</code></pre><p>Как видно из результата выше, метод <em>ToString</em> не был наследован записью <em>InheritedRecord</em>.</p><p>Немного изменим запись <em>TestRec</em>, добавив ключевое слово <em>sealed</em>:</p><pre><code class="cs">public record TestRec(string name, string surname)
{
    public sealed override string ToString()
    {
        return $"{name} {surname}";
    }
}</code></pre><p>Заново создадим два экземпляра записей и напечатаем результат в консоль:</p><pre><code class="cs">TestRec myObj = new("Alex", "Johnson");
Console.WriteLine(myObj.ToString());
// Alex Johnson

InheritedRecord mySecObj = new("Thomas", "Brown");
Console.WriteLine(mySecObj.ToString());
// Thomas Brown</code></pre><p>И.. ура! Метод <em>ToString</em> был наследован в записи <em>InheritedRecord</em>.</p><h3>Упрощение доступа к вложенным полям и свойствам шаблонных свойств</h3><p>Версия языка C# 8.0 предоставила возможность использования шаблонных свойств, с помощью которых можно удобно сопоставлять поля и/или свойства какого-либо объекта с необходимыми значениями.</p><p>Ранее, если необходимо было проверить какое-либо вложенное свойство, то приходилось громоздить конструкцию:</p><pre><code class="cs">....{property: {subProperty: pattern}}....</code></pre><p>Сейчас достаточно лишь привычного добавления точек между свойствами:</p><pre><code class="cs">....{property.subProperty: pattern}....</code></pre><p>Рассмотрим изменение на примере метода взятия 4 первых символов имени.</p><pre><code class="cs">public record TestRec(string name, string surname);

string TakeFourSymbols(TestRec obj) => obj switch
{
    // старый способ:
    //TestRec { name: {Length: > 4} } rec => rec.name.Substring(0,4),

    // новый способ:
    TestRec { name.Length: > 4 } rec => rec.name.Substring(0,4),
    TestRec rec => rec.name,
};</code></pre><p>Как видно из примера выше, новый тип обращения к свойствам проще и понятнее, чем был раньше.</p><h3>Интерполирование константных строк</h3><p>Ранее данная возможность не поддерживалась, но в новой версии языка C# можно будет интерполировать и константные строки:</p><pre><code class="cs">const string constStrFirst = "FirstStr";
const string summaryConstStr = $"SecondStr {constStrFirst}";</code></pre><p><strong>Интересный факт.</strong> Данное нововведение относится к интерполированию строк, то есть добавление константного символа не допускается:</p><pre><code class="cs">const char a = 'a';
const string constStrFirst = "FirstStr";
const string summaryConstStr = $"SecondStr {constStrFirst} {a}";
// Error CS0133
// The expression being assigned to
// 'summaryConstStr' must be constant</code></pre><h3>Одновременное использование объявленных и инициализируемых переменных при деконструировании</h3><p>В старом варианте вызова деконструктора можно использовать ИЛИ объявленные переменные (все объявлены), ИЛИ переменные, которые мы инициализируем прямо при вызове (все НЕ объявлены):</p><pre><code class="cs">Car car = new("VAZ 2114", "Blue");

var (model, color) = car;
// Инициализация

string model = string.Empty;
string color = string.Empty;
(model, color) = car;
// Присваивание</code></pre><p>Новая версия языка допускает одновременное использование как объявленных ранее, так и не объявленных переменных при деконструировании:</p><pre><code class="cs">string model = string.Empty;
(model, var color) = car;
// Инициализация и присваивание</code></pre><p>В версии C# 9 возникала ошибка:</p><p><em>Error CS8184: A deconstruction cannot mix declarations and expressions on the left-hand-side.</em></p><h3>Заключение</h3><p>Как говорилось ранее, список изменений не столь велик, как в версии C# 9. Одни изменения упрощают работу, а другие разблокируют ранее недоступные возможности. Развитие не стоит на месте, а мы будем ждать новых обновлений языка C#.</p><p>Если вы еще не ознакомлены с нововведениями версии C# 9, то о них мы тоже подробно рассказывали в отдельной <a href="https://pvs-studio.com/ru/blog/posts/csharp/0860/">статье</a>.</p><p>Если вы хотите ознакомиться с первоисточником, можете прочесть <a href="https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-10">документацию Microsoft</a>.</p><p>Если хотите поделиться этой статьей с англоязычной аудиторией, то прошу использовать ссылку на перевод: Valentin Prokofiev. <a href="https://habr.com/en/company/pvs-studio/blog/584486/">What's new in C# 10: overview</a>.</p></div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BC%23%5D" class="tm-tags-list__link">C#</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BC%2310%5D" class="tm-tags-list__link">C#10</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B.net%5D" class="tm-tags-list__link">.net</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B.net%206%5D" class="tm-tags-list__link">.net 6</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/company/pvs-studio/blog/" class="tm-hubs-list__link router-link-active">
    Блог компании PVS-Studio
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/net/" class="tm-hubs-list__link">
    .NET
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/csharp/" class="tm-hubs-list__link">
    C#
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 36: ↑35 и ↓1</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 36: ↑35 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+34</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">16K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    47
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"><div class="tm-article-author__company"><div class="tm-article-author__company-card"><div class="tm-company-snippet"><a href="/ru/company/pvs-studio/profile/" class="tm-company-snippet__logo-link"><div class="tm-entity-image"><img alt="" height="40" src="//habrastorage.org/getpro/habr/company/95a/244/327/95a244327fc36477b6048c0f8b67df8b.png" width="40" class="tm-entity-image__pic"></div></a> <div class="tm-company-snippet__info"><a href="/ru/company/pvs-studio/profile/" class="tm-company-snippet__title">PVS-Studio</a> <div class="tm-company-snippet__description">Статический анализ кода для C, C++, C# и Java</div></div></div> <div class="tm-article-author__buttons"><!----> <!----></div></div> <div class="tm-article-author__company-contacts"><a href="https://pvs-studio.com/" rel="noopener" target="_blank" class="tm-article-author__contact">
      Сайт
    </a><a href="https://facebook.com/StaticCodeAnalyzer" rel="noopener" target="_blank" class="tm-article-author__contact">
      Facebook
    </a><a href="https://twitter.com/Code_Analysis" rel="noopener" target="_blank" class="tm-article-author__contact">
      Twitter
    </a><a href="https://instagram.com/pvsstudio_rus" rel="noopener" target="_blank" class="tm-article-author__contact">
      Instagram
    </a><a href="https://telegram.me/pvsstudio_rus" rel="noopener" target="_blank" class="tm-article-author__contact">
      Telegram
    </a></div> <div class="tm-article-author__separator"></div></div> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/DstRoses/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/a83/c4d/4b3/a83c4d4b3798df2dce80a03aab80caf1.png" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 17 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    13
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">34</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Валентин Прокофьев</span> <a href="/ru/users/DstRoses/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @DstRoses
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">C#</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/company/pvs-studio/blog/584490/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 41 
    </span></a> <!----></div></div></div>  <!---->  <!----> <!----></div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__placeholder_initial"></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <section class="tm-block tm-block_spacing-bottom"><header class="tm-block__header"><h2 class="tm-block__title">Информация</h2> <!----></header> <div class="tm-block__body"><div class="tm-company-basic-info"><dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Дата основания</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><span>
      2008
    </span></dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Местоположение</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
    Россия
  </dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Сайт</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><a href="https://pvs-studio.com/" target="_blank" class="tm-company-basic-info__link">
      pvs-studio.com
    </a></dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Численность</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
    31–50 человек
  </dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Дата регистрации</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><time datetime="2013-05-06T12:33:02.000Z" title="2013-05-06, 16:33">6  мая  2013</time></dd></dl> <!----></div></div> <!----></section> <div class="tm-company-widgets"></div> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/company/pvs-studio/blog/584490/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/company/pvs-studio/blog/584490/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"584490":{"id":"584490","timePublished":"2021-10-20T08:38:10+00:00","isCorporative":true,"lang":"ru","titleHtml":"Обзор нововведений в C# 10","leadData":{"textHtml":"\u003Cp\u003EВ данной статье мы рассмотрим новую версию языка C# 10, которая включает в себя небольшой список изменений относительно C# 9. Ниже приведены их описания вместе с поясняющими фрагментами кода. Давайте их рассмотрим.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F2d5\u002Fce8\u002Fbcb\u002F2d5ce8bcbeea1b3c5f8aed527bbb743c.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F2d5\u002Fce8\u002Fbcb\u002F2d5ce8bcbeea1b3c5f8aed527bbb743c.png","fit":"cover","positionY":0,"positionX":0}},"editorVersion":"2.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":13,"votesCount":17},"rating":34,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"2809401","alias":"DstRoses","fullname":"Валентин Прокофьев","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa83\u002Fc4d\u002F4b3\u002Fa83c4d4b3798df2dce80a03aab80caf1.png","speciality":"C#"},"statistics":{"commentsCount":41,"favoritesCount":47,"readingCount":16117,"score":34,"votesCount":36},"hubs":[{"relatedData":null,"id":"18095","alias":"pvs-studio","type":"corporative","title":"Блог компании PVS-Studio","titleHtml":"Блог компании PVS-Studio","isProfiled":false},{"relatedData":null,"id":"546","alias":"net","type":"collective","title":".NET","titleHtml":".NET","isProfiled":true},{"relatedData":null,"id":"17718","alias":"csharp","type":"collective","title":"C#","titleHtml":"C#","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EВ данной статье мы рассмотрим новую версию языка C# 10, которая включает в себя небольшой список изменений относительно C# 9. Ниже приведены их описания вместе с поясняющими фрагментами кода. Давайте их рассмотрим.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"242\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe20\u002F6bd\u002F2fb\u002Fe206bd2fb7dc507b1f0934d652da2448.png\" data-width=\"580\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Ch3\u003EИзменения структур\u003C\u002Fh3\u003E\u003Ch4\u003EИнициализация полей структуры\u003C\u002Fh4\u003E\u003Cp\u003EТеперь в структурах можно задать инициализацию полей и свойств:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Epublic struct User\n{\n    public User(string name, int age)\n    {\n        Name = name;\n        Age = age;\n    }\n    string Name { get; set; } = string.Empty;\n    int Age { get; set; } = 18;\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch4\u003EОбъявление конструктора структуры без параметров\u003C\u002Fh4\u003E\u003Cp\u003EВ C# 10 станет доступно создание конструктора без параметров для структур:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Epublic struct User\n{\n    public User()\n    {\n\n    }\n\n    public User(string name, int age)\n    {\n        Name = name;\n        Age = age;\n    }\n\n    string Name { get; set; } = string.Empty;\n    int Age { get; set; } = 18;\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cstrong\u003EВажно.\u003C\u002Fstrong\u003E Использовать конструктор без параметров можно только тогда, когда все поля и\u002Fили свойства имеют инициализаторы. Например, если не задать инициализатор \u003Cem\u003EAge\u003C\u002Fem\u003E, возникнет ошибка:\u003C\u002Fp\u003E\u003Cp\u003E\u003Cem\u003EError CS0843: Auto-implemented property 'User.Age' must be fully assigned before control is returned to the caller.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003Ch3\u003EПрименение выражения with к структуре\u003C\u002Fh3\u003E\u003Cp\u003EНовая версия C# делает доступным использование выражения \u003Cem\u003Ewith\u003C\u002Fem\u003E со структурами, как ранее это можно было сделать с записями. Пример:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Epublic struct User\n{\n    public User()\n    {\n\n    }\n\n    public User(string name, int age)\n    {\n        Name = name;\n        Age = age;\n    }\n\n    public string Name { get; set; } = string.Empty;\n    public int Age { get; set; } = 18;\n}\n\nUser myUser = new(\"Chris\", 21);\nUser otherUser = myUser with { Name = \"David\" };\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EОчевидно, что изменяемое свойство (в данном случае поле \u003Cem\u003EName\u003C\u002Fem\u003E) должно быть с публичным модификатором доступа.\u003C\u002Fp\u003E\u003Ch3\u003EГлобальное использование using\u003C\u002Fh3\u003E\u003Cp\u003EДанное нововведение позволит использовать директиву \u003Cem\u003Eusing\u003C\u002Fem\u003E с охватом всего проекта. Для этого необходимо перед фразой \u003Cem\u003Eusing\u003C\u002Fem\u003E добавить ключевое слово \u003Cem\u003Eglobal\u003C\u002Fem\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Eglobal using \"Пространство имен\"\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EТаким образом, можно не дублировать в разных файлах одни и те же пространства имён, используя директиву \u003Cem\u003Eusing\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EВажно.\u003C\u002Fstrong\u003E Применять данную конструкцию следует ПЕРЕД включениями \u003Cem\u003Eusing\u003C\u002Fem\u003E, которые объявлены без использования \u003Cem\u003Eglobal\u003C\u002Fem\u003E. Пример:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Eglobal using System.Text;\nusing System;\nusing System.Linq;\nusing System.Threading.Tasks;\n\u002F\u002F Корректная запись\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EВ ином случае:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Eusing System;\nusing System.Linq;\nusing System.Threading.Tasks;\nglobal using System.Text;\n\u002F\u002F Error CS8915\n\u002F\u002F A global using directive must precede\n\u002F\u002F all non-global using directives.\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EЕсли произошло так, что вы повторно включили одно пространство имён при условии, что оно было ранее включено с использованием ключевого слова \u003Cem\u003Eglobal\u003C\u002Fem\u003E, то об этом будет сообщено средой разработки (\u003Cem\u003EIDE: 0005: Using directive is unnecessary\u003C\u002Fem\u003E).\u003C\u002Fp\u003E\u003Ch3\u003Enamespace для всего файла\u003C\u002Fh3\u003E\u003Cp\u003EБывает такое, что пространство имён необходимо использовать во всём файле, но это может немного сдвинуть отступы текста программы. Теперь для решения этой проблемы добавлена возможность использования \u003Cem\u003Enamespace\u003C\u002Fem\u003E для всего файла. Для этого необходимо написать \u003Cem\u003Enamespace\u003C\u002Fem\u003E без использования блочных фигурных скобок:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Eusing System;\nusing System.Linq;\nusing System.Threading.Tasks;\n\nnamespace TestC10;\n\npublic class TestClass\n{\n    ....\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EРанее необходимо было тянуть на весь файл открытый блок \u003Cem\u003Enamespace\u003C\u002Fem\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Eusing System;\nusing System.Linq;\nusing System.Threading.Tasks;\n\nnamespace TestC10\n{\n    public class TestClass\n    {\n        ....\n    }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EОчевидно, указать в файле можно лишь один такого рода \u003Cem\u003Enamespace\u003C\u002Fem\u003E. То есть данная запись некорректна:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Enamespace TestC10;\nnamespace MyDir;\n\u002F\u002F Error CS8954\n\u002F\u002F Source file can only contain\n\u002F\u002F one file-scoped namespace declaration\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003Eкак и запись такого вида:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Enamespace TestC10;\nnamespace MyDir\n{\n    ....\n}\n\u002F\u002F Error CS8955\n\u002F\u002F Source file can not contain both\n\u002F\u002F file-scoped and normal namespace declarations.\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3\u003EИзменение записей\u003C\u002Fh3\u003E\u003Ch4\u003EКлючевое слово class\u003C\u002Fh4\u003E\u003Cp\u003EВ версии языка C# 10.0 было добавлено необязательное ключевое слово \u003Cem\u003Eclass\u003C\u002Fem\u003E у записей, которое лишь помогает при чтении кода определить принадлежность записи к ссылочному типу.\u003C\u002Fp\u003E\u003Cp\u003EТо есть две следующие записи идентичны:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Epublic record class Test(string Name, string Surname);\npublic record Test(string Name, string Surname);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch4\u003EСтруктуры записей\u003C\u002Fh4\u003E\u003Cp\u003EТакже теперь можно создавать структуры записей:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Erecord struct Test(string Name, string Surname)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EПо умолчанию, свойства данной записи можно изменять, в отличие от стандартной \u003Cem\u003Erecord\u003C\u002Fem\u003E, в которой модификатор изменения полей – \u003Cem\u003Einit\u003C\u002Fem\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Estring Name { get; set; }\nstring Surname { get; set; }\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EК данной структуре можно применить свойство \u003Cem\u003Ereadonly\u003C\u002Fem\u003E, тогда доступ к полям будет подобен обычной записи:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Ereadonly record struct Test(string Name, string Surname);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003Eгде свойства записаны как:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Estring Name { get; init; }\nstring Surname { get; init; }\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EРавенство двух объектов структуры записей схоже с равенством двух обычных структур – равенство истинно, если эти два объекта хранят одни и те же данные:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Evar firstRecord = new Person(\"Nick\", \"Smith\");\nvar secondRecord = new Person(\"Robert\", \"Smith\");\nvar thirdRecord = new Person(\"Nick\", \"Smith\");\n\nConsole.WriteLine(firstRecord == secondRecord);\n\u002F\u002F False\nConsole.WriteLine(firstRecord == thirdRecord);\n\u002F\u002F True\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EСтоит отметить, что для структур записей не генерируется конструктор копирования. Если определить его и использовать ключевое слово *with *при инициализации нового объекта, то вызываться будет оператор присваивания, вместо конструктора копирования (как это происходит при работе с \u003Cem\u003Erecord class\u003C\u002Fem\u003E).\u003C\u002Fp\u003E\u003Ch4\u003EЗапечатывание метода ToString\u003C\u002Fh4\u003E\u003Cp\u003EКак писал мой коллега в статье о \u003Ca href=\"https:\u002F\u002Fpvs-studio.com\u002Fru\u002Fblog\u002Fposts\u002Fcsharp\u002F0860\u002F\"\u003Eнововведениях в C# 9\u003C\u002Fa\u003E, у записей имеется метод \u003Cem\u003EToString\u003C\u002Fem\u003E, который можно переопределить. Но при наследовании есть одна особенность: переопределенный вами метод \u003Cem\u003EToString\u003C\u002Fem\u003E не будет унаследован потомками от родительской записи. Для того чтобы потомки записей наследовали метод \u003Cem\u003EToString\u003C\u002Fem\u003E, стало доступно использование ключевого слова \u003Cem\u003Esealed\u003C\u002Fem\u003E, которое запрещает компилятору генерировать имплементацию метода \u003Cem\u003EToString\u003C\u002Fem\u003E у дочерних записей. Данное ключевое слово указывается при переопределении метода \u003Cem\u003EToString\u003C\u002Fem\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Epublic sealed override string ToString()\n{\n    ....\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EСоздадим следующую запись, включая переопределение метода \u003Cem\u003EToString\u003C\u002Fem\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Epublic record TestRec(string name, string surname)\n{\n    public override string ToString()\n    {\n        return $\"{name} {surname}\";\n    }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EИ наследуем от него вторую запись:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Epublic record InheritedRecord : TestRec\n{\n    public InheritedRecord(string name, string surname)\n    :base(name, surname)\n    {\n\n    }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EТеперь создадим по экземпляру каждой из записей и напечатаем результат в консоль:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003ETestRec myObj = new(\"Alex\", \"Johnson\");\nConsole.WriteLine(myObj.ToString());\n\u002F\u002F Alex Johnson\n\nInheritedRecord mySecObj = new(\"Thomas\", \"Brown\");\nConsole.WriteLine(mySecObj.ToString());\n\u002F\u002F inheritedRecord { name = Thomas, surname = Brown}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EКак видно из результата выше, метод \u003Cem\u003EToString\u003C\u002Fem\u003E не был наследован записью \u003Cem\u003EInheritedRecord\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\u003Cp\u003EНемного изменим запись \u003Cem\u003ETestRec\u003C\u002Fem\u003E, добавив ключевое слово \u003Cem\u003Esealed\u003C\u002Fem\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Epublic record TestRec(string name, string surname)\n{\n    public sealed override string ToString()\n    {\n        return $\"{name} {surname}\";\n    }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EЗаново создадим два экземпляра записей и напечатаем результат в консоль:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003ETestRec myObj = new(\"Alex\", \"Johnson\");\nConsole.WriteLine(myObj.ToString());\n\u002F\u002F Alex Johnson\n\nInheritedRecord mySecObj = new(\"Thomas\", \"Brown\");\nConsole.WriteLine(mySecObj.ToString());\n\u002F\u002F Thomas Brown\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EИ.. ура! Метод \u003Cem\u003EToString\u003C\u002Fem\u003E был наследован в записи \u003Cem\u003EInheritedRecord\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\u003Ch3\u003EУпрощение доступа к вложенным полям и свойствам шаблонных свойств\u003C\u002Fh3\u003E\u003Cp\u003EВерсия языка C# 8.0 предоставила возможность использования шаблонных свойств, с помощью которых можно удобно сопоставлять поля и\u002Fили свойства какого-либо объекта с необходимыми значениями.\u003C\u002Fp\u003E\u003Cp\u003EРанее, если необходимо было проверить какое-либо вложенное свойство, то приходилось громоздить конструкцию:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003E....{property: {subProperty: pattern}}....\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EСейчас достаточно лишь привычного добавления точек между свойствами:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003E....{property.subProperty: pattern}....\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EРассмотрим изменение на примере метода взятия 4 первых символов имени.\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Epublic record TestRec(string name, string surname);\n\nstring TakeFourSymbols(TestRec obj) =\u003E obj switch\n{\n    \u002F\u002F старый способ:\n    \u002F\u002FTestRec { name: {Length: \u003E 4} } rec =\u003E rec.name.Substring(0,4),\n\n    \u002F\u002F новый способ:\n    TestRec { name.Length: \u003E 4 } rec =\u003E rec.name.Substring(0,4),\n    TestRec rec =\u003E rec.name,\n};\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EКак видно из примера выше, новый тип обращения к свойствам проще и понятнее, чем был раньше.\u003C\u002Fp\u003E\u003Ch3\u003EИнтерполирование константных строк\u003C\u002Fh3\u003E\u003Cp\u003EРанее данная возможность не поддерживалась, но в новой версии языка C# можно будет интерполировать и константные строки:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Econst string constStrFirst = \"FirstStr\";\nconst string summaryConstStr = $\"SecondStr {constStrFirst}\";\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cstrong\u003EИнтересный факт.\u003C\u002Fstrong\u003E Данное нововведение относится к интерполированию строк, то есть добавление константного символа не допускается:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Econst char a = 'a';\nconst string constStrFirst = \"FirstStr\";\nconst string summaryConstStr = $\"SecondStr {constStrFirst} {a}\";\n\u002F\u002F Error CS0133\n\u002F\u002F The expression being assigned to\n\u002F\u002F 'summaryConstStr' must be constant\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3\u003EОдновременное использование объявленных и инициализируемых переменных при деконструировании\u003C\u002Fh3\u003E\u003Cp\u003EВ старом варианте вызова деконструктора можно использовать ИЛИ объявленные переменные (все объявлены), ИЛИ переменные, которые мы инициализируем прямо при вызове (все НЕ объявлены):\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003ECar car = new(\"VAZ 2114\", \"Blue\");\n\nvar (model, color) = car;\n\u002F\u002F Инициализация\n\nstring model = string.Empty;\nstring color = string.Empty;\n(model, color) = car;\n\u002F\u002F Присваивание\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EНовая версия языка допускает одновременное использование как объявленных ранее, так и не объявленных переменных при деконструировании:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"cs\"\u003Estring model = string.Empty;\n(model, var color) = car;\n\u002F\u002F Инициализация и присваивание\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EВ версии C# 9 возникала ошибка:\u003C\u002Fp\u003E\u003Cp\u003E\u003Cem\u003EError CS8184: A deconstruction cannot mix declarations and expressions on the left-hand-side.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003Ch3\u003EЗаключение\u003C\u002Fh3\u003E\u003Cp\u003EКак говорилось ранее, список изменений не столь велик, как в версии C# 9. Одни изменения упрощают работу, а другие разблокируют ранее недоступные возможности. Развитие не стоит на месте, а мы будем ждать новых обновлений языка C#.\u003C\u002Fp\u003E\u003Cp\u003EЕсли вы еще не ознакомлены с нововведениями версии C# 9, то о них мы тоже подробно рассказывали в отдельной \u003Ca href=\"https:\u002F\u002Fpvs-studio.com\u002Fru\u002Fblog\u002Fposts\u002Fcsharp\u002F0860\u002F\"\u003Eстатье\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Cp\u003EЕсли вы хотите ознакомиться с первоисточником, можете прочесть \u003Ca href=\"https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fdotnet\u002Fcsharp\u002Fwhats-new\u002Fcsharp-10\"\u003Eдокументацию Microsoft\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Cp\u003EЕсли хотите поделиться этой статьей с англоязычной аудиторией, то прошу использовать ссылку на перевод: Valentin Prokofiev. \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fen\u002Fcompany\u002Fpvs-studio\u002Fblog\u002F584486\u002F\"\u003EWhat's new in C# 10: overview\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"C#"},{"titleHtml":"C#10"},{"titleHtml":".net"},{"titleHtml":".net 6"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F2d5\u002Fce8\u002Fbcb\u002F2d5ce8bcbeea1b3c5f8aed527bbb743c.png","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F2d5\u002Fce8\u002Fbcb\u002F2d5ce8bcbeea1b3c5f8aed527bbb743c.png","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompany\\\u002Fpvs-studio\\\u002Fblog\\\u002F584490\\\u002F\"},\"headline\":\"Обзор нововведений в C# 10\",\"datePublished\":\"2021-10-20T11:38:10+03:00\",\"dateModified\":\"2021-10-21T15:15:30+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Валентин Прокофьев\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"В данной статье мы рассмотрим новую версию языка C# 10, которая включает в себя небольшой список изменений относительно C# 9. Ниже приведены их описания вместе с...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompany\\\u002Fpvs-studio\\\u002Fblog\\\u002F584490\\\u002F#post-content-body\",\"about\":[\"c_pvs-studio\",\"h_net\",\"h_csharp\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F584490\\\u002F612676b3373db5d33678fcb78366558c\\\u002F\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fe20\\\u002F6bd\\\u002F2fb\\\u002Fe206bd2fb7dc507b1f0934d652da2448.png\"]}","metaDescription":"В данной статье мы рассмотрим новую версию языка C# 10, которая включает в себя небольшой список изменений относительно C# 9. Ниже приведены их описания вместе с поясняющими фрагментами кода. Давайте...","mainImageUrl":null,"amp":true},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":""},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{"pvs-studio":{"alias":"pvs-studio","imageUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fcompany\u002F95a\u002F244\u002F327\u002F95a244327fc36477b6048c0f8b67df8b.png","titleHtml":"PVS-Studio","descriptionHtml":"Статический анализ кода для C, C++, C# и Java","relatedData":null,"statistics":{"postsCount":643,"newsCount":0,"vacanciesCount":0,"employeesCount":32,"careerRating":null,"subscribersCount":22916,"rating":266.05,"invest":null},"foundationDate":{"year":"2008","month":null,"day":null},"location":{"city":{"id":"448142","title":"Тула"},"region":{"id":"2013","title":"Тульская обл."},"country":{"id":"168","title":"Россия"}},"siteUrl":"https:\u002F\u002Fpvs-studio.com\u002F","staffNumber":"31–50 человек","registrationDate":"2013-05-06T12:33:02+00:00","representativeUser":null,"contacts":[{"title":"Сайт","url":"https:\u002F\u002Fpvs-studio.com\u002F"},{"title":"Facebook","url":"https:\u002F\u002Ffacebook.com\u002FStaticCodeAnalyzer"},{"title":"Twitter","url":"https:\u002F\u002Ftwitter.com\u002FCode_Analysis"},{"title":"Instagram","url":"https:\u002F\u002Finstagram.com\u002Fpvsstudio_rus"},{"title":"Telegram","url":"https:\u002F\u002Ftelegram.me\u002Fpvsstudio_rus"}],"settings":{"analyticsSettings":[{"type":"ga","trackingId":"UA-58546680-1"}],"branding":null,"status":"active"},"metadata":{"titleHtml":"PVS-Studio, Тула - Статический анализ кода для C, C++, C# и Java с 2008 год","title":"PVS-Studio, Тула - Статический анализ кода для C, C++, C# и Java с 2008 год","keywords":["C++","C#",".NET","Информационная безопасность","C"],"descriptionHtml":"643 статьи от авторов компании PVS-Studio","description":"643 статьи от авторов компании PVS-Studio"},"aDeskSettings":null,"careerAlias":null,"maxCustomTrackerLinks":0}},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
