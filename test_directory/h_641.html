<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Порараз бирацца: как мы учились писать автотесты на Python и что у нас получилось / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/company\/magnit\/blog\/582992\/"},"headline":"Порараз бирацца: как мы учились писать автотесты на Python и что у нас получилось","datePublished":"2021-10-12T13:48:38+03:00","dateModified":"2021-10-12T16:08:51+03:00","author":{"@type":"Person","name":"Temak01"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Привет, Хабр! Меня зовут Артем Иванюта, в &laquo;Магните&raquo; я занимаюсь тестированием информационных систем закупок. В статье я расскажу, как наша команда запускала авто...","url":"https:\/\/habr.com\/ru\/company\/magnit\/blog\/582992\/#post-content-body","about":["c_magnit","h_webdev","h_it_testing","h_web_testing","f_develop"],"image":["https:\/\/habr.com\/share\/publication\/582992\/2e9b29ef5dbbc5838ad4faec7ba3cc9d\/","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/116\/8ee\/26a\/1168ee26a8a89fdc12046ed7d4a00600.jpeg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/f5e\/d94\/985\/f5ed94985fc59c1bf1dd7fd9d357cc24.jpeg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/255\/1fc\/07e\/2551fc07ebe94167b660a35c0d9bd465.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/dd4\/724\/998\/dd472499833d704b0b34c0a1caf45376.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9d7\/f16\/f75\/9d7f16f75a64a61e2fe57c965cc28373.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/07c\/41a\/3d6\/07c41a3d6ea7f27148c578258a785127.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/b13\/99a\/e33\/b1399ae33886838ee36bd61520aef3ba.jpg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/c39\/e69\/72e\/c39e6972ecc8f735daa9afbd87f75f45.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/bee\/ee9\/c31\/beeee9c31c8e07afcf38f741617892f3.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/b5f\/bd7\/eb0\/b5fbd7eb00e7ccc497de292f9db89b87.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/61e\/789\/f86\/61e789f863e72b22efa7ea55dc7653bc.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/4cc\/e42\/fc5\/4cce42fc5b8af459cddc1663c1fe572f.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Порараз бирацца: как мы учились писать автотесты на Python и что у нас получилось" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Порараз бирацца: как мы учились писать автотесты на Python и что у нас получилось" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Порараз бирацца: как мы учились писать автотесты на Python и что у нас получилось" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Привет, Хабр! Меня зовут Артем Иванюта, в «Магните» я занимаюсь тестированием информационных систем закупок. В статье я расскажу, как наша команда запускала автотесты web-интерфейсов силами одного..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Привет, Хабр! Меня зовут Артем Иванюта, в «Магните» я занимаюсь тестированием информационных систем закупок. В статье я расскажу, как наша команда запускала автотесты web-интерфейсов силами одного..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Привет, Хабр! Меня зовут Артем Иванюта, в «Магните» я занимаюсь тестированием информационных систем закупок. В статье я расскажу, как наша команда запускала автотесты web-интерфейсов силами одного..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Привет, Хабр! Меня зовут Артем Иванюта, в «Магните» я занимаюсь тестированием информационных систем закупок. В статье я расскажу, как наша команда запускала автотесты web-интерфейсов силами одного..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Привет, Хабр! Меня зовут Артем Иванюта, в «Магните» я занимаюсь тестированием информационных систем закупок. В статье я расскажу, как наша команда запускала автотесты web-интерфейсов силами одного..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habrastorage.org/getpro/habr/upload_files/5d3/bfb/edf/5d3bfbedffff29da88e2a84461acbab8.jpg" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habrastorage.org/getpro/habr/upload_files/5d3/bfb/edf/5d3bfbedffff29da88e2a84461acbab8.jpg" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habrastorage.org/getpro/habr/upload_files/5d3/bfb/edf/5d3bfbedffff29da88e2a84461acbab8.jpg" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habrastorage.org/getpro/habr/upload_files/5d3/bfb/edf/5d3bfbedffff29da88e2a84461acbab8.jpg" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habrastorage.org/getpro/habr/upload_files/5d3/bfb/edf/5d3bfbedffff29da88e2a84461acbab8.jpg" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="582992" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2021-10-12T10:48:38.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/582992/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/company/magnit/blog/582992/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habrastorage.org/getpro/habr/upload_files/5d3/bfb/edf/5d3bfbedffff29da88e2a84461acbab8.jpg" data-vmid="image:href"><link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/582992/">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" companyName="magnit" data-async-called="true" class="tm-page"><div class="tm-page-width"><div class="tm-page__header"><div class="tm-company-card__branding tm-company-article__branding tm-company-card__branding_loading"><div class="tm-company-card__branding-placeholder"><!----></div> <a href="https://www.magnit.tech/"><img src="//habrastorage.org/getpro/habr/branding/f6b/f6b/d64/f6bf6bd640e479d5ba4bc3e290073c82.jpg" width="100%" class="tm-company-card__branding-image"></a></div></div> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"><div class="tm-company-card tm-company-article__company-card"><div class="tm-company-card__info"><div class="tm-company-card__header"><a href="/ru/company/magnit/profile/" class="tm-company-card__avatar"><div class="tm-entity-image"><img alt="" height="48" src="//habrastorage.org/getpro/habr/company/698/2e3/70c/6982e370c76af5e20ebcc636213ce10b.png" width="48" class="tm-entity-image__pic"></div></a> <!----> <div class="tm-rating tm-company-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">58.66</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div> <div class="tm-company-card__info"><a href="/ru/company/magnit/profile/" class="tm-company-card__name">
        Магнит
      </a> <div class="tm-company-card__description">Сложные IT системы для простых покупок</div></div></div> <div class="tm-company-card__buttons"><!----> <!----></div></div> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/Temak01/" title="Temak01" class="tm-user-info__userpic"><div class="tm-entity-image"><svg height="24" width="24" class="tm-svg-img tm-image-placeholder tm-image-placeholder_green"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <span class="tm-user-info__user"><a href="/ru/users/Temak01/" class="tm-user-info__username">
      Temak01
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2021-10-12T10:48:38.000Z" title="2021-10-12, 13:48">12  октября   в 13:48</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Порараз бирацца: как мы учились писать автотесты на Python и что у нас получилось</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/company/magnit/blog/" class="tm-article-snippet__hubs-item-link router-link-active"><span>Блог компании Магнит</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/webdev/" class="tm-article-snippet__hubs-item-link"><span>Разработка веб-сайтов</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/it_testing/" class="tm-article-snippet__hubs-item-link"><span>Тестирование IT-систем</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/web_testing/" class="tm-article-snippet__hubs-item-link"><span>Тестирование веб-сервисов</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><figure class=""><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/116/8ee/26a/1168ee26a8a89fdc12046ed7d4a00600.jpeg" width="800" height="400" data-src="https://habrastorage.org/getpro/habr/upload_files/116/8ee/26a/1168ee26a8a89fdc12046ed7d4a00600.jpeg" data-blurred="true"/><figcaption></figcaption></figure><p>Привет, Хабр! Меня зовут Артем Иванюта, в «Магните» я занимаюсь тестированием информационных систем закупок. В статье я расскажу, как наша команда запускала автотесты web-интерфейсов силами одного сотрудника, как мы вписали их в CI/CD-процесс и с чем столкнулись, решая задачу. Кстати, вы наверняка уже догадались, но все-таки скажу — да, я и есть тот самый «один сотрудник». Так что никакого кликбейта.</p><h3>Одиннадцать друзей Иванюты</h3><p>В нашей команде 11 человек, мы отвечаем за тестирование 15 информационных систем. Всего в «Магните» их больше 600. Мы занимаемся тестированием web-инструментов цепочки поставок розничной сети. Это, например:</p><ol><li><p>система автоматизированных рабочих мест сотрудников;</p></li><li><p>SRM-система снабжения сырьем собственных производств и закупочной логистики;</p></li><li><p>электронный документооборот EDI;</p></li><li><p>информационная система графика поставок товара в магазины,</p></li><li><p>система управления ареалами AMS. </p></li></ol><p>В масштабах «Магнита» это 25 000 пользователей — наших сотрудников, 4 500 — контрагентов и 16 000 торговых точек. Мы производим релизы ежедневно, а сам цикл в среднем составляет от 2 до 4 недель. По сути от нас зависит своевременная поставка товаров тысяч поставщиков на полки 16 тысяч магазинов (и много чего еще).</p><h3>Восстание машин: срываем релизы</h3><p>Мой путь в компании начался в 2014 году с отдела технического сопровождения торговых точек. Я занимался удаленной поддержкой и настройкой оборудования в гипермаркетах «Магнит». Это были кассы, системы эквайринга, серверы. </p><p>В 2018 году отдел тестирования запустил внутреннюю школу тестировщиков. За месяц я освоил базу и навыки, а затем перешел в команду тестирования web-интерфейсов. Пришел я как раз вовремя: поток входящих задач начал стремительно расти. Компания пошла по пути DevOps. Запускались новые системы, серьезно обновлялись основные.</p><p>К началу 2019 года объем тестирования увеличился вдвое. Так количество тикетов на каждого возросло в среднем с 30 до 70 в месяц, а горизонт планирования релизов сдвинулся на 2 месяца вперед. </p><p>При этом количество людей в команде оставалось прежним — все те же 11 друзей Иванюты:)</p><p>Когда графики релизов начали срываться на регулярной основе, а рутинные операции  занимать больше 50% времени, мы поняли, что дальше так не потянем. Тогда и было принято решение часть сценариев покрыть автотестами. </p><figure class=""><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/f5e/d94/985/f5ed94985fc59c1bf1dd7fd9d357cc24.jpeg" width="480" height="270" data-src="https://habrastorage.org/getpro/habr/upload_files/f5e/d94/985/f5ed94985fc59c1bf1dd7fd9d357cc24.jpeg" data-blurred="true"/><figcaption></figcaption></figure><h3>Путь в питонисты</h3><p>До 2019 года никто из нашей команды не занимался автотестами, 100% тестов обрабатывались вручную. Никто из нашей команды не умел кодить. И конечно мы не могли снижать темп основных задач. Поэтому всей командой уйти в обучение автоматизации тестирования тоже было нельзя. Решили, что в разведку пойдет кто-то один. Мне было интересно попробовать: я изучил опыт сообщества и остановился на python. Python считается универсальным языком, поскольку подходит под множество задач. К примеру, на Python написан Instagram, его используют в аналитике данных, запуске космических кораблей и... в автоматизации тестирования. Чтобы скорость работы команды не снижалась, приняли совместное решение — я иду обучаться, команда забирает 80% моих задач. </p><p>Какие цели мы поставили для внедрения автотестов:</p><ol><li><p>Увеличение скорости тестирования.</p><p>Мы накопили довольно большую библиотеку регрессионных сценариев тестирования различных веб-интерфейсов. Релизы в команде проводятся каждый день, поэтому регресс востребован и выполняется тестировщиками регулярно вручную. Его выполнение занимало не меньше 8 часов, а автоматизированные тесты могли сократить время на обработку регресса до 95% и больше. </p></li><li><p>Повышение качества тестирования.</p><p>При частом прогоне рутинных проверок всегда есть риск пропустить ошибку. Машина же совершит её с меньшей вероятностью за счёт многократного прогона автотестов. Разработчик самостоятельно может запустить автотестирование после изменения кода без помощи тестировщика. То есть это время команды освобождается для других задач.</p></li><li><p>Рост экспертизы.</p><p>Разработанные автотесты нужно сопровождать и развивать. Мы решили сделать ставку на развитии своей команды и запустили "Школу автотестирования".  Я на себе прочувствовал, как «заряжает» обучение на реальных задачах. В Магнит я прошел такой опыт дважды, получив и новую экспертизу, и развитие. Программу Школы выстроили по такому же принципу — много практики и реального опыта. </p></li><li><p>Поддержка DevOps-стратегии компании.</p><p>В 2018 году «Магнит» взял курс на развитие DevOps. Наши 15 систем не стали исключением. Их ждали обновление и переход на новые практики и инструменты. Автотесты — одна из обязательных стадий процесса CI/CD. </p></li></ol><p>Вот так архитектурно он выстроен у нас:</p><figure class=""><img src="/img/image-loader.svg" height="282" data-src="https://habrastorage.org/getpro/habr/upload_files/255/1fc/07e/2551fc07ebe94167b660a35c0d9bd465.png" data-width="990"/><figcaption></figcaption></figure><p>Так мы договорились о целях и тактике. Следующая задача — понять, что именно покрывать автоматизацией.</p><h3>Автоматизируем регресс</h3><p>Мы обновляем информационные системы «Магнита» под условия бизнеса практически ежедневно:</p><p>Во-первых, мы следуем конкретному плану изменений и обновлений систем. Такой план формируем внутри ИТ ежемесячно для каждой системы. </p><p>Во-вторых, пользователи от бизнеса направляют запросы на новый функционал. В среднем на сотрудника приходится по 2–3 системы в день. </p><p>Получается, попытка автоматизировать все кейсы сразу была бы обречена на провал: сил могло хватить только на актуализацию тестовых сценариев. </p><p>После анализа всей базы тестовых случаев для автоматизации выбрали регрессионные сценарии. </p><p>Для нас регресс — один из самых трудоемких этапов тестирования, так как он направлен на проверку и выявление ошибок в статичном функционале. Такой функционал или не меняется, или меняется редко. Значит, каждый день мы выполняем именно типовые проверки.</p><p>В каждом регрессионном сценарии более 100 кейсов. Зачастую кейсы связаны между собой. Поэтому первое, что я сделал, — провел анализ тестовых случаев на предмет критичности и взаимосвязи функциональности.</p><p>В TMS системе TestRail создал 3 группы приоритета регрессионных сценариев для последующей автоматизации:</p><ol><li><p>Критичный — например, кейсы направлены на проверку доступности всех вкладок, кнопок, фундаментальной логики приложения. Ошибки в этой группе тестов могут привести к полной блокировке работы инструмента;</p></li><li><p>Высокий — кейсы в большей степени направлены на проверку бизнес-логики и алгоритмов инструмента. Ошибки в этой группе тестов могут привести к некорректным данным, повлиять на работу самого приложения и связанных с ним систем;</p></li><li><p>Низкий — кейсы не влияют на бизнес-процессы, но должны выполняться при каждом регрессе. Например, поиск, фильтрация и другие.</p></li></ol><p>Теперь расскажу про пошаговую настройку процесса и инструментов.</p><h3>Запускаем змея на Pytest</h3><p>Я использовал Python и его фреймворк Pytest. Оба инструмента широко используются в мире тестирования, по ним накоплена база знаний, есть много плагинов. Поэтому вместе с Selenium WebDriver такой набор удовлетворяет всем потребностям в тестировании web-интерфейсов.</p><p>Для работы с базой данных я использовал библиотеку SQLAlchemy. Это одна из самых популярных библиотек для работы с СУБД для Python. </p><figure class=""><img src="/img/image-loader.svg" height="237" data-src="https://habrastorage.org/getpro/habr/upload_files/dd4/724/998/dd472499833d704b0b34c0a1caf45376.png" data-width="795"/><figcaption></figcaption></figure><p>При создании структуры проекта брал паттерн Page Object. Этот шаблон проектирования позволяет разделить код тестов и описание страниц. Так тесты приобретают читаемый вид, а методы работы со страницей мы можем переиспользовать. Результат: упрощаем поддержку кода и уменьшаем его количество.</p><p>Структура проекта выглядит так:</p><figure class=""><img src="/img/image-loader.svg" height="358" data-src="https://habrastorage.org/getpro/habr/upload_files/9d7/f16/f75/9d7f16f75a64a61e2fe57c965cc28373.png" data-width="276"/><figcaption></figcaption></figure><p>Папки:</p><ol><li><p>Configuration – для настройки подключения к БД, учетные данные для авторизации в приложении;</p></li><li><p>Locators – хранит локаторы для поиска элементов на странице;</p></li><li><p>Pages – содержит методы для работы со страницами. Для каждой вкладки приложения используется своя страница с методами работы с ней;</p></li><li><p>Tests – хранит сами тесты;</p></li><li><p>Tools – хранит инструменты для подключения к БД. Это создание самого подключения, методы работы с БД, запросы к БД.</p></li></ol><p>Файлы:</p><ol><li><p>conftest.py — хранение фикстур. Фикстуры в контексте pytest — это вспомогательные функции для наших тестов, которые не являются частью тестового сценария;</p></li><li><p>pytest.ini – для регистрации меток маркировки тестов;</p></li><li><p>requirements.txt – файл зависимостей приложения для автоматической установки пакетов python с помощью утилиты pip;</p></li><li><p>testrail.cfg – конфигурационный файл с настройками для TestRail.</p></li></ol><p>Помещаем в base_page методы или локаторы, которые используются в кейсах для разных страниц:</p><figure class=""><img src="/img/image-loader.svg" height="542" data-src="https://habrastorage.org/getpro/habr/upload_files/07c/41a/3d6/07c41a3d6ea7f27148c578258a785127.png" data-width="370"/><figcaption></figcaption></figure><p>Как в итоге выглядит тест? Лаконично :)</p><pre><code>@pytestrail.case('C128952')
 @pytest.mark.order_gm
 def test_btn_filter(self):
     self.orders_gm.click_on_btn_filter()
     self.orders_gm.should_be_open_filter_form()
     self.orders_gm.click_on_whs()
     self.orders_gm.input_name_gm_in_filter_form()
     self.orders_gm.click_on_search_trigger()
     self.orders_gm.click_on_x_tree_selected()
     self.orders_gm.click_on_whs()
     self.orders_gm.input_docdate_from()
     self.orders_gm.input_docdate_to()
     self.orders_gm.click_on_btn_filter_2()
     self.orders_gm.should_be_row_in_grid_table_3()</code></pre><p>В  pages мы расписываем сами методы. Клик на кнопку:</p><pre><code>def click_on_btn_filter(self):
     btn = self.browser.find_element(*BasePageLocators.BUTTON_FILTER)
     btn.click()</code></pre><p>Локаторы отдельно:</p><pre><code>BUTTON_FILTER = (By.XPATH, '//button[text() = "Фильтр"]')</code></pre><p>Для поиска элементов на странице я использовал язык запросов XPath. Часть элементов страницы имеют уникальные name или id, которые указали разработчики фронта, поэтому к ним легко обращаться:</p><pre><code>CONTR_ID = (By.XPATH, '//*[@id = "contr_id_view"]')</code></pre><p>А другая часть не имеет таких уникальных идентификаторов, поэтому здесь помогают возможности языка XPath:</p><pre><code>X_COMBO_SELECTED_LAST = (By.XPATH, '(//*[@class = "x-combo-list-item x-combo-selected"])[last()]')</code></pre><p>Запуск и закрытие браузера вынесены в conftest.py. </p><p>Добавляем функцию, например так:</p><pre><code>def pytest_addoption(parser):
     parser.addoption('--browser_name', action='store', default="chrome",
                      help="Choose browser")</code></pre><p>И фикстуру:</p><pre><code>@pytest.fixture(scope="function")
 def browser(request):
     browser_name = request.config.getoption("browser_name")
     if browser_name == "chrome":
         capabilities = {
             "acceptInsecureCerts": True,
             "browserName": "chrome",
             "version": "73.0",
             "enableVNC": True,
             "enableVideo": False,
             "name": "Interface name"
         }
 
        browser = webdriver.Remote(command_executor="http://10.8.153.230:4444/wd/hub",
                                    desired_capabilities=capabilities)
         browser.maximize_window()
 
    else:
         raise pytest.UsageError("--browser_name should be chrome or firefox")
 
    yield browser
     browser.quit()</code></pre><p>В самом тесте мы не расписываем авторизацию и переход на нужную вкладку, это все выносится в setup с помощью фикстуры: </p><pre><code>@pytest.fixture(scope="function", autouse=True) 
 def setup(self, browser):
    # Переход к странице авторизации  
    login_page = LoginPage(browser)  
    login_page.open() 
    login_page.authentication()  
    # Переход на вкладку  
    login_page.open_tab_orders_gm()
    self.orders_gm = OrdersGMPage(browser, browser.current_url) </code></pre><p>В параметрах фикстуры уже можно указать, когда его использовать. В данном случае наш setup запускается перед каждой функцией (тестом) с помощью параметра <code>scope="function"</code>.</p><p><strong>Ключ на старт: запускаемся через Gitlab CI</strong></p><p>Для каждого проекта есть свой job в Gitlab CI, который запускается при необходимости. Последняя версия проекта тянется с репозитория. </p><p>Прогон самих тестов происходит на Selenoid. С помощью графической оболочки можно увидеть информацию о запущенных браузерах, их версиях, разрешении.</p><figure class="full-width "><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/b13/99a/e33/b1399ae33886838ee36bd61520aef3ba.jpg" width="948" height="434" data-src="https://habrastorage.org/getpro/habr/upload_files/b13/99a/e33/b1399ae33886838ee36bd61520aef3ba.jpg" data-blurred="true"/><figcaption></figcaption></figure><p>Развернув интерфейс тестирования можно увидеть, что происходит в режиме реального времени:</p><figure class="full-width "><img src="/img/image-loader.svg" height="518" data-src="https://habrastorage.org/getpro/habr/upload_files/c39/e69/72e/c39e6972ecc8f735daa9afbd87f75f45.png" data-width="944"/><figcaption></figcaption></figure><p>Selenoid создаёт для каждого теста чистый браузер, в котором выполняется автотест. После его завершения происходит удаление данных с помощью Python. Тесты не зависят друг от друга и могут запускаться в несколько потоков. Тестировать приложение можно одновременно с нескольких браузеров. Для запуска тестов в потоках используется pytest-xdist плагин. В команду запуска добавляется параметр -n &lt;количество потоков>.</p><p>Фреймворк Pytest позволяет выбрать часть кейсов или пропускать те, которые сейчас не нужны. Например, для кейсов по одной вкладке приложения ставим маркировку @pytest.mark и запускаем тестирование нужной вкладки приложения. Фикстуры позволяют запустить тестирование в нужной версии браузера.</p><p><strong>Получаем отчет в TestRail</strong></p><p>Основным инструментом получения отчетности служит TestRail. Каждый автотест связан с кейсом в TestRail. Для связи использую глобальный идентификатор кейса через плагин pytest_testrail. Настройка выполняется в конфигурации testrail.cfg на основе <a href="https://pypi.org/project/pytest-testrail/">документации</a>. В начале кейса нужно добавить строчку вида <code>@pytestrail.case('C128952')</code>.</p><p>Так выглядит результат выполнения автотестов, переданный в TestRail: </p><figure class="full-width "><img src="/img/image-loader.svg" height="306" data-src="https://habrastorage.org/getpro/habr/upload_files/bee/ee9/c31/beeee9c31c8e07afcf38f741617892f3.png" data-width="720"/><figcaption></figcaption></figure><p>В названии передаю id джобы и название интерфейса, который тестирую. Вижу полную информацию по тестам, которые прошли успешно:</p><figure class="full-width "><img src="/img/image-loader.svg" height="78" data-src="https://habrastorage.org/getpro/habr/upload_files/b5f/bd7/eb0/b5fbd7eb00e7ccc497de292f9db89b87.png" data-width="720"/><figcaption></figcaption></figure><p>и детальную информацию по ошибкам, если они есть:</p><figure class="full-width "><img src="/img/image-loader.svg" height="30" data-src="https://habrastorage.org/getpro/habr/upload_files/61e/789/f86/61e789f863e72b22efa7ea55dc7653bc.png" data-width="720"/><figcaption></figcaption></figure><figure class="full-width "><img src="/img/image-loader.svg" height="736" data-src="https://habrastorage.org/getpro/habr/upload_files/4cc/e42/fc5/4cce42fc5b8af459cddc1663c1fe572f.png" data-width="722"/><figcaption></figcaption></figure><p><strong>Как интегрировать автотесты в CI-процесс</strong></p><p>Файлы с автотестами добавляю в репозиторий, где ведется разработка самого приложения. При пуше видим последнюю версию тестов. Далее добавляю stage: autotest в файл конфига сборки .gitlab-ci.yml. Команда для запуска может выглядеть например так:</p><pre><code>- pytest -v ./test/ams_selenium_autotest/ --testrail --tr-testrun-name={$CI_PIPELINE_ID}_AMS_2.0_Automated_Run</code></pre><p>Переменная <code>CI_PIPELINE_ID</code> добавлена для идентификации сборки в TestRail.</p><p>После пуша в ветку запускается сборка по алгоритму. Описание храним в файле gitlab-ci.yml. Если стадия автотестов пройдёт успешно, то актуальная версия выкатит в продакшн.</p><h3>Автотесты во спасение или Выход из штопора</h3><p>План сработал, мы смогли запустить автоматизацию и разгрузить команду: </p><ol><li><p>Среднее время выполнения регрессионного сценария сократилось на ~95% и стало занимать 20 минут;</p></li><li><p>Сократилось время выпуска релизов (Time To Market), а их количество в месяц выросло с 4 до 6;</p></li><li><p>Добились отказоустойчивости программного продукта при поставках, исключили риски в регрессе;</p></li><li><p>Из 1000 тестовых кейсов повысили количество покрытых автотестами до 400.</p></li></ol><p>Этот год стал челленджем для всей команды и для меня лично. </p><p>Мы сделали выбор в пользу TestRail из-за его интеграции с основным инструментом тестирования Pytest. Плюсом стало наличие готовых фреймворков. Gitlab CI используется в разработке информационных систем коммерции и полностью соответствует нашему запросу. Поэтому предпочли тому же Jenkins.</p><p>По хорошей традиции запустили школу «Автоматизации тестирования» на практике, наш опыт может быть полезным другим командам тестирования в «Магните». Первые студенты-тестеры завершили обучение. Так практические навыки распространяются в компании. </p><p>Наша команда покрыла автотестами регресс на web-приложениях, сейчас мы готовы автоматизировать функциональное тестирование. Впереди более сложные задачи, и конечно нам будет полезен ваш опыт:</p><p>С какими проблемами перехода на автоматизацию тестирования столкнулись вы? </p><p>Как решали сложные кейсы автоматизации функционального тестирования?</p></div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bpytest%5D" class="tm-tags-list__link">pytest</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bpython%5D" class="tm-tags-list__link">python</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bci%2Fcd%5D" class="tm-tags-list__link">ci/cd</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Btestrail%5D" class="tm-tags-list__link">testrail</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bselenium-webdriver%5D" class="tm-tags-list__link">selenium-webdriver</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bgitlab-ci%5D" class="tm-tags-list__link">gitlab-ci</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/company/magnit/blog/" class="tm-hubs-list__link router-link-active">
    Блог компании Магнит
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/webdev/" class="tm-hubs-list__link">
    Разработка веб-сайтов
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/it_testing/" class="tm-hubs-list__link">
    Тестирование IT-систем
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/web_testing/" class="tm-hubs-list__link">
    Тестирование веб-сервисов
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 8: ↑8 и ↓0</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 8: ↑8 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+8</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">5.7K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    48
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"><div class="tm-article-author__company"><div class="tm-article-author__company-card"><div class="tm-company-snippet"><a href="/ru/company/magnit/profile/" class="tm-company-snippet__logo-link"><div class="tm-entity-image"><img alt="" height="40" src="//habrastorage.org/getpro/habr/company/698/2e3/70c/6982e370c76af5e20ebcc636213ce10b.png" width="40" class="tm-entity-image__pic"></div></a> <div class="tm-company-snippet__info"><a href="/ru/company/magnit/profile/" class="tm-company-snippet__title">Магнит</a> <div class="tm-company-snippet__description">Сложные IT системы для простых покупок</div></div></div> <div class="tm-article-author__buttons"><!----> <!----></div></div> <div class="tm-article-author__company-contacts"><a href="https://www.magnit.tech" rel="noopener" target="_blank" class="tm-article-author__contact">
      Сайт
    </a><a href="https://career.habr.com/companies/magnit" rel="noopener" target="_blank" class="tm-article-author__contact">
      Хабр Карьера
    </a></div> <div class="tm-article-author__separator"></div></div> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/Temak01/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><svg class="tm-svg-img tm-image-placeholder tm-image-placeholder_green"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <div class="tm-user-card__meta"><div title=" 2 голоса " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    2
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">8</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><!----> <a href="/ru/users/Temak01/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @Temak01
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/company/magnit/blog/582992/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 17 
    </span></a> <!----></div></div></div>  <!---->  <!----> <!----></div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__placeholder_initial"></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <section class="tm-block tm-block_spacing-bottom"><header class="tm-block__header"><h2 class="tm-block__title">Информация</h2> <!----></header> <div class="tm-block__body"><div class="tm-company-basic-info"><dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Дата основания</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><time datetime="1994-03-04T21:00:00.000Z" title="1994-03-05, 00:00">5  марта  1994</time></dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Местоположение</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
    Россия
  </dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Сайт</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><a href="https://www.magnit.tech" target="_blank" class="tm-company-basic-info__link">
      www.magnit.tech
    </a></dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Численность</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
    свыше 10 000 человек
  </dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Дата регистрации</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><time datetime="2021-07-26T12:13:27.000Z" title="2021-07-26, 15:13">26  июля  </time></dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Представитель</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><a href="/ru/users/nadya_blau/" class="tm-company-basic-info__link">
      nadya_blau
    </a></dd></dl></div></div> <!----></section> <div class="tm-company-widgets"></div> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/company/magnit/blog/582992/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/company/magnit/blog/582992/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"582992":{"id":"582992","timePublished":"2021-10-12T10:48:38+00:00","isCorporative":true,"lang":"ru","titleHtml":"Порараз бирацца: как мы учились писать автотесты на Python и что у нас получилось","leadData":{"textHtml":"\u003Cp\u003EПривет, Хабр! Меня зовут Артем Иванюта, в «Магните» я занимаюсь тестированием информационных систем закупок. В статье я расскажу, как наша команда запускала автотесты web-интерфейсов силами одного сотрудника, как мы вписали их в CI\u002FCD-процесс и с чем столкнулись, решая задачу. Кстати, вы наверняка уже догадались, но все-таки скажу — да, я и есть тот самый «один сотрудник». Так что никакого кликбейта.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5d3\u002Fbfb\u002Fedf\u002F5d3bfbedffff29da88e2a84461acbab8.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5d3\u002Fbfb\u002Fedf\u002F5d3bfbedffff29da88e2a84461acbab8.jpg","fit":"cover","positionY":0,"positionX":0}},"editorVersion":"2.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":2,"votesCount":2},"rating":8,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"2586605","alias":"Temak01","fullname":null,"avatarUrl":null,"speciality":null},"statistics":{"commentsCount":17,"favoritesCount":48,"readingCount":5742,"score":8,"votesCount":8},"hubs":[{"relatedData":null,"id":"22778","alias":"magnit","type":"corporative","title":"Блог компании Магнит","titleHtml":"Блог компании Магнит","isProfiled":false},{"relatedData":null,"id":"91","alias":"webdev","type":"collective","title":"Разработка веб-сайтов","titleHtml":"Разработка веб-сайтов","isProfiled":true},{"relatedData":null,"id":"210","alias":"it_testing","type":"collective","title":"Тестирование IT-систем","titleHtml":"Тестирование IT-систем","isProfiled":true},{"relatedData":null,"id":"19279","alias":"web_testing","type":"collective","title":"Тестирование веб-сервисов","titleHtml":"Тестирование веб-сервисов","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F116\u002F8ee\u002F26a\u002F1168ee26a8a89fdc12046ed7d4a00600.jpeg\" width=\"800\" height=\"400\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F116\u002F8ee\u002F26a\u002F1168ee26a8a89fdc12046ed7d4a00600.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EПривет, Хабр! Меня зовут Артем Иванюта, в «Магните» я занимаюсь тестированием информационных систем закупок. В статье я расскажу, как наша команда запускала автотесты web-интерфейсов силами одного сотрудника, как мы вписали их в CI\u002FCD-процесс и с чем столкнулись, решая задачу. Кстати, вы наверняка уже догадались, но все-таки скажу — да, я и есть тот самый «один сотрудник». Так что никакого кликбейта.\u003C\u002Fp\u003E\u003Ch3\u003EОдиннадцать друзей Иванюты\u003C\u002Fh3\u003E\u003Cp\u003EВ нашей команде 11 человек, мы отвечаем за тестирование 15 информационных систем. Всего в «Магните» их больше 600. Мы занимаемся тестированием web-инструментов цепочки поставок розничной сети. Это, например:\u003C\u002Fp\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003Eсистема автоматизированных рабочих мест сотрудников;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003ESRM-система снабжения сырьем собственных производств и закупочной логистики;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eэлектронный документооборот EDI;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eинформационная система графика поставок товара в магазины,\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eсистема управления ареалами AMS. \u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cp\u003EВ масштабах «Магнита» это 25 000 пользователей — наших сотрудников, 4 500 — контрагентов и 16 000 торговых точек. Мы производим релизы ежедневно, а сам цикл в среднем составляет от 2 до 4 недель. По сути от нас зависит своевременная поставка товаров тысяч поставщиков на полки 16 тысяч магазинов (и много чего еще).\u003C\u002Fp\u003E\u003Ch3\u003EВосстание машин: срываем релизы\u003C\u002Fh3\u003E\u003Cp\u003EМой путь в компании начался в 2014 году с отдела технического сопровождения торговых точек. Я занимался удаленной поддержкой и настройкой оборудования в гипермаркетах «Магнит». Это были кассы, системы эквайринга, серверы. \u003C\u002Fp\u003E\u003Cp\u003EВ 2018 году отдел тестирования запустил внутреннюю школу тестировщиков. За месяц я освоил базу и навыки, а затем перешел в команду тестирования web-интерфейсов. Пришел я как раз вовремя: поток входящих задач начал стремительно расти. Компания пошла по пути DevOps. Запускались новые системы, серьезно обновлялись основные.\u003C\u002Fp\u003E\u003Cp\u003EК началу 2019 года объем тестирования увеличился вдвое. Так количество тикетов на каждого возросло в среднем с 30 до 70 в месяц, а горизонт планирования релизов сдвинулся на 2 месяца вперед. \u003C\u002Fp\u003E\u003Cp\u003EПри этом количество людей в команде оставалось прежним — все те же 11 друзей Иванюты:)\u003C\u002Fp\u003E\u003Cp\u003EКогда графики релизов начали срываться на регулярной основе, а рутинные операции  занимать больше 50% времени, мы поняли, что дальше так не потянем. Тогда и было принято решение часть сценариев покрыть автотестами. \u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff5e\u002Fd94\u002F985\u002Ff5ed94985fc59c1bf1dd7fd9d357cc24.jpeg\" width=\"480\" height=\"270\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff5e\u002Fd94\u002F985\u002Ff5ed94985fc59c1bf1dd7fd9d357cc24.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Ch3\u003EПуть в питонисты\u003C\u002Fh3\u003E\u003Cp\u003EДо 2019 года никто из нашей команды не занимался автотестами, 100% тестов обрабатывались вручную. Никто из нашей команды не умел кодить. И конечно мы не могли снижать темп основных задач. Поэтому всей командой уйти в обучение автоматизации тестирования тоже было нельзя. Решили, что в разведку пойдет кто-то один. Мне было интересно попробовать: я изучил опыт сообщества и остановился на python. Python считается универсальным языком, поскольку подходит под множество задач. К примеру, на Python написан Instagram, его используют в аналитике данных, запуске космических кораблей и... в автоматизации тестирования. Чтобы скорость работы команды не снижалась, приняли совместное решение — я иду обучаться, команда забирает 80% моих задач. \u003C\u002Fp\u003E\u003Cp\u003EКакие цели мы поставили для внедрения автотестов:\u003C\u002Fp\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EУвеличение скорости тестирования.\u003C\u002Fp\u003E\u003Cp\u003EМы накопили довольно большую библиотеку регрессионных сценариев тестирования различных веб-интерфейсов. Релизы в команде проводятся каждый день, поэтому регресс востребован и выполняется тестировщиками регулярно вручную. Его выполнение занимало не меньше 8 часов, а автоматизированные тесты могли сократить время на обработку регресса до 95% и больше. \u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EПовышение качества тестирования.\u003C\u002Fp\u003E\u003Cp\u003EПри частом прогоне рутинных проверок всегда есть риск пропустить ошибку. Машина же совершит её с меньшей вероятностью за счёт многократного прогона автотестов. Разработчик самостоятельно может запустить автотестирование после изменения кода без помощи тестировщика. То есть это время команды освобождается для других задач.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EРост экспертизы.\u003C\u002Fp\u003E\u003Cp\u003EРазработанные автотесты нужно сопровождать и развивать. Мы решили сделать ставку на развитии своей команды и запустили \"Школу автотестирования\".  Я на себе прочувствовал, как «заряжает» обучение на реальных задачах. В Магнит я прошел такой опыт дважды, получив и новую экспертизу, и развитие. Программу Школы выстроили по такому же принципу — много практики и реального опыта. \u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EПоддержка DevOps-стратегии компании.\u003C\u002Fp\u003E\u003Cp\u003EВ 2018 году «Магнит» взял курс на развитие DevOps. Наши 15 систем не стали исключением. Их ждали обновление и переход на новые практики и инструменты. Автотесты — одна из обязательных стадий процесса CI\u002FCD. \u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cp\u003EВот так архитектурно он выстроен у нас:\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"282\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F255\u002F1fc\u002F07e\u002F2551fc07ebe94167b660a35c0d9bd465.png\" data-width=\"990\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EТак мы договорились о целях и тактике. Следующая задача — понять, что именно покрывать автоматизацией.\u003C\u002Fp\u003E\u003Ch3\u003EАвтоматизируем регресс\u003C\u002Fh3\u003E\u003Cp\u003EМы обновляем информационные системы «Магнита» под условия бизнеса практически ежедневно:\u003C\u002Fp\u003E\u003Cp\u003EВо-первых, мы следуем конкретному плану изменений и обновлений систем. Такой план формируем внутри ИТ ежемесячно для каждой системы. \u003C\u002Fp\u003E\u003Cp\u003EВо-вторых, пользователи от бизнеса направляют запросы на новый функционал. В среднем на сотрудника приходится по 2–3 системы в день. \u003C\u002Fp\u003E\u003Cp\u003EПолучается, попытка автоматизировать все кейсы сразу была бы обречена на провал: сил могло хватить только на актуализацию тестовых сценариев. \u003C\u002Fp\u003E\u003Cp\u003EПосле анализа всей базы тестовых случаев для автоматизации выбрали регрессионные сценарии. \u003C\u002Fp\u003E\u003Cp\u003EДля нас регресс — один из самых трудоемких этапов тестирования, так как он направлен на проверку и выявление ошибок в статичном функционале. Такой функционал или не меняется, или меняется редко. Значит, каждый день мы выполняем именно типовые проверки.\u003C\u002Fp\u003E\u003Cp\u003EВ каждом регрессионном сценарии более 100 кейсов. Зачастую кейсы связаны между собой. Поэтому первое, что я сделал, — провел анализ тестовых случаев на предмет критичности и взаимосвязи функциональности.\u003C\u002Fp\u003E\u003Cp\u003EВ TMS системе TestRail создал 3 группы приоритета регрессионных сценариев для последующей автоматизации:\u003C\u002Fp\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EКритичный — например, кейсы направлены на проверку доступности всех вкладок, кнопок, фундаментальной логики приложения. Ошибки в этой группе тестов могут привести к полной блокировке работы инструмента;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EВысокий — кейсы в большей степени направлены на проверку бизнес-логики и алгоритмов инструмента. Ошибки в этой группе тестов могут привести к некорректным данным, повлиять на работу самого приложения и связанных с ним систем;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EНизкий — кейсы не влияют на бизнес-процессы, но должны выполняться при каждом регрессе. Например, поиск, фильтрация и другие.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cp\u003EТеперь расскажу про пошаговую настройку процесса и инструментов.\u003C\u002Fp\u003E\u003Ch3\u003EЗапускаем змея на Pytest\u003C\u002Fh3\u003E\u003Cp\u003EЯ использовал Python и его фреймворк Pytest. Оба инструмента широко используются в мире тестирования, по ним накоплена база знаний, есть много плагинов. Поэтому вместе с Selenium WebDriver такой набор удовлетворяет всем потребностям в тестировании web-интерфейсов.\u003C\u002Fp\u003E\u003Cp\u003EДля работы с базой данных я использовал библиотеку SQLAlchemy. Это одна из самых популярных библиотек для работы с СУБД для Python. \u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"237\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fdd4\u002F724\u002F998\u002Fdd472499833d704b0b34c0a1caf45376.png\" data-width=\"795\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EПри создании структуры проекта брал паттерн Page Object. Этот шаблон проектирования позволяет разделить код тестов и описание страниц. Так тесты приобретают читаемый вид, а методы работы со страницей мы можем переиспользовать. Результат: упрощаем поддержку кода и уменьшаем его количество.\u003C\u002Fp\u003E\u003Cp\u003EСтруктура проекта выглядит так:\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"358\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F9d7\u002Ff16\u002Ff75\u002F9d7f16f75a64a61e2fe57c965cc28373.png\" data-width=\"276\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EПапки:\u003C\u002Fp\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EConfiguration – для настройки подключения к БД, учетные данные для авторизации в приложении;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003ELocators – хранит локаторы для поиска элементов на странице;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EPages – содержит методы для работы со страницами. Для каждой вкладки приложения используется своя страница с методами работы с ней;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003ETests – хранит сами тесты;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003ETools – хранит инструменты для подключения к БД. Это создание самого подключения, методы работы с БД, запросы к БД.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cp\u003EФайлы:\u003C\u002Fp\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003Econftest.py — хранение фикстур. Фикстуры в контексте pytest — это вспомогательные функции для наших тестов, которые не являются частью тестового сценария;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Epytest.ini – для регистрации меток маркировки тестов;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Erequirements.txt – файл зависимостей приложения для автоматической установки пакетов python с помощью утилиты pip;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Etestrail.cfg – конфигурационный файл с настройками для TestRail.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cp\u003EПомещаем в base_page методы или локаторы, которые используются в кейсах для разных страниц:\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"542\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F07c\u002F41a\u002F3d6\u002F07c41a3d6ea7f27148c578258a785127.png\" data-width=\"370\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EКак в итоге выглядит тест? Лаконично :)\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E@pytestrail.case('C128952')\n @pytest.mark.order_gm\n def test_btn_filter(self):\n     self.orders_gm.click_on_btn_filter()\n     self.orders_gm.should_be_open_filter_form()\n     self.orders_gm.click_on_whs()\n     self.orders_gm.input_name_gm_in_filter_form()\n     self.orders_gm.click_on_search_trigger()\n     self.orders_gm.click_on_x_tree_selected()\n     self.orders_gm.click_on_whs()\n     self.orders_gm.input_docdate_from()\n     self.orders_gm.input_docdate_to()\n     self.orders_gm.click_on_btn_filter_2()\n     self.orders_gm.should_be_row_in_grid_table_3()\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EВ  pages мы расписываем сами методы. Клик на кнопку:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003Edef click_on_btn_filter(self):\n     btn = self.browser.find_element(*BasePageLocators.BUTTON_FILTER)\n     btn.click()\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EЛокаторы отдельно:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003EBUTTON_FILTER = (By.XPATH, '\u002F\u002Fbutton[text() = \"Фильтр\"]')\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EДля поиска элементов на странице я использовал язык запросов XPath. Часть элементов страницы имеют уникальные name или id, которые указали разработчики фронта, поэтому к ним легко обращаться:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003ECONTR_ID = (By.XPATH, '\u002F\u002F*[@id = \"contr_id_view\"]')\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EА другая часть не имеет таких уникальных идентификаторов, поэтому здесь помогают возможности языка XPath:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003EX_COMBO_SELECTED_LAST = (By.XPATH, '(\u002F\u002F*[@class = \"x-combo-list-item x-combo-selected\"])[last()]')\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EЗапуск и закрытие браузера вынесены в conftest.py. \u003C\u002Fp\u003E\u003Cp\u003EДобавляем функцию, например так:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003Edef pytest_addoption(parser):\n     parser.addoption('--browser_name', action='store', default=\"chrome\",\n                      help=\"Choose browser\")\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EИ фикстуру:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E@pytest.fixture(scope=\"function\")\n def browser(request):\n     browser_name = request.config.getoption(\"browser_name\")\n     if browser_name == \"chrome\":\n         capabilities = {\n             \"acceptInsecureCerts\": True,\n             \"browserName\": \"chrome\",\n             \"version\": \"73.0\",\n             \"enableVNC\": True,\n             \"enableVideo\": False,\n             \"name\": \"Interface name\"\n         }\n \n        browser = webdriver.Remote(command_executor=\"http:\u002F\u002F10.8.153.230:4444\u002Fwd\u002Fhub\",\n                                    desired_capabilities=capabilities)\n         browser.maximize_window()\n \n    else:\n         raise pytest.UsageError(\"--browser_name should be chrome or firefox\")\n \n    yield browser\n     browser.quit()\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EВ самом тесте мы не расписываем авторизацию и переход на нужную вкладку, это все выносится в setup с помощью фикстуры: \u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E@pytest.fixture(scope=\"function\", autouse=True) \n def setup(self, browser):\n    # Переход к странице авторизации  \n    login_page = LoginPage(browser)  \n    login_page.open() \n    login_page.authentication()  \n    # Переход на вкладку  \n    login_page.open_tab_orders_gm()\n    self.orders_gm = OrdersGMPage(browser, browser.current_url) \u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EВ параметрах фикстуры уже можно указать, когда его использовать. В данном случае наш setup запускается перед каждой функцией (тестом) с помощью параметра \u003Ccode\u003Escope=\"function\"\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EКлюч на старт: запускаемся через Gitlab CI\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003EДля каждого проекта есть свой job в Gitlab CI, который запускается при необходимости. Последняя версия проекта тянется с репозитория. \u003C\u002Fp\u003E\u003Cp\u003EПрогон самих тестов происходит на Selenoid. С помощью графической оболочки можно увидеть информацию о запущенных браузерах, их версиях, разрешении.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb13\u002F99a\u002Fe33\u002Fb1399ae33886838ee36bd61520aef3ba.jpg\" width=\"948\" height=\"434\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb13\u002F99a\u002Fe33\u002Fb1399ae33886838ee36bd61520aef3ba.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EРазвернув интерфейс тестирования можно увидеть, что происходит в режиме реального времени:\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"518\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc39\u002Fe69\u002F72e\u002Fc39e6972ecc8f735daa9afbd87f75f45.png\" data-width=\"944\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003ESelenoid создаёт для каждого теста чистый браузер, в котором выполняется автотест. После его завершения происходит удаление данных с помощью Python. Тесты не зависят друг от друга и могут запускаться в несколько потоков. Тестировать приложение можно одновременно с нескольких браузеров. Для запуска тестов в потоках используется pytest-xdist плагин. В команду запуска добавляется параметр -n &lt;количество потоков\u003E.\u003C\u002Fp\u003E\u003Cp\u003EФреймворк Pytest позволяет выбрать часть кейсов или пропускать те, которые сейчас не нужны. Например, для кейсов по одной вкладке приложения ставим маркировку @pytest.mark и запускаем тестирование нужной вкладки приложения. Фикстуры позволяют запустить тестирование в нужной версии браузера.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EПолучаем отчет в TestRail\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003EОсновным инструментом получения отчетности служит TestRail. Каждый автотест связан с кейсом в TestRail. Для связи использую глобальный идентификатор кейса через плагин pytest_testrail. Настройка выполняется в конфигурации testrail.cfg на основе \u003Ca href=\"https:\u002F\u002Fpypi.org\u002Fproject\u002Fpytest-testrail\u002F\"\u003Eдокументации\u003C\u002Fa\u003E. В начале кейса нужно добавить строчку вида \u003Ccode\u003E@pytestrail.case('C128952')\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003Cp\u003EТак выглядит результат выполнения автотестов, переданный в TestRail: \u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"306\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fbee\u002Fee9\u002Fc31\u002Fbeeee9c31c8e07afcf38f741617892f3.png\" data-width=\"720\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EВ названии передаю id джобы и название интерфейса, который тестирую. Вижу полную информацию по тестам, которые прошли успешно:\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"78\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb5f\u002Fbd7\u002Feb0\u002Fb5fbd7eb00e7ccc497de292f9db89b87.png\" data-width=\"720\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003Eи детальную информацию по ошибкам, если они есть:\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"30\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F61e\u002F789\u002Ff86\u002F61e789f863e72b22efa7ea55dc7653bc.png\" data-width=\"720\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"736\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4cc\u002Fe42\u002Ffc5\u002F4cce42fc5b8af459cddc1663c1fe572f.png\" data-width=\"722\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E\u003Cstrong\u003EКак интегрировать автотесты в CI-процесс\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003EФайлы с автотестами добавляю в репозиторий, где ведется разработка самого приложения. При пуше видим последнюю версию тестов. Далее добавляю stage: autotest в файл конфига сборки .gitlab-ci.yml. Команда для запуска может выглядеть например так:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E- pytest -v .\u002Ftest\u002Fams_selenium_autotest\u002F --testrail --tr-testrun-name={$CI_PIPELINE_ID}_AMS_2.0_Automated_Run\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EПеременная \u003Ccode\u003ECI_PIPELINE_ID\u003C\u002Fcode\u003E добавлена для идентификации сборки в TestRail.\u003C\u002Fp\u003E\u003Cp\u003EПосле пуша в ветку запускается сборка по алгоритму. Описание храним в файле gitlab-ci.yml. Если стадия автотестов пройдёт успешно, то актуальная версия выкатит в продакшн.\u003C\u002Fp\u003E\u003Ch3\u003EАвтотесты во спасение или Выход из штопора\u003C\u002Fh3\u003E\u003Cp\u003EПлан сработал, мы смогли запустить автоматизацию и разгрузить команду: \u003C\u002Fp\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EСреднее время выполнения регрессионного сценария сократилось на ~95% и стало занимать 20 минут;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EСократилось время выпуска релизов (Time To Market), а их количество в месяц выросло с 4 до 6;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EДобились отказоустойчивости программного продукта при поставках, исключили риски в регрессе;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EИз 1000 тестовых кейсов повысили количество покрытых автотестами до 400.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cp\u003EЭтот год стал челленджем для всей команды и для меня лично. \u003C\u002Fp\u003E\u003Cp\u003EМы сделали выбор в пользу TestRail из-за его интеграции с основным инструментом тестирования Pytest. Плюсом стало наличие готовых фреймворков. Gitlab CI используется в разработке информационных систем коммерции и полностью соответствует нашему запросу. Поэтому предпочли тому же Jenkins.\u003C\u002Fp\u003E\u003Cp\u003EПо хорошей традиции запустили школу «Автоматизации тестирования» на практике, наш опыт может быть полезным другим командам тестирования в «Магните». Первые студенты-тестеры завершили обучение. Так практические навыки распространяются в компании. \u003C\u002Fp\u003E\u003Cp\u003EНаша команда покрыла автотестами регресс на web-приложениях, сейчас мы готовы автоматизировать функциональное тестирование. Впереди более сложные задачи, и конечно нам будет полезен ваш опыт:\u003C\u002Fp\u003E\u003Cp\u003EС какими проблемами перехода на автоматизацию тестирования столкнулись вы? \u003C\u002Fp\u003E\u003Cp\u003EКак решали сложные кейсы автоматизации функционального тестирования?\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"pytest"},{"titleHtml":"python"},{"titleHtml":"ci\u002Fcd"},{"titleHtml":"testrail"},{"titleHtml":"selenium-webdriver"},{"titleHtml":"gitlab-ci"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5d3\u002Fbfb\u002Fedf\u002F5d3bfbedffff29da88e2a84461acbab8.jpg","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5d3\u002Fbfb\u002Fedf\u002F5d3bfbedffff29da88e2a84461acbab8.jpg","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompany\\\u002Fmagnit\\\u002Fblog\\\u002F582992\\\u002F\"},\"headline\":\"Порараз бирацца: как мы учились писать автотесты на Python и что у нас получилось\",\"datePublished\":\"2021-10-12T13:48:38+03:00\",\"dateModified\":\"2021-10-12T16:08:51+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Temak01\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Привет, Хабр! Меня зовут Артем Иванюта, в &laquo;Магните&raquo; я занимаюсь тестированием информационных систем закупок. В статье я расскажу, как наша команда запускала авто...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompany\\\u002Fmagnit\\\u002Fblog\\\u002F582992\\\u002F#post-content-body\",\"about\":[\"c_magnit\",\"h_webdev\",\"h_it_testing\",\"h_web_testing\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F582992\\\u002F2e9b29ef5dbbc5838ad4faec7ba3cc9d\\\u002F\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F116\\\u002F8ee\\\u002F26a\\\u002F1168ee26a8a89fdc12046ed7d4a00600.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Ff5e\\\u002Fd94\\\u002F985\\\u002Ff5ed94985fc59c1bf1dd7fd9d357cc24.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F255\\\u002F1fc\\\u002F07e\\\u002F2551fc07ebe94167b660a35c0d9bd465.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fdd4\\\u002F724\\\u002F998\\\u002Fdd472499833d704b0b34c0a1caf45376.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F9d7\\\u002Ff16\\\u002Ff75\\\u002F9d7f16f75a64a61e2fe57c965cc28373.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F07c\\\u002F41a\\\u002F3d6\\\u002F07c41a3d6ea7f27148c578258a785127.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fb13\\\u002F99a\\\u002Fe33\\\u002Fb1399ae33886838ee36bd61520aef3ba.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fc39\\\u002Fe69\\\u002F72e\\\u002Fc39e6972ecc8f735daa9afbd87f75f45.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fbee\\\u002Fee9\\\u002Fc31\\\u002Fbeeee9c31c8e07afcf38f741617892f3.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fb5f\\\u002Fbd7\\\u002Feb0\\\u002Fb5fbd7eb00e7ccc497de292f9db89b87.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F61e\\\u002F789\\\u002Ff86\\\u002F61e789f863e72b22efa7ea55dc7653bc.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F4cc\\\u002Fe42\\\u002Ffc5\\\u002F4cce42fc5b8af459cddc1663c1fe572f.png\"]}","metaDescription":"Привет, Хабр! Меня зовут Артем Иванюта, в «Магните» я занимаюсь тестированием информационных систем закупок. В статье я расскажу, как наша команда запускала автотесты web-интерфейсов силами одного...","mainImageUrl":null,"amp":true},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":""},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{"magnit":{"alias":"magnit","imageUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fcompany\u002F698\u002F2e3\u002F70c\u002F6982e370c76af5e20ebcc636213ce10b.png","titleHtml":"Магнит","descriptionHtml":"Сложные IT системы для простых покупок","relatedData":null,"statistics":{"postsCount":3,"newsCount":0,"vacanciesCount":5,"employeesCount":10,"careerRating":null,"subscribersCount":82,"rating":58.66,"invest":null},"foundationDate":{"year":"1994","month":"03","day":"05"},"location":{"city":{"id":"446833","title":"Краснодар"},"region":{"id":"1833","title":"Краснодарский край"},"country":{"id":"168","title":"Россия"}},"siteUrl":"https:\u002F\u002Fwww.magnit.tech","staffNumber":"свыше 10 000 человек","registrationDate":"2021-07-26T12:13:27+00:00","representativeUser":{"alias":"nadya_blau","fullname":null},"contacts":[{"title":"Сайт","url":"https:\u002F\u002Fwww.magnit.tech"},{"title":"Хабр Карьера","url":"https:\u002F\u002Fcareer.habr.com\u002Fcompanies\u002Fmagnit"}],"settings":{"analyticsSettings":[{"type":"ym","trackingId":"82869796"}],"branding":{"imageUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fbranding\u002Ff6b\u002Ff6b\u002Fd64\u002Ff6bf6bd640e479d5ba4bc3e290073c82.jpg","linkUrl":"https:\u002F\u002Fwww.magnit.tech\u002F","pixelUrl":""},"status":"active"},"metadata":{"titleHtml":"Магнит, Краснодар - Сложные IT системы для простых покупок с 5 марта 1994 г.","title":"Магнит, Краснодар - Сложные IT системы для простых покупок с 5 марта 1994 г.","keywords":["IT-инфраструктура","Разработка под e-commerce","Разработка мобильных приложений","ERP-системы","Хранение данных"],"descriptionHtml":"3 статьи от авторов компании Магнит","description":"3 статьи от авторов компании Магнит"},"aDeskSettings":null,"careerAlias":"magnit","maxCustomTrackerLinks":3}},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
