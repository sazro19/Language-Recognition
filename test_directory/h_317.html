<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Расширять нельзя рефакторить / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/584280\/"},"headline":"Расширять нельзя рефакторить","datePublished":"2021-10-19T12:24:19+03:00","dateModified":"2021-10-19T12:24:19+03:00","author":{"@type":"Person","name":"she1estov"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Система управления цифровым адаптивным тренажеромВ этой статье я делюсь опытом разработки системы управления для тренажеров. Речь пойдет о сложном этапе перехода...","url":"https:\/\/habr.com\/ru\/post\/584280\/#post-content-body","about":["h_dev_management","h_startuprise","h_electronics","f_develop","f_management"],"image":["https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/fd0\/0fc\/05c\/fd00fc05c4903ad0cecb12a742ada41a.jpeg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/c2e\/ead\/2ce\/c2eead2ce635909eb86efde4c3007488.jpeg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ae2\/ab0\/43b\/ae2ab043b98a3a82103b1e7168b9335d.jpeg"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Расширять нельзя рефакторить" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Расширять нельзя рефакторить" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Расширять нельзя рефакторить" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Система управления цифровым адаптивным тренажеромВ этой статье я делюсь опытом разработки системы управления для тренажеров. Речь пойдет о сложном этапе перехода от первого прототипа к полноценному..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Система управления цифровым адаптивным тренажеромВ этой статье я делюсь опытом разработки системы управления для тренажеров. Речь пойдет о сложном этапе перехода от первого прототипа к полноценному..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Система управления цифровым адаптивным тренажеромВ этой статье я делюсь опытом разработки системы управления для тренажеров. Речь пойдет о сложном этапе перехода от первого прототипа к полноценному..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Система управления цифровым адаптивным тренажеромВ этой статье я делюсь опытом разработки системы управления для тренажеров. Речь пойдет о сложном этапе перехода от первого прототипа к полноценному..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Система управления цифровым адаптивным тренажеромВ этой статье я делюсь опытом разработки системы управления для тренажеров. Речь пойдет о сложном этапе перехода от первого прототипа к полноценному..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/584280/414f487881e56062c5fd1bb081465b42/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/584280/414f487881e56062c5fd1bb081465b42/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/584280/414f487881e56062c5fd1bb081465b42/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/584280/414f487881e56062c5fd1bb081465b42/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/584280/414f487881e56062c5fd1bb081465b42/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="584280" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2021-10-19T09:24:19.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/584280/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/584280/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/584280/414f487881e56062c5fd1bb081465b42/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/she1estov/" title="she1estov" class="tm-user-info__userpic"><div class="tm-entity-image"><svg height="24" width="24" class="tm-svg-img tm-image-placeholder tm-image-placeholder_lilac"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <span class="tm-user-info__user"><a href="/ru/users/she1estov/" class="tm-user-info__username">
      she1estov
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2021-10-19T09:24:19.000Z" title="2021-10-19, 12:24">19  октября   в 12:24</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Расширять нельзя рефакторить</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/dev_management/" class="tm-article-snippet__hubs-item-link"><span>Управление разработкой</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/startuprise/" class="tm-article-snippet__hubs-item-link"><span>Развитие стартапа</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/electronics/" class="tm-article-snippet__hubs-item-link"><span>Производство и разработка электроники</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <div class="tm-article-snippet__labels"><div class="tm-article-snippet__label"><span>
        Из песочницы
      </span></div></div> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><figure class="full-width "><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/fd0/0fc/05c/fd00fc05c4903ad0cecb12a742ada41a.jpeg" alt="Система управления цифровым адаптивным тренажером" title="Система управления цифровым адаптивным тренажером" width="630" height="513" data-src="https://habrastorage.org/getpro/habr/upload_files/fd0/0fc/05c/fd00fc05c4903ad0cecb12a742ada41a.jpeg" data-blurred="true"/><figcaption>Система управления цифровым адаптивным тренажером</figcaption></figure><p>В этой статье я делюсь опытом разработки системы управления для тренажеров. Речь пойдет о сложном этапе перехода от первого прототипа к полноценному<a href="https://ru.wikipedia.org/wiki/%D0%9C%D0%B8%D0%BD%D0%B8%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE_%D0%B6%D0%B8%D0%B7%D0%BD%D0%B5%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D0%BD%D1%8B%D0%B9_%D0%BF%D1%80%D0%BE%D0%B4%D1%83%D0%BA%D1%82" rel="noopener noreferrer nofollow"><u> MVP</u></a>, который закончился успешным открытием уникального инновационного тренажерного зала.</p><p>Все стартаперы (и не только они) сталкиваются со стандартной проблемой развития проекта - <strong>добавление нового функционала, который заранее не был заложен</strong>. Причины тому могут быть самые разные - как недостаточно детальное планирование при составлении ТЗ, так и объективная ситуация поступления новой информации, на которую надо оперативно реагировать. Выходов из затруднительного положения традиционно два - упаковка новой функции в условно-свободное место старой архитектуры или полная глубокая переработка программной и/или аппаратной части.</p><p>Наш проект изначально создавался "на свои", каждая копеечка и неделя времени всегда была на счету. Поэтому когда первичный прототип был достаточно протестирован и были сформированы требования к MVP, самый качественный вариант ( т.е. полная замена архитектуры на новую) был недоступен ни по трудоемкости, ни по времени. Вот тогда пришлось коренным образом поразмыслить: <strong>как</strong> <strong>расширить уже существующую платформу до уровня MVP без полной переработки</strong> при высочайших требованиях к надежности системы - мы же работаем с людьми. Немного облегчало ситуацию только то, что MVP - это еще не серийное изделие и можно использовать относительно дорогие комплектующие, часто с расширенным встроенным функционалом.</p><figure class="full-width "><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/c2e/ead/2ce/c2eead2ce635909eb86efde4c3007488.jpeg" alt="Первый прототип" title="Первый прототип" width="3000" height="4000" data-src="https://habrastorage.org/getpro/habr/upload_files/c2e/ead/2ce/c2eead2ce635909eb86efde4c3007488.jpeg" data-blurred="true"/><figcaption>Первый прототип</figcaption></figure><p>Первый прототип</p><figure class="full-width "><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/ae2/ab0/43b/ae2ab043b98a3a82103b1e7168b9335d.jpeg" alt="MVP - комплекс из тренажера на ноги (на заднем плане) 
и мультистанции на верхнюю часть тела (на переднем плане)" title="MVP - комплекс из тренажера на ноги (на заднем плане) 
и мультистанции на верхнюю часть тела (на переднем плане)" width="4898" height="3265" data-src="https://habrastorage.org/getpro/habr/upload_files/ae2/ab0/43b/ae2ab043b98a3a82103b1e7168b9335d.jpeg" data-blurred="true"/><figcaption>MVP - комплекс из тренажера на ноги (на заднем плане) 
и мультистанции на верхнюю часть тела (на переднем плане)</figcaption></figure><p>MVP - комплекс из тренажера на ноги XM1 (на заднем плане) и мультистанции на верхнюю часть тела XM2 (на переднем плане)</p><p>В чем состояла "пропасть" между прототипом и MVP удобнее показать в виде таблицы (весьма похожей на таблицы выбора комплектаций автомобилей)</p><div><div class="table"><table><tbody><tr><td><p>Функционал</p></td><td><p>Прототип</p></td><td><p>MVP</p></td></tr><tr><td><p>Выполнение 1 упражнения для 1 пользователя без перекомпиляции (компиляция занимает 5 минут, долго)</p></td><td><p>ДА</p></td><td><p>ДА</p></td></tr><tr><td><p>Выполнение 10 упражнений для большого числа пользователей без перекомпиляции (компиляция занимает 5 минут, долго)</p></td><td><p>НЕТ</p></td><td><p>ДА</p></td></tr><tr><td><p>Управление основным приводом</p></td><td><p>ДА</p></td><td><p>ДА</p></td></tr><tr><td><p>Управление вспомогательным приводом, синхронно с основным</p></td><td><p>НЕТ</p></td><td><p>ДА</p></td></tr><tr><td><p>Управление 3мя приводами настройки положения пользователя</p></td><td><p>НЕТ</p></td><td><p>ДА</p></td></tr><tr><td><p>Отображение графиков усилия спортсмена в режиме реального времени</p></td><td><p>ДА</p></td><td><p>ДА</p></td></tr><tr><td><p>Подстройка упражнения в режиме реального времени с беспроводного пульта</p></td><td><p>ДА</p></td><td><p>ДА</p></td></tr><tr><td><p>Аварийная система безопасности</p></td><td><p>ДА</p></td><td><p>ДА</p></td></tr><tr><td><p>Двухконтурная система безопасности по положению</p></td><td><p>НЕТ</p></td><td><p>ДА</p></td></tr><tr><td><p>Система безопасности спортсмена</p></td><td><p>НЕТ</p></td><td><p>ДА</p></td></tr><tr><td><p>Обмен данных с внешним сервером</p></td><td><p>НЕТ</p></td><td><p>ДА</p></td></tr><tr><td><p>Определение абсолютных координат основного и вспомогательного приводов</p></td><td><p>НЕТ</p></td><td><p>ДА</p></td></tr></tbody></table></div></div><p>Из списка видно, что расширение функционала было достаточно существенным. Существующих ресурсов (мощная, но все же ARDUINO DUE) не хватало, как ни крути.</p><p>Спасли ситуацию 3 идеи:</p><ol><li><p>Опереться в большей степени на готовые отработанные решения;</p></li><li><p>Разделить функционал системы на критический/не критический по времени и добавить несколько<a href="https://en.wikipedia.org/wiki/Master/slave_(technology)" rel="noopener noreferrer nofollow"> <u>SLAVE</u></a><u> </u>подсистем;</p></li><li><p>Использовать максимально возможности пред/пост обработки данных.</p></li></ol><p>Далее расскажу подробнее о роли каждой из идей.</p><p>Во-первых, расширение использования готовых решений. Тренажер представляет собой классическую электро-механическую систему, где с точки зрения управления центральным элементом является<a href="https://ru.wikipedia.org/wiki/%D0%92%D0%B5%D0%BD%D1%82%D0%B8%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D0%B4%D0%B2%D0%B8%D0%B3%D0%B0%D1%82%D0%B5%D0%BB%D1%8C" rel="noopener noreferrer nofollow"><u> электрический привод</u></a>. В первом прототипе мы старались экономить и покупали самые простые решения и весь сопровождающий функционал ложился на основной код (выбор режима управления двигателем, абсолютное положение вала, система безопасности по положению и т.д.). Переход на более совершенные комплексные решения в виде готового сервопривода с высокой степенью надежности и автономности (такие решения востребованы главным образом в<a href="https://ru.wikipedia.org/wiki/%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D1%82%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%BC_%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D0%BC" rel="noopener noreferrer nofollow"><u> АСУ ТП</u></a>) решило для нас сразу несколько вопросов. Один и тот же привод поддерживал разные режимы управления (по скорости и по положению) и при построении системы мы могли выбрать нужный в зависимости от имеющегося ресурса основной системы. Также сервопривода часто имеют свой контур безопасности по положению (с гибкими настройками), имеющий приоритет перед сигналами управления. Это позволило нам организовать надежный внешний контур безопасности системы, защищающий ее саму и спортсмена даже от самых общих сбоев в коде, когда программные защиты недоступны. Также повысило надежность работы использование ряда готовых промышленных сенсоров - оптических и индуктивных в самых разных местах системы.</p><p>Вторым важным шагом в понимании системы стал отход от идеи, что головная система управления должна непосредственно сама контролировать ВСЕ исполнительные узлы. Мы обратили внимание, что у нас есть явное разделение ролей между приводами - основные работают в момент упражнения, их быстродействие критично и алгоритм движения сложный; привода настройки положения пользователя работают между упражнениями и по самым простым правилам и некритичны по быстродействию. В результате было решено организовать отдельную<a href="https://en.wikipedia.org/wiki/Master/slave_(technology)" rel="noopener noreferrer nofollow"> <u>SLAVE</u></a>-подсистему управления приводами положения пользователя и взаимодействовать с ней по простейшему командному протоколу на основе UART. Быстродействие и надежность такого канала, разумеется, ниже, но т.к. тут не требуется мгновенная реакция, всегда можно в ручном и/или автоматическом режиме дублировать отправку команд и добиться достаточной стабильной работы по ощущению пользователя.</p><p>Третьим направлением стала идея использовать максимально интенсивно пред/пост обработку. Была написана математическая модель последовательности выполнения упражнения и многочисленных параметров его динамики, причем вся обработка этой модели делается при помощи<a href="https://www.python.org" rel="noopener noreferrer nofollow"> <u>Python</u></a>. Результатом обработки является библиотека для основного кода, представляющая собой примитивную последовательность геометрических точек со свойствами, формирующих в итоге упражнение. Уровень абстракции в основном коде в итоге стал достаточно низкий для того, чтобы изменения общей математической модели его не затрагивали. "Расплатой" за полученные сверхгибкость и надежность стала необходимость перекомпиляции основного кода при любых изменениях модели, что на практике вполне приемлемое действие.</p><p>Та же идея во второй раз была применена для целей визуализации и анализа данных, получаемых на наших тренажерах в момент упражнения. Тут гибкость обработки, пожалуй, оказалась еще более важна, т.к. эти данные включают в себя не только свойства нашей оригинальной мат. модели, но и особенности анатомии и поведения каждого конкретного спортсмена. В итоге основной код в одностороннем порядке отправляет на внешний ПК данные, а на нем<a href="https://www.python.org" rel="noopener noreferrer nofollow"> <u>Python</u></a>-обработчик уже делает все, что нашей душе угодно: и графики рисует, и анализирует, и сохраняет данные нужным образом. И регулярно производимые нами оптимизации, в том числе и элементы машинного обучения, в этой части опять-таки не трогают ни коим образом основной код, поднимая этим уровень его надежности.</p><p>Резюмируя, скажу, что применение описанных в этой статье идей позволило нам в условиях чрезвычайно сжатых ресурсов (тем более для<a href="https://www.wired.com/2017/01/how-to-build-a-hard-tech-startup/" rel="noopener noreferrer nofollow"> <u>hardtech</u></a><u> </u>стартапа) за срок чуть более 4 месяцев создать полноценный MVP, открывший нам доступ к систематическим пользовательским данным, без которых невозможно создать законченный продукт. Несмотря на то, что наша система уже отлично работает и люди ощущают уникальный эффект от наших тренировок на себе, мы постоянно совершенствуем алгоритмы и аналитику. <strong>Мы приглашаем всех, кто любит новые технологии, экономит свое время и с вниманием относится к своему телу, к участию в наших исследованиях!</strong></p><p>P.S. Если статья получит активный отклик, то я планирую писать о количественных характеристиках силовых тренировок, которые мы собираем и обрабатываем в настоящее время [первые в мире!] ))) </p></div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%82%D1%80%D0%B5%D0%BD%D0%B0%D0%B6%D0%B5%D1%80%D1%8B%5D" class="tm-tags-list__link">тренажеры</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B0%D0%B4%D0%B0%D0%BF%D1%82%D0%B8%D0%B2%D0%BD%D0%BE%D1%81%D1%82%D1%8C%5D" class="tm-tags-list__link">адаптивность</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bai%5D" class="tm-tags-list__link">ai</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bpython%5D" class="tm-tags-list__link">python</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bstartups%5D" class="tm-tags-list__link">startups</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bfitness%5D" class="tm-tags-list__link">fitness</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%81%D0%B8%D0%BB%D0%BE%D0%B2%D0%B0%D1%8F%5D" class="tm-tags-list__link">силовая</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%81%D0%BF%D0%BE%D1%80%D1%82%5D" class="tm-tags-list__link">спорт</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/dev_management/" class="tm-hubs-list__link">
    Управление разработкой
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/startuprise/" class="tm-hubs-list__link">
    Развитие стартапа
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/electronics/" class="tm-hubs-list__link">
    Производство и разработка электроники
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 1: ↑0 и ↓1</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 1: ↑0 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_negative tm-votes-meter__value_medium">-1</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">1.4K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    7
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/she1estov/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><svg class="tm-svg-img tm-image-placeholder tm-image-placeholder_lilac"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <div class="tm-user-card__meta"><div title=" 13 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    11
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">36.1</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><!----> <a href="/ru/users/she1estov/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @she1estov
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/584280/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментировать 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/584280/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/584280/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"584280":{"id":"584280","timePublished":"2021-10-19T09:24:19+00:00","isCorporative":false,"lang":"ru","titleHtml":"Расширять нельзя рефакторить","leadData":{"textHtml":"\u003Cp\u003EВ этой статье я делюсь опытом разработки системы управления для тренажеров. Речь пойдет о сложном этапе перехода от первого прототипа к полноценному\u003Ca href=\"https:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%9C%D0%B8%D0%BD%D0%B8%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE_%D0%B6%D0%B8%D0%B7%D0%BD%D0%B5%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D0%BD%D1%8B%D0%B9_%D0%BF%D1%80%D0%BE%D0%B4%D1%83%D0%BA%D1%82\" rel=\"noopener noreferrer nofollow\"\u003E\u003Cu\u003E MVP\u003C\u002Fu\u003E\u003C\u002Fa\u003E, который закончился успешным открытием уникального инновационного тренажерного зала.\u003C\u002Fp\u003E\u003Cp\u003EВсе стартаперы (и не только они) сталкиваются со стандартной проблемой развития проекта - \u003Cstrong\u003Eдобавление нового функционала, который заранее не был заложен\u003C\u002Fstrong\u003E. Причины тому могут быть самые разные - как недостаточно детальное планирование при составлении ТЗ, так и объективная ситуация поступления новой информации, на которую надо оперативно реагировать. Выходов из затруднительного положения традиционно два - упаковка новой функции в условно-свободное место старой архитектуры или полная глубокая переработка программной и\u002Fили аппаратной части.\u003C\u002Fp\u003E\u003Cp\u003EНаш проект изначально создавался \"на свои\", каждая копеечка и неделя времени всегда была на счету. Поэтому когда первичный прототип был достаточно протестирован и были сформированы требования к MVP, самый качественный вариант ( т.е. полная замена архитектуры на новую) был недоступен ни по трудоемкости, ни по времени. Вот тогда пришлось коренным образом поразмыслить: \u003Cstrong\u003Eкак\u003C\u002Fstrong\u003E \u003Cstrong\u003Eрасширить уже существующую платформу до уровня MVP без полной переработки\u003C\u002Fstrong\u003E при высочайших требованиях к надежности системы - мы же работаем с людьми. Немного облегчало ситуацию только то, что MVP - это еще не серийное изделие и можно использовать относительно дорогие комплектующие, часто с расширенным встроенным функционалом.\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F52f\u002F385\u002F617\u002F52f3856178806a053053f8bbaf16ed8c.jpg","fit":"cover","positionY":0,"positionX":0}},"editorVersion":"2.0","postType":"article","postLabels":[{"type":"sandbox","data":null}],"author":{"scoreStats":{"score":11,"votesCount":13},"rating":36.1,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"762769","alias":"she1estov","fullname":null,"avatarUrl":null,"speciality":null},"statistics":{"commentsCount":0,"favoritesCount":7,"readingCount":1399,"score":-1,"votesCount":1},"hubs":[{"relatedData":null,"id":"19583","alias":"dev_management","type":"collective","title":"Управление разработкой","titleHtml":"Управление разработкой","isProfiled":true},{"relatedData":null,"id":"20722","alias":"startuprise","type":"collective","title":"Развитие стартапа","titleHtml":"Развитие стартапа","isProfiled":false},{"relatedData":null,"id":"21484","alias":"electronics","type":"collective","title":"Производство и разработка электроники","titleHtml":"Производство и разработка электроники","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ffd0\u002F0fc\u002F05c\u002Ffd00fc05c4903ad0cecb12a742ada41a.jpeg\" alt=\"Система управления цифровым адаптивным тренажером\" title=\"Система управления цифровым адаптивным тренажером\" width=\"630\" height=\"513\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ffd0\u002F0fc\u002F05c\u002Ffd00fc05c4903ad0cecb12a742ada41a.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003EСистема управления цифровым адаптивным тренажером\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EВ этой статье я делюсь опытом разработки системы управления для тренажеров. Речь пойдет о сложном этапе перехода от первого прототипа к полноценному\u003Ca href=\"https:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%9C%D0%B8%D0%BD%D0%B8%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE_%D0%B6%D0%B8%D0%B7%D0%BD%D0%B5%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D0%BD%D1%8B%D0%B9_%D0%BF%D1%80%D0%BE%D0%B4%D1%83%D0%BA%D1%82\" rel=\"noopener noreferrer nofollow\"\u003E\u003Cu\u003E MVP\u003C\u002Fu\u003E\u003C\u002Fa\u003E, который закончился успешным открытием уникального инновационного тренажерного зала.\u003C\u002Fp\u003E\u003Cp\u003EВсе стартаперы (и не только они) сталкиваются со стандартной проблемой развития проекта - \u003Cstrong\u003Eдобавление нового функционала, который заранее не был заложен\u003C\u002Fstrong\u003E. Причины тому могут быть самые разные - как недостаточно детальное планирование при составлении ТЗ, так и объективная ситуация поступления новой информации, на которую надо оперативно реагировать. Выходов из затруднительного положения традиционно два - упаковка новой функции в условно-свободное место старой архитектуры или полная глубокая переработка программной и\u002Fили аппаратной части.\u003C\u002Fp\u003E\u003Cp\u003EНаш проект изначально создавался \"на свои\", каждая копеечка и неделя времени всегда была на счету. Поэтому когда первичный прототип был достаточно протестирован и были сформированы требования к MVP, самый качественный вариант ( т.е. полная замена архитектуры на новую) был недоступен ни по трудоемкости, ни по времени. Вот тогда пришлось коренным образом поразмыслить: \u003Cstrong\u003Eкак\u003C\u002Fstrong\u003E \u003Cstrong\u003Eрасширить уже существующую платформу до уровня MVP без полной переработки\u003C\u002Fstrong\u003E при высочайших требованиях к надежности системы - мы же работаем с людьми. Немного облегчало ситуацию только то, что MVP - это еще не серийное изделие и можно использовать относительно дорогие комплектующие, часто с расширенным встроенным функционалом.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc2e\u002Fead\u002F2ce\u002Fc2eead2ce635909eb86efde4c3007488.jpeg\" alt=\"Первый прототип\" title=\"Первый прототип\" width=\"3000\" height=\"4000\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc2e\u002Fead\u002F2ce\u002Fc2eead2ce635909eb86efde4c3007488.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003EПервый прототип\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EПервый прототип\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fae2\u002Fab0\u002F43b\u002Fae2ab043b98a3a82103b1e7168b9335d.jpeg\" alt=\"MVP - комплекс из тренажера на ноги (на заднем плане) \nи мультистанции на верхнюю часть тела (на переднем плане)\" title=\"MVP - комплекс из тренажера на ноги (на заднем плане) \nи мультистанции на верхнюю часть тела (на переднем плане)\" width=\"4898\" height=\"3265\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fae2\u002Fab0\u002F43b\u002Fae2ab043b98a3a82103b1e7168b9335d.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003EMVP - комплекс из тренажера на ноги (на заднем плане) \nи мультистанции на верхнюю часть тела (на переднем плане)\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EMVP - комплекс из тренажера на ноги XM1 (на заднем плане) и мультистанции на верхнюю часть тела XM2 (на переднем плане)\u003C\u002Fp\u003E\u003Cp\u003EВ чем состояла \"пропасть\" между прототипом и MVP удобнее показать в виде таблицы (весьма похожей на таблицы выбора комплектаций автомобилей)\u003C\u002Fp\u003E\u003Cdiv\u003E\u003Cdiv class=\"table\"\u003E\u003Ctable\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EФункционал\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EПрототип\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EMVP\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EВыполнение 1 упражнения для 1 пользователя без перекомпиляции (компиляция занимает 5 минут, долго)\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EВыполнение 10 упражнений для большого числа пользователей без перекомпиляции (компиляция занимает 5 минут, долго)\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EНЕТ\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EУправление основным приводом\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EУправление вспомогательным приводом, синхронно с основным\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EНЕТ\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EУправление 3мя приводами настройки положения пользователя\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EНЕТ\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EОтображение графиков усилия спортсмена в режиме реального времени\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EПодстройка упражнения в режиме реального времени с беспроводного пульта\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EАварийная система безопасности\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EДвухконтурная система безопасности по положению\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EНЕТ\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EСистема безопасности спортсмена\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EНЕТ\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EОбмен данных с внешним сервером\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EНЕТ\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd\u003E\u003Cp\u003EОпределение абсолютных координат основного и вспомогательного приводов\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EНЕТ\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003EДА\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EИз списка видно, что расширение функционала было достаточно существенным. Существующих ресурсов (мощная, но все же ARDUINO DUE) не хватало, как ни крути.\u003C\u002Fp\u003E\u003Cp\u003EСпасли ситуацию 3 идеи:\u003C\u002Fp\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003EОпереться в большей степени на готовые отработанные решения;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EРазделить функционал системы на критический\u002Fне критический по времени и добавить несколько\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMaster\u002Fslave_(technology)\" rel=\"noopener noreferrer nofollow\"\u003E \u003Cu\u003ESLAVE\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003Cu\u003E \u003C\u002Fu\u003Eподсистем;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EИспользовать максимально возможности пред\u002Fпост обработки данных.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cp\u003EДалее расскажу подробнее о роли каждой из идей.\u003C\u002Fp\u003E\u003Cp\u003EВо-первых, расширение использования готовых решений. Тренажер представляет собой классическую электро-механическую систему, где с точки зрения управления центральным элементом является\u003Ca href=\"https:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%92%D0%B5%D0%BD%D1%82%D0%B8%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9_%D0%B4%D0%B2%D0%B8%D0%B3%D0%B0%D1%82%D0%B5%D0%BB%D1%8C\" rel=\"noopener noreferrer nofollow\"\u003E\u003Cu\u003E электрический привод\u003C\u002Fu\u003E\u003C\u002Fa\u003E. В первом прототипе мы старались экономить и покупали самые простые решения и весь сопровождающий функционал ложился на основной код (выбор режима управления двигателем, абсолютное положение вала, система безопасности по положению и т.д.). Переход на более совершенные комплексные решения в виде готового сервопривода с высокой степенью надежности и автономности (такие решения востребованы главным образом в\u003Ca href=\"https:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%90%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82%D0%B8%D0%B7%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D1%82%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%BC_%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D0%BC\" rel=\"noopener noreferrer nofollow\"\u003E\u003Cu\u003E АСУ ТП\u003C\u002Fu\u003E\u003C\u002Fa\u003E) решило для нас сразу несколько вопросов. Один и тот же привод поддерживал разные режимы управления (по скорости и по положению) и при построении системы мы могли выбрать нужный в зависимости от имеющегося ресурса основной системы. Также сервопривода часто имеют свой контур безопасности по положению (с гибкими настройками), имеющий приоритет перед сигналами управления. Это позволило нам организовать надежный внешний контур безопасности системы, защищающий ее саму и спортсмена даже от самых общих сбоев в коде, когда программные защиты недоступны. Также повысило надежность работы использование ряда готовых промышленных сенсоров - оптических и индуктивных в самых разных местах системы.\u003C\u002Fp\u003E\u003Cp\u003EВторым важным шагом в понимании системы стал отход от идеи, что головная система управления должна непосредственно сама контролировать ВСЕ исполнительные узлы. Мы обратили внимание, что у нас есть явное разделение ролей между приводами - основные работают в момент упражнения, их быстродействие критично и алгоритм движения сложный; привода настройки положения пользователя работают между упражнениями и по самым простым правилам и некритичны по быстродействию. В результате было решено организовать отдельную\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMaster\u002Fslave_(technology)\" rel=\"noopener noreferrer nofollow\"\u003E \u003Cu\u003ESLAVE\u003C\u002Fu\u003E\u003C\u002Fa\u003E-подсистему управления приводами положения пользователя и взаимодействовать с ней по простейшему командному протоколу на основе UART. Быстродействие и надежность такого канала, разумеется, ниже, но т.к. тут не требуется мгновенная реакция, всегда можно в ручном и\u002Fили автоматическом режиме дублировать отправку команд и добиться достаточной стабильной работы по ощущению пользователя.\u003C\u002Fp\u003E\u003Cp\u003EТретьим направлением стала идея использовать максимально интенсивно пред\u002Fпост обработку. Была написана математическая модель последовательности выполнения упражнения и многочисленных параметров его динамики, причем вся обработка этой модели делается при помощи\u003Ca href=\"https:\u002F\u002Fwww.python.org\" rel=\"noopener noreferrer nofollow\"\u003E \u003Cu\u003EPython\u003C\u002Fu\u003E\u003C\u002Fa\u003E. Результатом обработки является библиотека для основного кода, представляющая собой примитивную последовательность геометрических точек со свойствами, формирующих в итоге упражнение. Уровень абстракции в основном коде в итоге стал достаточно низкий для того, чтобы изменения общей математической модели его не затрагивали. \"Расплатой\" за полученные сверхгибкость и надежность стала необходимость перекомпиляции основного кода при любых изменениях модели, что на практике вполне приемлемое действие.\u003C\u002Fp\u003E\u003Cp\u003EТа же идея во второй раз была применена для целей визуализации и анализа данных, получаемых на наших тренажерах в момент упражнения. Тут гибкость обработки, пожалуй, оказалась еще более важна, т.к. эти данные включают в себя не только свойства нашей оригинальной мат. модели, но и особенности анатомии и поведения каждого конкретного спортсмена. В итоге основной код в одностороннем порядке отправляет на внешний ПК данные, а на нем\u003Ca href=\"https:\u002F\u002Fwww.python.org\" rel=\"noopener noreferrer nofollow\"\u003E \u003Cu\u003EPython\u003C\u002Fu\u003E\u003C\u002Fa\u003E-обработчик уже делает все, что нашей душе угодно: и графики рисует, и анализирует, и сохраняет данные нужным образом. И регулярно производимые нами оптимизации, в том числе и элементы машинного обучения, в этой части опять-таки не трогают ни коим образом основной код, поднимая этим уровень его надежности.\u003C\u002Fp\u003E\u003Cp\u003EРезюмируя, скажу, что применение описанных в этой статье идей позволило нам в условиях чрезвычайно сжатых ресурсов (тем более для\u003Ca href=\"https:\u002F\u002Fwww.wired.com\u002F2017\u002F01\u002Fhow-to-build-a-hard-tech-startup\u002F\" rel=\"noopener noreferrer nofollow\"\u003E \u003Cu\u003Ehardtech\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003Cu\u003E \u003C\u002Fu\u003Eстартапа) за срок чуть более 4 месяцев создать полноценный MVP, открывший нам доступ к систематическим пользовательским данным, без которых невозможно создать законченный продукт. Несмотря на то, что наша система уже отлично работает и люди ощущают уникальный эффект от наших тренировок на себе, мы постоянно совершенствуем алгоритмы и аналитику. \u003Cstrong\u003EМы приглашаем всех, кто любит новые технологии, экономит свое время и с вниманием относится к своему телу, к участию в наших исследованиях!\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003EP.S. Если статья получит активный отклик, то я планирую писать о количественных характеристиках силовых тренировок, которые мы собираем и обрабатываем в настоящее время [первые в мире!] ))) \u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"тренажеры"},{"titleHtml":"адаптивность"},{"titleHtml":"ai"},{"titleHtml":"python"},{"titleHtml":"startups"},{"titleHtml":"fitness"},{"titleHtml":"силовая"},{"titleHtml":"спорт"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F584280\u002F414f487881e56062c5fd1bb081465b42\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F584280\u002F414f487881e56062c5fd1bb081465b42\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F584280\\\u002F\"},\"headline\":\"Расширять нельзя рефакторить\",\"datePublished\":\"2021-10-19T12:24:19+03:00\",\"dateModified\":\"2021-10-19T12:24:19+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"she1estov\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Система управления цифровым адаптивным тренажеромВ этой статье я делюсь опытом разработки системы управления для тренажеров. Речь пойдет о сложном этапе перехода...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F584280\\\u002F#post-content-body\",\"about\":[\"h_dev_management\",\"h_startuprise\",\"h_electronics\",\"f_develop\",\"f_management\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Ffd0\\\u002F0fc\\\u002F05c\\\u002Ffd00fc05c4903ad0cecb12a742ada41a.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fc2e\\\u002Fead\\\u002F2ce\\\u002Fc2eead2ce635909eb86efde4c3007488.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fae2\\\u002Fab0\\\u002F43b\\\u002Fae2ab043b98a3a82103b1e7168b9335d.jpeg\"]}","metaDescription":"Система управления цифровым адаптивным тренажеромВ этой статье я делюсь опытом разработки системы управления для тренажеров. Речь пойдет о сложном этапе перехода от первого прототипа к полноценному...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"dev_management,startuprise,electronics"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
