<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Универсальная клавиатурная раскладка / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/583800\/"},"headline":"Универсальная клавиатурная раскладка","datePublished":"2021-10-19T11:11:07+03:00","dateModified":"2021-10-19T14:52:12+03:00","author":{"@type":"Person","name":"TLHE"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Предыстория и предпосылки Пару лет назад я, будучи стандартным пользователем &laquo;qwerty-йцукен&raquo;, стал всё больше замечать, что процесс набора на этой паре раскладок...","url":"https:\/\/habr.com\/ru\/post\/583800\/#post-content-body","about":["h_read","h_Peripheral","h_DIY","f_management","f_popsci"],"image":["https:\/\/habrastorage.org\/webt\/vc\/bg\/sa\/vcbgsaamepyu1xpmh375jseinqo.png","https:\/\/habrastorage.org\/webt\/e2\/9a\/dx\/e29adxrydmmbtkgjsvrqfmway20.png","https:\/\/habrastorage.org\/webt\/-d\/ca\/kp\/-dcakpmungcpnhy0zyv0ccbgw4y.png","https:\/\/habrastorage.org\/webt\/uc\/yf\/t-\/ucyft-thsdqhetejgo94bgsc_jg.png","https:\/\/habrastorage.org\/webt\/2n\/ov\/7c\/2nov7cnj2pw1jhsd6aqmm1lu3pe.png","https:\/\/habrastorage.org\/webt\/g1\/07\/tl\/g107tlyb6vukqrha70jovbiyi8o.png","https:\/\/habrastorage.org\/webt\/mh\/cd\/-y\/mhcd-y6lz4dgdtv5wlapaaxx5ps.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Универсальная клавиатурная раскладка" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Универсальная клавиатурная раскладка" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Универсальная клавиатурная раскладка" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Предыстория и предпосылки
Пару лет назад я, будучи стандартным пользователем «qwerty-йцукен», стал всё больше замечать, что процесс набора на этой паре раскладок имеет ряд неудобств, и чем больше я..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Предыстория и предпосылки
Пару лет назад я, будучи стандартным пользователем «qwerty-йцукен», стал всё больше замечать, что процесс набора на этой паре раскладок имеет ряд неудобств, и чем больше я..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Предыстория и предпосылки
Пару лет назад я, будучи стандартным пользователем «qwerty-йцукен», стал всё больше замечать, что процесс набора на этой паре раскладок имеет ряд неудобств, и чем больше я..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Предыстория и предпосылки
Пару лет назад я, будучи стандартным пользователем «qwerty-йцукен», стал всё больше замечать, что процесс набора на этой паре раскладок имеет ряд неудобств, и чем больше я..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Предыстория и предпосылки
Пару лет назад я, будучи стандартным пользователем «qwerty-йцукен», стал всё больше замечать, что процесс набора на этой паре раскладок имеет ряд неудобств, и чем больше я..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/583800/56f259f49280c2cdaeb3535c2c897d6e/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/583800/56f259f49280c2cdaeb3535c2c897d6e/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/583800/56f259f49280c2cdaeb3535c2c897d6e/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/583800/56f259f49280c2cdaeb3535c2c897d6e/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/583800/56f259f49280c2cdaeb3535c2c897d6e/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="583800" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2021-10-19T08:11:07.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/583800/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/583800/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/583800/56f259f49280c2cdaeb3535c2c897d6e/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/TLHE/" title="TLHE" class="tm-user-info__userpic"><div class="tm-entity-image"><svg height="24" width="24" class="tm-svg-img tm-image-placeholder tm-image-placeholder_pink"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <span class="tm-user-info__user"><a href="/ru/users/TLHE/" class="tm-user-info__username">
      TLHE
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2021-10-19T08:11:07.000Z" title="2021-10-19, 11:11">19  октября   в 11:11</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Универсальная клавиатурная раскладка</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/read/" class="tm-article-snippet__hubs-item-link"><span>Читальный зал</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/Peripheral/" class="tm-article-snippet__hubs-item-link"><span>Периферия</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/DIY/" class="tm-article-snippet__hubs-item-link"><span>DIY или Сделай сам</span> <!----></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml"><h2>Предыстория и предпосылки</h2><br/>
Пару лет назад я, будучи стандартным пользователем «qwerty-йцукен», стал всё больше замечать, что процесс набора на этой паре раскладок имеет ряд неудобств, и чем больше я об этом думал, тем более раздражающими они казались.<br/>
<br/>
На каждой раскладке свой набор символов, из-за чего для некоторого набора нужно было переключать раскладку, вводить символ, а после возвращаться на прошлую; на каждой раскладке своё расположение для одних и тех же символов; некоторые востребованные символы и вовсе доступны только через комбинации с <code>alt</code>; ужасное расположение «ё» на русской раскладке; ну а об общем позиционировании букв на «qwerty» вы наверняка уже читали ранее, как и о полулегенде о намеренно сложном для набора расположении, как костыле для обхода западания клавиш на первых пишущих машинках.<br/>
<br/>
Тогда я стал искать, что же предлагают альтернативные раскладки. Как оказалось, они все пытаются решить только последнюю проблему. Бесспорно, весьма успешно, но только одну-единственную проблему. И только для английского языка. Для русского найденные раскладки выглядели крайне сомнительно и, как мы убедимся позже, едва ли были лучше стандартной. Также многие английские раскладки, очевидно, разрабатывались с оглядкой на «qwerty», не создавая альтернативу, а попросту немного изменяя стандартный вариант позиционирования.<br/>
<br/>
И это всего две раскладки, для двух популярнейших в интернете языков, хотя многие пользуются и тремя, а то и более.<br/>
<a name="habracut"></a><br/>
Немного поголосив «как же так получилось» и «ведь можно сделать так, и так» внезапно дошло – а ведь действительно можно. И начались попытки создания своей раскладки, в которой были бы учтены все названные и неназванные проблемы.<br/>
<br/>
Как и в любом проекте – первые версии были откровенно плохи. От одних решений приходилось сразу отказываться, к каким-то искать другие подходы, какие-то додумывать до нужного вида. И всё это, конечно же, должно быть обосновано, ведь просто «накидать из головы» несложно, но результат, увы, в таком случае будет соответствующий.<br/>
<br/>
Решения, которые будут описаны ниже взвешены, множество раз обдуманы и, по возможности, будут ссылаться на какие-либо цифры и факты, а не на собственное желание сделать «так-то». Собственное желание обозначено именно в предпосылках, а реализация уже должна опираться на объективные данные.<br/>
<br/>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">Дисклеймер</b>
                        <div class="spoiler_text">Описываемый ниже проект содержит пару решений, которые несколько отходят от привычного метода взаимодействия с клавиатурой и могут вызвать некое отторжение при первом взгляде, потому прошу читателей отнестись к этому непредвзято. Данные решения, пусть поначалу и выглядят странно, тем не менее они обоснованы и направлены исключительно на повышение удобства пользователя, в чём вы сможете убедиться сами.<br/>
<br/>
Пост написан с точки зрения процесса создания проекта, с объяснениями некоторых моментов от первого лица. Более формальное описание, по общему объёму эквивалентное тексту ниже, с описанием реализации и некоторыми «узкими» моментами, содержится в <a href="https://github.com/uqqu/layout#-russian-part" rel="nofollow noopener noreferrer">readme к проекту</a>.<br/>
<br/>
Периодически я буду ссылаться на подсчёты, сохранённые в <a href="https://github.com/uqqu/layout/blob/master/external/calculation.xlsx" rel="nofollow noopener noreferrer">external/calculation.xlsx</a> файле, взгляд на который, по ходу прочтения, также рекомендуется для большего понимания.<br/>
</div>
                    </div><br/>
Текущая версия является единой фонетической <abbr title="для двух письменностей">двускриптовой</abbr> клавиатурной раскладкой. О каждом прилагательном мы ещё поговорим.<br/>
<br/>
Раскладку можно логично разделить на две взаимосвязанные части: буквенная раскладка стандартного вида и символьная раскладка с некоторыми особенностями и функциями.<br/>
<br/>
<h2>Буквенная раскладка</h2><br/>
Для разграничения буквенных и прочих символов, все базовые нажатия клавиш буквенного блока были отданы исключительно под буквенную раскладку (или «слой»).<br/>
<br/>
Как можно понять, насколько удачное расположение символов? Выделить объективные критерии удобства. Ими стали:<br/>
<ul>
<li><abbr title="вероятность, с которой для набора любой случайной пары букв будут задействованы обе руки">чередование рук</abbr></li>
<li>минимизация вероятности использования одного пальца на два набора подряд <sup><abbr title="с учётом базовой вероятности повтора одной буквы">*</abbr></sup></li>
<li>равномерная нагрузка рук и пальцев</li>
<li>минимизация дополнительных движений</li>
</ul>Звучит до нелепости просто и очевидно, но именно это и определяет удобство процесса набора для конечного пользователя.<br/>
<br/>
Для последнего критерия буквенная часть клавиатуры была разделена на «группы удобства». Самой объективной группой является первая – домашние позиции пальцев, всем известный набор «фыва олдж» (в «йцукен» представлении). На неё мы и будем обращать внимание впоследствии.<br/>
<br/>
<h4>Частотные анализы</h4><br/>
Для максимально корректного учёта вышеперечисленных критериев, с просторов интернета были отобраны анализы частотности буквенных символов и их <abbr title="парная частотность">биграммных</abbr> значений. Выделив средние значения использования символов и их сочетаний, мы сможем рассчитать удобство по обозначенным критериям.<br/>
<br/>
Этап подбора анализов оказался несколько разочаровывающим, и впоследствии я к нему возвращался не раз, с целью как-либо улучшить и дополнить его. Но каждый раз я находил только новые копипасты и ссылки на одни и те же анализы, не все из которых даже являются полноценными анализами, имеют свои допущения, а некоторые и вовсе были откровенно ложны. После отбора достоверных анализов, чтобы хоть как-то расширить выборку, был написан небольшой пакет на python для создания частотных анализов (о чём был мой <a href="https://habr.com/ru/post/583304/">первый пост</a>) и выполнены собственные анализы.<br/>
Итоговая выборка – 13 символьных частотностей для английского языка, 8 для русского, 6 биграммных частотностей для английского и 4 для русского.<br/>
<br/>
Так как объём данных, на которых основывались анализы, весьма разнился, было бы некорректно учитывать их просто по среднему арифметическому, а в случае полноценной оглядки на объём – анализ с максимальной базовой выборкой просто бы перекрывал данные от прочих. Потому дабы немного сгладить значения объёмов я взял их кубические корни, от которых уже и подводил средние значения частотностей <sup><abbr title="объёмы анализов без указанного значения принимались за средние от прочих">*</abbr></sup>.<br/>
<br/>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">Результаты "мета-анализа"</b>
                        <div class="spoiler_text"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/vc/bg/sa/vcbgsaamepyu1xpmh375jseinqo.png"/><br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/e2/9a/dx/e29adxrydmmbtkgjsvrqfmway20.png"/><br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/-d/ca/kp/-dcakpmungcpnhy0zyv0ccbgw4y.png"/><br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/uc/yf/t-/ucyft-thsdqhetejgo94bgsc_jg.png"/><br/>
</div>
                    </div><br/>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">Ссылки на все использованные анализы, в порядке объёма выборки по убыванию</b>
                        <div class="spoiler_text">Английский язык; базовая частотность:<br/>
<ul>
<li><a href="http://norvig.com/mayzner.html" rel="nofollow noopener noreferrer">http://norvig.com/mayzner.html</a></li>
<li><a href="https://core.ac.uk/download/pdf/231084615.pdf" rel="nofollow noopener noreferrer">https://core.ac.uk/download/pdf/231084615.pdf</a></li>
<li><a href="http://practicalcryptography.com/cryptanalysis/letter-frequencies-various-languages/english-letter-frequencies/" rel="nofollow noopener noreferrer">http://practicalcryptography.com/cryptanalysis/letter-frequencies-various-languages/english-letter-frequencies/</a></li>
<li><a href="https://github.com/uqqu/frequency_analysis/tree/master/examples/multiUN_analysis" rel="nofollow noopener noreferrer">https://github.com/uqqu/frequency_analysis/tree/master/examples/multiUN_analysis</a></li>
<li><a href="http://www.macfreek.nl/memory/Letter_Distribution" rel="nofollow noopener noreferrer">http://www.macfreek.nl/memory/Letter_Distribution</a></li>
<li><a href="http://www.viviancook.uk/SpellStats/SingleLetterFrequencies.htm" rel="nofollow noopener noreferrer">http://www.viviancook.uk/SpellStats/SingleLetterFrequencies.htm</a></li>
<li><a href="http://www.fitaly.com/board/domper3/posts/136.html" rel="nofollow noopener noreferrer">http://www.fitaly.com/board/domper3/posts/136.html</a></li>
<li><a href="https://www.sttmedia.com/characterfrequency-english" rel="nofollow noopener noreferrer">https://www.sttmedia.com/characterfrequency-english</a></li>
<li><a href="https://mathstats.uncg.edu/sites/pauli/112/HTML/secfrequency.html" rel="nofollow noopener noreferrer">https://mathstats.uncg.edu/sites/pauli/112/HTML/secfrequency.html</a></li>
<li><a href="http://pi.math.cornell.edu/~mec/2003-2004/cryptography/subs/frequencies.html" rel="nofollow noopener noreferrer">http://pi.math.cornell.edu/~mec/2003-2004/cryptography/subs/frequencies.html</a></li>
<li><a href="http://www.math.ucsd.edu/~crypto/Projects/MarshaMoreno/TimeComparisonFrequency.pdf" rel="nofollow noopener noreferrer">http://www.math.ucsd.edu/~crypto/Projects/MarshaMoreno/TimeComparisonFrequency.pdf</a></li>
<li><a href="http://cs.wellesley.edu/~fturbak/codman/letterfreq.html" rel="nofollow noopener noreferrer">http://cs.wellesley.edu/~fturbak/codman/letterfreq.html</a></li>
<li><a href="http://en.algoritmy.net/article/40379/Letter-frequency-English" rel="nofollow noopener noreferrer">http://en.algoritmy.net/article/40379/Letter-frequency-English</a></li>
</ul><br/>
Русский язык; базовая частотность:<br/>
<ul>
<li><a href="http://dict.ruslang.ru/freq.php?act=show&amp;dic=freq_letters" rel="nofollow noopener noreferrer">http://dict.ruslang.ru/freq.php?act=show&amp;dic=freq_letters</a></li>
<li><a href="http://practicalcryptography.com/cryptanalysis/letter-frequencies-various-languages/russian-letter-frequencies/" rel="nofollow noopener noreferrer">http://practicalcryptography.com/cryptanalysis/letter-frequencies-various-languages/russian-letter-frequencies/</a></li>
<li><a href="https://github.com/uqqu/frequency_analysis/tree/master/examples/annot_opcorpora_analysis" rel="nofollow noopener noreferrer">https://github.com/uqqu/frequency_analysis/tree/master/examples/annot_opcorpora_analysis</a></li>
<li><a href="http://lg--web.chat.ru/texts.html" rel="nofollow noopener noreferrer">http://lg--web.chat.ru/texts.html</a></li>
<li><a href="https://www.sttmedia.com/characterfrequency-russian" rel="nofollow noopener noreferrer">https://www.sttmedia.com/characterfrequency-russian</a></li>
<li><a href="https://dpva.ru/Guide/GuideUnitsAlphabets/Alphabets/FrequencyRuLetters/" rel="nofollow noopener noreferrer">https://dpva.ru/Guide/GuideUnitsAlphabets/Alphabets/FrequencyRuLetters/</a></li>
<li><a href="http://simia.net/letters/index.html" rel="nofollow noopener noreferrer">http://simia.net/letters/index.html</a></li>
<li>Яглом А.М., Яглом И.М., Вероятность и информация, М.: Наука, 1973 / с.238</li>
</ul><br/>
Английский язык; парная частотность:<br/>
<ul>
<li><a href="https://gist.github.com/lydell/c439049abac2c9226e53" rel="nofollow noopener noreferrer">https://gist.github.com/lydell/c439049abac2c9226e53</a></li>
<li><a href="http://practicalcryptography.com/cryptanalysis/letter-frequencies-various-languages/english-letter-frequencies/" rel="nofollow noopener noreferrer">http://practicalcryptography.com/cryptanalysis/letter-frequencies-various-languages/english-letter-frequencies/</a></li>
<li><a href="https://github.com/uqqu/frequency_analysis/tree/master/examples/multiUN_analysis" rel="nofollow noopener noreferrer">https://github.com/uqqu/frequency_analysis/tree/master/examples/multiUN_analysis</a></li>
<li><a href="https://link.springer.com/content/pdf/10.3758/BF03201360.pdf" rel="nofollow noopener noreferrer">https://link.springer.com/content/pdf/10.3758/BF03201360.pdf</a></li>
<li><a href="http://homepages.math.uic.edu/~leon/mcs425-s08/handouts/char_freq2.pdf" rel="nofollow noopener noreferrer">http://homepages.math.uic.edu/~leon/mcs425-s08/handouts/char_freq2.pdf</a></li>
<li><a href="https://www.joyofdata.de/blog/frequency-of-character-combinations/" rel="nofollow noopener noreferrer">https://www.joyofdata.de/blog/frequency-of-character-combinations/</a></li>
</ul><br/>
Русский язык; парная частотность:<br/>
<ul>
<li><a href="http://practicalcryptography.com/cryptanalysis/letter-frequencies-various-languages/russian-letter-frequencies/" rel="nofollow noopener noreferrer">http://practicalcryptography.com/cryptanalysis/letter-frequencies-various-languages/russian-letter-frequencies/</a></li>
<li><a href="https://github.com/uqqu/frequency_analysis/tree/master/examples/annot_opcorpora_analysis" rel="nofollow noopener noreferrer">https://github.com/uqqu/frequency_analysis/tree/master/examples/annot_opcorpora_analysis</a></li>
<li><a href="https://www.joyofdata.de/blog/frequency-of-character-combinations/" rel="nofollow noopener noreferrer">https://www.joyofdata.de/blog/frequency-of-character-combinations/</a></li>
<li><a href="http://statistica.ru/local-portals/data-mining/analiz-tekstov/" rel="nofollow noopener noreferrer">http://statistica.ru/local-portals/data-mining/analiz-tekstov/</a></li>
</ul><br/>
</div>
                    </div><br/>
<h4>Создание раскладки</h4><br/>
На основе выделенных критериев и собранных анализов в excel'е был создан лист с автоматическим подсчётом значений, на основе введённой раскладки.<br/>
<br/>
Вы также можете поэкспериментировать с ним, изменяя позиции буквенных символов. Все оценки изменяются динамически, в зависимости от текущего вида.<br/>
<br/>
Я же, перепробовав различные варианты для обоих языков, пришёл к тому, что фонетическое переложение с английской раскладки на русскую не сильно проигрывает по критериям лучшему, на тот момент, варианту русской раскладки. Потому я остановился на фонетическом варианте, в дальнейшем дорабатывая лучшие позиции на основе параллельного позиционирования. Текущий вид, после многих перестановок, с претензией на финальный:<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/2n/ov/7c/2nov7cnj2pw1jhsd6aqmm1lu3pe.png"/><br/>
<br/>
Не отходя от привычных методов именования, название раскладки составилось, с небольшой стилизацией, по первым символам верхнего ряда – «qPhyx».<br/>
<br/>
<h4>Значения по критериям</h4><br/>
Давайте взглянем на автоматически рассчитанные значения созданной раскладки:<br/>
<ul>
<li>чередование рук – <abbr title="en">70.58%</abbr> и <abbr title="ru">71.23%</abbr></li>
<li>вероятность <abbr title="без учёта базового повторения одного и того же символа">«чистого»</abbr> повторного нажатия одним пальцем – 2.55% и 4.54%</li>
<li>равномерность нагрузки рук – 48.36/51.64% и 52.35/47.65%</li>
<li>максимальная разница нагрузки пальцев – 4.86% и 8.98%</li>
<li>использование <abbr title="«фыва олдж»">«домашней» группы</abbr> – 64.95% и 58.07%</li>
</ul>Конечно, это мало о чём говорит, поэтому давайте для примера взглянем на аналогичные цифры, на тех же входных данных, для некоторых популярных раскладок.<br/>
<br/>
Но прежде стоит обговорить отдельно – прямое сравнение этих значений не является корректным, так как эти раскладки разнятся концептуально, и эти значения лишь один из показателей, исключительно для общего представления.<br/>
<br/>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">йцукен (ru)</b>
                        <div class="spoiler_text"><ul>
<li>чередование рук – 53.50%</li>
<li>вероятность «чистого» повторного нажатия одним пальцем – 19.17%</li>
<li>равномерность нагрузки рук – 53.53/46.47%</li>
<li>максимальная разница нагрузки пальцев – 29.72%</li>
<li>использование «домашней» группы – 33.86%</li>
</ul><i>Занимательный факт: <abbr title="65.37%">две трети</abbr> всех нажатий в «йцукен» приходятся на указательные пальцы. А подобная сгруппированность популярнейших символов в результате приводит к тому, что и каждое пятое нажатие будет выполняться одним и тем же пальцем. О каком «десятипальцевом наборе» в такой ситуации может идти речь?</i><br/>
<br/>
</div>
                    </div><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">яверты (ru)</b>
                        <div class="spoiler_text"><i>* Учитывались только буквы основного буквенного блока.</i><br/>
<ul>
<li>чередование рук – 48.11%</li>
<li>вероятность «чистого» повторного нажатия одним пальцем – 8.98%</li>
<li>равномерность нагрузки рук – 53.40/46.87%</li>
<li>максимальная разница нагрузки пальцев – 13.09%</li>
<li>использование «домашней» группы – 25.92%</li>
</ul></div>
                    </div><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">qwerty (en)</b>
                        <div class="spoiler_text"><ul>
<li>чередование рук – 52.60%</li>
<li>вероятность «чистого» повторного нажатия одним пальцем – 7.08%</li>
<li>равномерность нагрузки рук – 58.69/41.31%</li>
<li>максимальная разница нагрузки пальцев – 20.17%</li>
<li>использование «домашней» группы – 25.70%</li>
</ul></div>
                    </div><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">workman (en)</b>
                        <div class="spoiler_text"><ul>
<li>чередование рук – 55.96%</li>
<li>вероятность «чистого» повторного нажатия одним пальцем – 2.91%</li>
<li>равномерность нагрузки рук – 51.49/48.51%</li>
<li>максимальная разница нагрузки пальцев – 11.14%</li>
<li>использование «домашней» группы – 63.71%</li>
</ul></div>
                    </div><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">colemak (en)</b>
                        <div class="spoiler_text"><ul>
<li>чередование рук – 58.64%</li>
<li>вероятность «чистого» повторного нажатия одним пальцем – 1.26%</li>
<li>равномерность нагрузки рук – 48.38/51.62%</li>
<li>максимальная разница нагрузки пальцев – 12.05%</li>
<li>использование «домашней» группы – 64.95%</li>
</ul></div>
                    </div><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">dvorak (en)</b>
                        <div class="spoiler_text"><ul>
<li>чередование рук – 70.67%</li>
<li>вероятность «чистого» повторного нажатия одним пальцем – 2.61%</li>
<li>равномерность нагрузки рук – 43.30/56.70%</li>
<li>максимальная разница нагрузки пальцев – 9.48%</li>
<li>использование «домашней» группы – 58.92%</li>
</ul></div>
                    </div><br/>
Больше раскладок и их значений вы можете найти в упоминавшемся <a href="https://github.com/uqqu/layout/blob/master/external/calculation.xlsx" rel="nofollow noopener noreferrer">.xlsx</a> файле. Здесь перечислены лишь основные показатели наиболее важных к упоминанию раскладок.<br/>
<br/>
Исходя из этих значений вы можете отметить, насколько слабо́ стандартное позиционирование буквенных символов. В качестве лидера, среди именитых раскладок, можно выделить «dvorak», с отличными показателями по доброй половине критериев. О русских раскладках говорить нечего, ибо альтернатив особо-то и нет, а ужасающие показатели имеющихся вы видите сами.<br/>
<br/>
<h2>Символьная раскладка</h2><br/>
Требования к символьной раскладке, включая уже озвученные ранее:<br/>
<ul>
<li>единство символов для любой буквенной раскладки</li>
<li>разграничение между буквенным и символьным слоями</li>
<li>группировка символов по логическим категориям</li>
<li>расширенный набор символов; добавление диакритических символов</li>
<li>расположение с учётом «групп удобства»</li>
</ul>Так как базовые нажатия в «буквенном блоке» у нас все отданы исключительно буквенным символам, даже несмотря на то, что клавиш больше, чем букв, в случае английского языка, а расположение символов в цифровом ряду вызовет огромные неудобства, лучшим вариантом будет расположение под модификаторами.<br/>
<br/>
Опробовав различные варианты, я выбрал двух финалистов, что открывает сразу 66 позиций для расположения в буквенном блоке. В качестве модификаторов был выбран<code>alt</code> и, тут мы подошли к самому потенциально отпугивающему моменту проекта, длинные нажатия. Не спешите закрывать страницу. Я действительно считаю это решение хорошим, и пользуюсь им уже более года, начиная с первых попыток создания этого проекта, и за это время я ни разу о нём не пожалел. То, что я называю «длинным» нажатием на деле занимает 0.15с, и может быть легко перенастроено в процессе использования на любое другое значение. Мне, на текущий момент, значение в 0.12с кажется наиболее оптимальным. <br/>
<br/>
Да, поначалу это действительно очень непривычно, но как только эта функциональность переходит в автоматизм, набор символов становится такой же простой, как и буквенный набор в нижнем регистре, и я ничуть не преувеличиваю. Широкой аргументации по этому вопросу быть не может, так как это та функциональность, которую нужно опробовать лично. И сравнение с набором на мобильной клавиатуре также не подойдёт, так как ощущаются они весьма по-разному. Потому больше не будем задерживаться на этом пункте и вернёмся непосредственно к символам. <br/>
<br/>
Озвученные ранее позиции были заполнены следующим образом:<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/g1/07/tl/g107tlyb6vukqrha70jovbiyi8o.png"/><br/>
<br/>
Зелёным выделен основной набор символов, используемый повсеместно, и присутствовавший на «qwerty-йцукен». Серым выделен дополнительный набор символов из числа более или менее востребованных. Синим – базовые навигационно-управляющие команды. В углу, под извечным «ъ», расположились комбинируемые акут и гравис, в первую очередь как маркёры основного и побочного ударений.<br/>
<br/>
Итак, что мы имеем по изначальным условиям:<br/>
<ul>
<li>символы образуют собственный единый и независимый от буквенной раскладки слой</li>
<li>символы сгруппированы <abbr title="базовая математика, валюты, пунктуация, скобки с зеркальным отображением вокруг домашнего ряда">по категориям</abbr></li>
<li>включены дополнительные символы и команды, из числа потенциально востребованных</li>
<li>распределение с учётом «групп удобства» соблюдено</li>
</ul>И, чтобы долго не затягивать, давайте познакомимся со вторым потенциально спорным моментом и перейдём к цифровому ряду:<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/mh/cd/-y/mhcd-y6lz4dgdtv5wlapaaxx5ps.png"/><br/>
<br/>
Да, здесь немного переназначены привычные <code>enter</code>/<code>caps</code>/<code>backspace</code>. <br/>
На самом деле просто <code>esc</code> и <code>backspace</code> опустились пониже на одну-две клавиши, из-за чего доступ к ним <b>значительно</b> упростился (новый "<code>enter as backspace</code>" с шифтом работает ещё и как <code>delete</code>), а <code>enter</code> переехал на противоположную сторону. Это второй упоминавшийся потенциально спорный момент, но, повторюсь – это направлено исключительно на повышение удобства, в чём вы можете убедиться сами прямо сейчас – поставьте пальцы на домашние позиции и посмотрите, как к каким клавишам, из перечисленных, вы тянетесь, и насколько предложенный вариант удобнее.<br/>
Чуть опустевший <code>backspace</code> теперь выполняет функции медиа-управления.<br/>
Функция <code>caps lock</code> перекрыта, но так как она может представлять интерес для отдельных пользователей, она может быть назначена на бывший <code>esc</code> в настройках.<br/>
На этом спорные моменты закончились, а вот пост ещё нет. Впереди непосредственно цифровой ряд и особенно радующие меня языковые модификации.<br/>
<br/>
<h4>Цифровой ряд</h4><br/>
Базовые значения клавиш-цифр не изменились, а на позициях бывших <code>-</code> и <code>=</code> расположены кнопки пользовательского ввода, которые будучи пустыми выполняют функцию увеличения или уменьшения текущего выделенного числа. Если определены пользователем – отправляют назначенный символ или их комбинацию. <br/>
<br/>
Под альтом расположилась чуть ли не вся используемая различными языками комбинируемая диакритика. С её помощью раскладка может быть использована для всех языков, имеющих оную в своём алфавите или в особенностях письма. К слову, за исключением английского, диакритику в той или иной мере использует абсолютное большинство языков на латинице. В частности, из первых 15 крупнейших языков этой категории регулярная диакритика отсутствует только у непосредственно английского и индонезийского. <br/>
Под обычным нажатием с <code>alt</code> расположены надстрочные диакритические символы, под «длинным» с <code>alt</code>– подстрочные (кроме двух последних символов).<br/>
<br/>
Под шифтом же здесь находится часть, которая ранее упоминалась как «языковые модификации». Этой идее я рад особенно, ведь с её помощью раскладка для языка становится раскладкой для целой письменности, что было обозначено, но не обговорено, изначально. На этом остановимся отдельно.<br/>
<br/>
<h4>Языковые модификации</h4><br/>
К вопросу мультиязычности есть всего один устоявшийся подход – создание отдельной раскладки под каждый язык. Поначалу я также стал делать переложения на прочие языки, с некоторой опаской подумывая о том, что они могут не вписаться в такую цельную фонетическую систему. Но опасения были напрасны. Новые раскладки не просто отлично вписывались в единую раскладку, они, напротив, подняли вопрос – а в чём разница между двумя смежными раскладками? Общая картина частотностей едина, базовый набор символов, по большей части, един. Выходит, только в специфичных языковых символах? Тогда проскочила новая дерзкая мысль – а почему бы не превратить раскладку для языка в раскладку для всей письменности, без ущерба для функциональности первой? От скольких неудобств это бы избавило! Ведь такой раскладкой смог бы пользоваться в равной мере и носитель русского, и носитель другого кириллического языка, и тот, кто постоянно перемежает два или даже более языков одной письменности, что далеко не редкость. Аналогично и для латинской письменности.<br/>
<br/>
С этой мыслью я составил список таких специфичных языковых символов. Конечно, он вышел огромным, и полностью вписать его не представлялось возможным. Но полностью вписывать нам его и не нужно, достаточно лишь разбить на группы, из которых каждый пользователь сможет выбрать ту, которая потенциально может ему пригодиться, или сменить в процессе. Группы, в сочетании с основной раскладкой, покрывают языковые потребности подавляющего количества людей. Эти группы и есть те самые упомянутые языковые модификации. <br/>
<br/>
Модификации «привязаны» к письменности и учитываются раздельно. В отображении выше показан вид с основными модификациями для латиницы и кириллицы.<br/>
<br/>
Так как набор символов языковых модификаций расположен в собственном ряду, он не будет мешать пользователям, у которых нет потребности в его использовании, но, в то же время, при даже редкой необходимости всегда доступен. Реализация мультиязычности через модификации не мешает потенциальному использованию отдельной раскладки, если необходимость в такой понадобится, а может даже и выступить в роли симбионта для последней.<br/>
<br/>
Что же, перейдём к самому разбиению и результатам.<br/>
<br/>
Стоит предварительно внести ясность: буквы с диакритикой в разных языках могут являться как отдельными алфавитными символами, так и просто буквами с добавленной диакритикой. <br/>
Пример: ñ в испанском языке графически эквивалентна n + диакритическая тильда, однако в алфавите закреплена как самостоятельная, отдельная буква. Или, более близкий пример – наши привычные <abbr title="и + кратка/бревис">й</abbr> и <abbr title="е + диэрезис/умлаут">ё</abbr>.<br/>
<br/>
При составлении списка специфичных языковых символов учитывались именно алфавитные символы, как они закреплены в официальных текущих версиях языков, за редкими исключениями, и то, исключительно в пользу самих языков. Оглядка на наборы добавочной диакритики, специфичной для конкретных языков не выносится в данном тексте отдельно – она была учтена и покрыта полностью для всех поддерживаемых языков или версий романизации для неподдерживаемых.<br/>
Однако на ввод, <abbr title="может быть изменено впоследствии">в текущей версии</abbr>, в целях унификации, такие отдельные алфавитные символы подаются именно в комбинированном виде, где это возможно.<br/>
<br/>
Латинская и кириллическая стороны модификаций несколько разнятся концептуально, что обусловлено символьными особенностями участников этих категорий. Начнём с латинской:<br/>
<br/>
12 доступных символов разбиты на две категории – самостоятельные символы и символы упрощённого набора. Самостоятельные символы – <code><a href="https://www.wikiwand.com/en/%C5%81" rel="nofollow noopener noreferrer">ł</a> <a href="https://www.wikiwand.com/en/D_with_stroke" rel="nofollow noopener noreferrer">đ</a> <a href="https://www.wikiwand.com/en/Dotted_and_dotless_I" title="i без точки" rel="nofollow noopener noreferrer">ı</a> <a href="https://www.wikiwand.com/en/%C3%9F" rel="nofollow noopener noreferrer">ß</a> <a href="https://www.wikiwand.com/en/%C3%98" rel="nofollow noopener noreferrer">ø</a> <a href="https://www.wikiwand.com/en/%C3%86" rel="nofollow noopener noreferrer">æ</a> <a href="https://www.wikiwand.com/en/%C5%92" rel="nofollow noopener noreferrer">œ</a></code>, с небольшой оговоркой для ł, доступны из любых модификаций, что, следовательно, позволяет использовать языки, доступ к которым они открывают также из любых модификаций. Символы упрощённого набора – те, которые могут быть реализованы в виде с комбинируемой диакритикой, и именно они будут меняться при выборе модификации, в зависимости от потребностей выбранного языка.<br/>
<br/>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">Пара комментариев к ñ и đ и оговорка об ł</b>
                        <div class="spoiler_text"><b>ñ</b> – n с тильдой. Данный символ сам по себе, без прочих, открывает упрощённый набор для испанского языка и всех языков, на которые повлиял последний – испанидад. Из-за этого он занял свободное место в модификациях, в которых количество символов упрощённого набора закончилось на четырёх, потенциально расширяя область применения данных модификаций.<br/>
<b>ł</b> – l с диагональным штрихом. Ситуация зеркальная по отношению к предыдущему символу – символ, хоть и является буквой с диакритикой, находится в категории самостоятельных, т.к. не может быть корректно отображён в виде с комбинируемой диакритикой. Также он имеет достаточно ограниченное использование, и от него не зависят прочие символы. Из-за этого, в модификациях, требующих 6 дополнительных символов, последнее место было отдано от "ł". Но таких модификаций не так много, что не делает этот факт чересчур значимым.<br/>
<b>đ</b> – d со штрихом. Как и предыдущий – не может быть корректно отображён в комбинированном виде. Вдобавок, он имеет свои особенности для двух конкретных модификаций – исландский/староанглийский и язык мосси. Всё дело в том, что в данных модификациях используются собственные вариации данного символа, имеющие собственное название и применение. Во всех модификациях, помимо оговоренных выше, это <code>đ Đ</code>, для исландского/староанглийского это <code>ð Ð</code>, для мосси – <code>ɖ Ɖ</code>. Обратите внимание, что варианты в верхнем регистре, несмотря на единое начертание, являются разными юникод-символами.<br/>
</div>
                    </div><br/>
Расположением символов упрощённого набора по «динамическим» позициям были составлены модификации для латинской письменности. При позиционировании символов были попытки располагать одинаковые или графически близкие символы на одинаковых позициях, но это не всегда представлялось возможным. Итоговое количество – 31 модификация, 24 из которых составлены с 5 динамическими символами, а 7 – с 6.<br/>
<br/>
Конечно, разные языки в разной мере зависят от модификаций, потому стоит разделить их по категориям поддержки:<br/>
<br/>
<b>Полностью поддерживаемые языки</b><br/>
Языки, никоим образом не зависящие от выбранной модификации, и полноценно доступные к набору. Английский, французский, вьетнамский, португальский, итальянский, индонезийский,…<br/>
<br/>
<b>Полностью поддерживаемые языки «из коробки»</b><br/>
Языки, доступные к набору из любой модификации, при этом имеющие упрощённый набор из <abbr title="ñ å ä ö ü">основной</abbr>. Испанский, немецкий, шведский, датский, финский, норвежский,…<br/>
<br/>
<b>Диакритически поддерживаемые языки с опциональной модификацией для упрощения набора</b><br/>
Позвольте на примере – турецкий: язык может быть использован с любой модификацией (к примеру, с основной <code>ñ å ä ö ü</code>), при наборе дополнительных символов в два нажатия через диакритические символы, но при выбранной турецкой модификации (<code>ç ş ğ ö ü</code>) эти же символы становятся доступны через одинарное нажатие, не теряя общей функциональности.<br/>
К этой категории поддержки относятся турецкий, румынский, хорватский (гаевица), словенский, эстонский,…<br/>
<br/>
<b>Диакритически поддерживаемые языки (без/с частичной) опциональной модификацией для упрощения набора</b><br/>
Языки с крайне богатой диакритикой, такие как польский, чешский или словацкий, попросту не помещаются для упрощённого набора, однако полноценно доступны к набору через диакритику из любой модификации.<br/>
<br/>
<b>Модификационно поддерживаемые языки</b><br/>
Языки, полноценный набор на которых возможен только на специальных модификациях. Ещё раз отмечу, что специальные модификации сохраняют все возможности набора на языках предыдущих категорий.<br/>
<i>Согласно <a href="https://w3techs.com/technologies/overview/content_language" rel="nofollow noopener noreferrer">w3techs.com</a> в этой категории нет языков с долей использования в интернете более 0.05%</i><br/>
<br/>
<b>Неподдерживаемые языки</b><br/>
Языки с основной письменностью отличной от латиницы и кириллицы. Для всех из них поддерживаются все варианты романизации (в том числе, из разряда недоступных на стандартной ISO basic Latin).<br/>
<br/>
Теперь о кириллических модификациях.<br/>
<br/>
Так как в кириллическом наборе дополнительных языковых символов отсутствуют единые «над-символы», использование которых может быть востребовано из любой модификации, а также учитывая, что все символы являются самостоятельными, ввиду того факта, что комбинируемая диакритика крайне печально работает с кириллицей – все 12 мест являются динамическими. <br/>
Это позволило объединить в группах целые ряды языков, итоговое количество которых – 4 группы + 1 <abbr title="абхазский">отдельный язык</abbr>. Также это влияет на то, что здесь нет «основной» модификации, хотя, фактически, из-за расположения по востребованности, её место занимает группа «украинский, белорусский, ...».<br/>
<br/>
Но так или иначе, в кириллической раскладке, в отличие от латинской, вас не будут интересовать прочие модификации, вы лишь единожды выбираете ту, использование которой вам может пригодиться. Поэтому все данные языки были приравнены ко второй категории поддержки языков, хотя они относятся в равной мере как ко второй, так и к пятой категориям.<br/>
<br/>
<h2>Завершение</h2><br/>
<h4>Proof of concept</h4><br/>
С полной реализацией данной раскладки можно ознакомиться и опробовать <a href="https://github.com/uqqu/layout" rel="nofollow noopener noreferrer">на гитхабе</a>. Текущая версия доступна к использованию на Windows, а также существует переложение на Android. Помимо реализации концепта, которому посвящён весь текст выше, также имеется различная вспомогательная внутренняя и внешняя функциональность, относящаяся непосредственно к использованию, и освещённая в соответствующих разделах readme.<br/>
<br/>
<h4>Итоги</h4><br/>
Преимущества:<br/>
<ul>
<li>лучшие объективные показатели удобства набора на двух раскладках</li>
<li>символьно-единая фонетическая двускриптовая система набора</li>
<li>расширенная символьная поддержка</li>
<li>поддержка языковых модификаций, сохраняющих все преимущества единой системы, и в то же время снимающих все ограничения унификации с отдельных языков</li>
<li>дополнительный внутренний и внешний функционал</li>
</ul>Итоговый охват <abbr title="первые две категории поддержки">полностью</abbr> поддерживаемых языков – 88.89% интернета, согласно данным <a href="https://w3techs.com/technologies/overview/content_language" rel="nofollow noopener noreferrer">w3techs.com</a> за 19.10.2021.<br/>
<br/>
<hr/><br/>
Спасибо, что дочитали. Хочется верить, что резонансные моменты проекта не сильно отпугнули читателей. Проект находится на той стадии, когда его уже можно полноценно использовать по прямому назначению, но, в то же время, есть множество путей и возможностей развития и улучшения, а может и переосмысления некоторых отдельных решений. Надеюсь на конструктивную критику, которая поможет в этом развитии.</div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bkeyboard%20layout%5D" class="tm-tags-list__link">keyboard layout</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/read/" class="tm-hubs-list__link">
    Читальный зал
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/Peripheral/" class="tm-hubs-list__link">
    Периферия
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/DIY/" class="tm-hubs-list__link">
    DIY или Сделай сам
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 38: ↑38 и ↓0</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 38: ↑38 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+38</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">7.4K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    38
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/TLHE/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><svg class="tm-svg-img tm-image-placeholder tm-image-placeholder_pink"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <div class="tm-user-card__meta"><div title=" 14 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    12
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">20</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><!----> <a href="/ru/users/TLHE/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @TLHE
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/583800/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 38 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/583800/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/583800/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"583800":{"id":"583800","timePublished":"2021-10-19T08:11:07+00:00","isCorporative":false,"lang":"ru","titleHtml":"Универсальная клавиатурная раскладка","leadData":{"textHtml":"\u003Ch2\u003EПредыстория и предпосылки\u003C\u002Fh2\u003E\u003Cbr\u003E\r\nПару лет назад я, будучи стандартным пользователем «qwerty-йцукен», стал всё больше замечать, что процесс набора на этой паре раскладок имеет ряд неудобств, и чем больше я об этом думал, тем более раздражающими они казались.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nНа каждой раскладке свой набор символов, из-за чего для некоторого набора нужно было переключать раскладку, вводить символ, а после возвращаться на прошлую; на каждой раскладке своё расположение для одних и тех же символов; некоторые востребованные символы и вовсе доступны только через комбинации с \u003Ccode\u003Ealt\u003C\u002Fcode\u003E; ужасное расположение «ё» на русской раскладке; ну а об общем позиционировании букв на «qwerty» вы наверняка уже читали ранее, как и о полулегенде о намеренно сложном для набора расположении, как костыле для обхода западания клавиш на первых пишущих машинках.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТогда я стал искать, что же предлагают альтернативные раскладки. Как оказалось, они все пытаются решить только последнюю проблему. Бесспорно, весьма успешно, но только одну-единственную проблему. И только для английского языка. Для русского найденные раскладки выглядели крайне сомнительно и, как мы убедимся позже, едва ли были лучше стандартной. Также многие английские раскладки, очевидно, разрабатывались с оглядкой на «qwerty», не создавая альтернативу, а попросту немного изменяя стандартный вариант позиционирования.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИ это всего две раскладки, для двух популярнейших в интернете языков, хотя многие пользуются и тремя, а то и более.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":12,"votesCount":14},"rating":20,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"1660759","alias":"TLHE","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"statistics":{"commentsCount":38,"favoritesCount":38,"readingCount":7448,"score":38,"votesCount":38},"hubs":[{"relatedData":null,"id":"20742","alias":"read","type":"collective","title":"Читальный зал","titleHtml":"Читальный зал","isProfiled":false},{"relatedData":null,"id":"21954","alias":"Peripheral","type":"collective","title":"Периферия","titleHtml":"Периферия","isProfiled":false},{"relatedData":null,"id":"21976","alias":"DIY","type":"collective","title":"DIY или Сделай сам","titleHtml":"DIY или Сделай сам","isProfiled":false}],"flows":[{"id":"3","alias":"management","title":"Менеджмент"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Ch2\u003EПредыстория и предпосылки\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nПару лет назад я, будучи стандартным пользователем «qwerty-йцукен», стал всё больше замечать, что процесс набора на этой паре раскладок имеет ряд неудобств, и чем больше я об этом думал, тем более раздражающими они казались.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа каждой раскладке свой набор символов, из-за чего для некоторого набора нужно было переключать раскладку, вводить символ, а после возвращаться на прошлую; на каждой раскладке своё расположение для одних и тех же символов; некоторые востребованные символы и вовсе доступны только через комбинации с \u003Ccode\u003Ealt\u003C\u002Fcode\u003E; ужасное расположение «ё» на русской раскладке; ну а об общем позиционировании букв на «qwerty» вы наверняка уже читали ранее, как и о полулегенде о намеренно сложном для набора расположении, как костыле для обхода западания клавиш на первых пишущих машинках.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТогда я стал искать, что же предлагают альтернативные раскладки. Как оказалось, они все пытаются решить только последнюю проблему. Бесспорно, весьма успешно, но только одну-единственную проблему. И только для английского языка. Для русского найденные раскладки выглядели крайне сомнительно и, как мы убедимся позже, едва ли были лучше стандартной. Также многие английские раскладки, очевидно, разрабатывались с оглядкой на «qwerty», не создавая альтернативу, а попросту немного изменяя стандартный вариант позиционирования.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИ это всего две раскладки, для двух популярнейших в интернете языков, хотя многие пользуются и тремя, а то и более.\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nНемного поголосив «как же так получилось» и «ведь можно сделать так, и так» внезапно дошло – а ведь действительно можно. И начались попытки создания своей раскладки, в которой были бы учтены все названные и неназванные проблемы.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКак и в любом проекте – первые версии были откровенно плохи. От одних решений приходилось сразу отказываться, к каким-то искать другие подходы, какие-то додумывать до нужного вида. И всё это, конечно же, должно быть обосновано, ведь просто «накидать из головы» несложно, но результат, увы, в таком случае будет соответствующий.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРешения, которые будут описаны ниже взвешены, множество раз обдуманы и, по возможности, будут ссылаться на какие-либо цифры и факты, а не на собственное желание сделать «так-то». Собственное желание обозначено именно в предпосылках, а реализация уже должна опираться на объективные данные.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\" role=\"button\" tabindex=\"0\"\u003E\n                        \u003Cb class=\"spoiler_title\"\u003EДисклеймер\u003C\u002Fb\u003E\n                        \u003Cdiv class=\"spoiler_text\"\u003EОписываемый ниже проект содержит пару решений, которые несколько отходят от привычного метода взаимодействия с клавиатурой и могут вызвать некое отторжение при первом взгляде, потому прошу читателей отнестись к этому непредвзято. Данные решения, пусть поначалу и выглядят странно, тем не менее они обоснованы и направлены исключительно на повышение удобства пользователя, в чём вы сможете убедиться сами.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПост написан с точки зрения процесса создания проекта, с объяснениями некоторых моментов от первого лица. Более формальное описание, по общему объёму эквивалентное тексту ниже, с описанием реализации и некоторыми «узкими» моментами, содержится в \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fuqqu\u002Flayout#-russian-part\" rel=\"nofollow noopener noreferrer\"\u003Ereadme к проекту\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПериодически я буду ссылаться на подсчёты, сохранённые в \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fuqqu\u002Flayout\u002Fblob\u002Fmaster\u002Fexternal\u002Fcalculation.xlsx\" rel=\"nofollow noopener noreferrer\"\u003Eexternal\u002Fcalculation.xlsx\u003C\u002Fa\u003E файле, взгляд на который, по ходу прочтения, также рекомендуется для большего понимания.\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\n                    \u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nТекущая версия является единой фонетической \u003Cabbr title=\"для двух письменностей\"\u003Eдвускриптовой\u003C\u002Fabbr\u003E клавиатурной раскладкой. О каждом прилагательном мы ещё поговорим.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРаскладку можно логично разделить на две взаимосвязанные части: буквенная раскладка стандартного вида и символьная раскладка с некоторыми особенностями и функциями.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EБуквенная раскладка\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nДля разграничения буквенных и прочих символов, все базовые нажатия клавиш буквенного блока были отданы исключительно под буквенную раскладку (или «слой»).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКак можно понять, насколько удачное расположение символов? Выделить объективные критерии удобства. Ими стали:\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cabbr title=\"вероятность, с которой для набора любой случайной пары букв будут задействованы обе руки\"\u003Eчередование рук\u003C\u002Fabbr\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003Eминимизация вероятности использования одного пальца на два набора подряд \u003Csup\u003E\u003Cabbr title=\"с учётом базовой вероятности повтора одной буквы\"\u003E*\u003C\u002Fabbr\u003E\u003C\u002Fsup\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003Eравномерная нагрузка рук и пальцев\u003C\u002Fli\u003E\r\n\u003Cli\u003Eминимизация дополнительных движений\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003EЗвучит до нелепости просто и очевидно, но именно это и определяет удобство процесса набора для конечного пользователя.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля последнего критерия буквенная часть клавиатуры была разделена на «группы удобства». Самой объективной группой является первая – домашние позиции пальцев, всем известный набор «фыва олдж» (в «йцукен» представлении). На неё мы и будем обращать внимание впоследствии.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EЧастотные анализы\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nДля максимально корректного учёта вышеперечисленных критериев, с просторов интернета были отобраны анализы частотности буквенных символов и их \u003Cabbr title=\"парная частотность\"\u003Eбиграммных\u003C\u002Fabbr\u003E значений. Выделив средние значения использования символов и их сочетаний, мы сможем рассчитать удобство по обозначенным критериям.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЭтап подбора анализов оказался несколько разочаровывающим, и впоследствии я к нему возвращался не раз, с целью как-либо улучшить и дополнить его. Но каждый раз я находил только новые копипасты и ссылки на одни и те же анализы, не все из которых даже являются полноценными анализами, имеют свои допущения, а некоторые и вовсе были откровенно ложны. После отбора достоверных анализов, чтобы хоть как-то расширить выборку, был написан небольшой пакет на python для создания частотных анализов (о чём был мой \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F583304\u002F\"\u003Eпервый пост\u003C\u002Fa\u003E) и выполнены собственные анализы.\u003Cbr\u002F\u003E\r\nИтоговая выборка – 13 символьных частотностей для английского языка, 8 для русского, 6 биграммных частотностей для английского и 4 для русского.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТак как объём данных, на которых основывались анализы, весьма разнился, было бы некорректно учитывать их просто по среднему арифметическому, а в случае полноценной оглядки на объём – анализ с максимальной базовой выборкой просто бы перекрывал данные от прочих. Потому дабы немного сгладить значения объёмов я взял их кубические корни, от которых уже и подводил средние значения частотностей \u003Csup\u003E\u003Cabbr title=\"объёмы анализов без указанного значения принимались за средние от прочих\"\u003E*\u003C\u002Fabbr\u003E\u003C\u002Fsup\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\" role=\"button\" tabindex=\"0\"\u003E\n                        \u003Cb class=\"spoiler_title\"\u003EРезультаты \"мета-анализа\"\u003C\u002Fb\u003E\n                        \u003Cdiv class=\"spoiler_text\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fvc\u002Fbg\u002Fsa\u002Fvcbgsaamepyu1xpmh375jseinqo.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fe2\u002F9a\u002Fdx\u002Fe29adxrydmmbtkgjsvrqfmway20.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F-d\u002Fca\u002Fkp\u002F-dcakpmungcpnhy0zyv0ccbgw4y.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fuc\u002Fyf\u002Ft-\u002Fucyft-thsdqhetejgo94bgsc_jg.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\n                    \u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\" role=\"button\" tabindex=\"0\"\u003E\n                        \u003Cb class=\"spoiler_title\"\u003EСсылки на все использованные анализы, в порядке объёма выборки по убыванию\u003C\u002Fb\u003E\n                        \u003Cdiv class=\"spoiler_text\"\u003EАнглийский язык; базовая частотность:\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fnorvig.com\u002Fmayzner.html\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fnorvig.com\u002Fmayzner.html\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fcore.ac.uk\u002Fdownload\u002Fpdf\u002F231084615.pdf\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fcore.ac.uk\u002Fdownload\u002Fpdf\u002F231084615.pdf\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fpracticalcryptography.com\u002Fcryptanalysis\u002Fletter-frequencies-various-languages\u002Fenglish-letter-frequencies\u002F\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fpracticalcryptography.com\u002Fcryptanalysis\u002Fletter-frequencies-various-languages\u002Fenglish-letter-frequencies\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fuqqu\u002Ffrequency_analysis\u002Ftree\u002Fmaster\u002Fexamples\u002FmultiUN_analysis\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fuqqu\u002Ffrequency_analysis\u002Ftree\u002Fmaster\u002Fexamples\u002FmultiUN_analysis\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fwww.macfreek.nl\u002Fmemory\u002FLetter_Distribution\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fwww.macfreek.nl\u002Fmemory\u002FLetter_Distribution\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fwww.viviancook.uk\u002FSpellStats\u002FSingleLetterFrequencies.htm\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fwww.viviancook.uk\u002FSpellStats\u002FSingleLetterFrequencies.htm\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fwww.fitaly.com\u002Fboard\u002Fdomper3\u002Fposts\u002F136.html\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fwww.fitaly.com\u002Fboard\u002Fdomper3\u002Fposts\u002F136.html\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.sttmedia.com\u002Fcharacterfrequency-english\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fwww.sttmedia.com\u002Fcharacterfrequency-english\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fmathstats.uncg.edu\u002Fsites\u002Fpauli\u002F112\u002FHTML\u002Fsecfrequency.html\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fmathstats.uncg.edu\u002Fsites\u002Fpauli\u002F112\u002FHTML\u002Fsecfrequency.html\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fpi.math.cornell.edu\u002F~mec\u002F2003-2004\u002Fcryptography\u002Fsubs\u002Ffrequencies.html\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fpi.math.cornell.edu\u002F~mec\u002F2003-2004\u002Fcryptography\u002Fsubs\u002Ffrequencies.html\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fwww.math.ucsd.edu\u002F~crypto\u002FProjects\u002FMarshaMoreno\u002FTimeComparisonFrequency.pdf\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fwww.math.ucsd.edu\u002F~crypto\u002FProjects\u002FMarshaMoreno\u002FTimeComparisonFrequency.pdf\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fcs.wellesley.edu\u002F~fturbak\u002Fcodman\u002Fletterfreq.html\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fcs.wellesley.edu\u002F~fturbak\u002Fcodman\u002Fletterfreq.html\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fen.algoritmy.net\u002Farticle\u002F40379\u002FLetter-frequency-English\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fen.algoritmy.net\u002Farticle\u002F40379\u002FLetter-frequency-English\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nРусский язык; базовая частотность:\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fdict.ruslang.ru\u002Ffreq.php?act=show&amp;dic=freq_letters\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fdict.ruslang.ru\u002Ffreq.php?act=show&amp;dic=freq_letters\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fpracticalcryptography.com\u002Fcryptanalysis\u002Fletter-frequencies-various-languages\u002Frussian-letter-frequencies\u002F\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fpracticalcryptography.com\u002Fcryptanalysis\u002Fletter-frequencies-various-languages\u002Frussian-letter-frequencies\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fuqqu\u002Ffrequency_analysis\u002Ftree\u002Fmaster\u002Fexamples\u002Fannot_opcorpora_analysis\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fuqqu\u002Ffrequency_analysis\u002Ftree\u002Fmaster\u002Fexamples\u002Fannot_opcorpora_analysis\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Flg--web.chat.ru\u002Ftexts.html\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Flg--web.chat.ru\u002Ftexts.html\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.sttmedia.com\u002Fcharacterfrequency-russian\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fwww.sttmedia.com\u002Fcharacterfrequency-russian\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fdpva.ru\u002FGuide\u002FGuideUnitsAlphabets\u002FAlphabets\u002FFrequencyRuLetters\u002F\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fdpva.ru\u002FGuide\u002FGuideUnitsAlphabets\u002FAlphabets\u002FFrequencyRuLetters\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fsimia.net\u002Fletters\u002Findex.html\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fsimia.net\u002Fletters\u002Findex.html\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003EЯглом А.М., Яглом И.М., Вероятность и информация, М.: Наука, 1973 \u002F с.238\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nАнглийский язык; парная частотность:\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fgist.github.com\u002Flydell\u002Fc439049abac2c9226e53\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fgist.github.com\u002Flydell\u002Fc439049abac2c9226e53\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fpracticalcryptography.com\u002Fcryptanalysis\u002Fletter-frequencies-various-languages\u002Fenglish-letter-frequencies\u002F\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fpracticalcryptography.com\u002Fcryptanalysis\u002Fletter-frequencies-various-languages\u002Fenglish-letter-frequencies\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fuqqu\u002Ffrequency_analysis\u002Ftree\u002Fmaster\u002Fexamples\u002FmultiUN_analysis\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fuqqu\u002Ffrequency_analysis\u002Ftree\u002Fmaster\u002Fexamples\u002FmultiUN_analysis\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Flink.springer.com\u002Fcontent\u002Fpdf\u002F10.3758\u002FBF03201360.pdf\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Flink.springer.com\u002Fcontent\u002Fpdf\u002F10.3758\u002FBF03201360.pdf\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fhomepages.math.uic.edu\u002F~leon\u002Fmcs425-s08\u002Fhandouts\u002Fchar_freq2.pdf\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fhomepages.math.uic.edu\u002F~leon\u002Fmcs425-s08\u002Fhandouts\u002Fchar_freq2.pdf\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.joyofdata.de\u002Fblog\u002Ffrequency-of-character-combinations\u002F\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fwww.joyofdata.de\u002Fblog\u002Ffrequency-of-character-combinations\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nРусский язык; парная частотность:\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fpracticalcryptography.com\u002Fcryptanalysis\u002Fletter-frequencies-various-languages\u002Frussian-letter-frequencies\u002F\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fpracticalcryptography.com\u002Fcryptanalysis\u002Fletter-frequencies-various-languages\u002Frussian-letter-frequencies\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fuqqu\u002Ffrequency_analysis\u002Ftree\u002Fmaster\u002Fexamples\u002Fannot_opcorpora_analysis\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fgithub.com\u002Fuqqu\u002Ffrequency_analysis\u002Ftree\u002Fmaster\u002Fexamples\u002Fannot_opcorpora_analysis\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.joyofdata.de\u002Fblog\u002Ffrequency-of-character-combinations\u002F\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fwww.joyofdata.de\u002Fblog\u002Ffrequency-of-character-combinations\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fstatistica.ru\u002Flocal-portals\u002Fdata-mining\u002Fanaliz-tekstov\u002F\" rel=\"nofollow noopener noreferrer\"\u003Ehttp:\u002F\u002Fstatistica.ru\u002Flocal-portals\u002Fdata-mining\u002Fanaliz-tekstov\u002F\u003C\u002Fa\u003E\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\n                    \u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EСоздание раскладки\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nНа основе выделенных критериев и собранных анализов в excel'е был создан лист с автоматическим подсчётом значений, на основе введённой раскладки.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВы также можете поэкспериментировать с ним, изменяя позиции буквенных символов. Все оценки изменяются динамически, в зависимости от текущего вида.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ же, перепробовав различные варианты для обоих языков, пришёл к тому, что фонетическое переложение с английской раскладки на русскую не сильно проигрывает по критериям лучшему, на тот момент, варианту русской раскладки. Потому я остановился на фонетическом варианте, в дальнейшем дорабатывая лучшие позиции на основе параллельного позиционирования. Текущий вид, после многих перестановок, с претензией на финальный:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F2n\u002Fov\u002F7c\u002F2nov7cnj2pw1jhsd6aqmm1lu3pe.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНе отходя от привычных методов именования, название раскладки составилось, с небольшой стилизацией, по первым символам верхнего ряда – «qPhyx».\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EЗначения по критериям\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nДавайте взглянем на автоматически рассчитанные значения созданной раскладки:\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eчередование рук – \u003Cabbr title=\"en\"\u003E70.58%\u003C\u002Fabbr\u003E и \u003Cabbr title=\"ru\"\u003E71.23%\u003C\u002Fabbr\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003Eвероятность \u003Cabbr title=\"без учёта базового повторения одного и того же символа\"\u003E«чистого»\u003C\u002Fabbr\u003E повторного нажатия одним пальцем – 2.55% и 4.54%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eравномерность нагрузки рук – 48.36\u002F51.64% и 52.35\u002F47.65%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eмаксимальная разница нагрузки пальцев – 4.86% и 8.98%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eиспользование \u003Cabbr title=\"«фыва олдж»\"\u003E«домашней» группы\u003C\u002Fabbr\u003E – 64.95% и 58.07%\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003EКонечно, это мало о чём говорит, поэтому давайте для примера взглянем на аналогичные цифры, на тех же входных данных, для некоторых популярных раскладок.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНо прежде стоит обговорить отдельно – прямое сравнение этих значений не является корректным, так как эти раскладки разнятся концептуально, и эти значения лишь один из показателей, исключительно для общего представления.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\" role=\"button\" tabindex=\"0\"\u003E\n                        \u003Cb class=\"spoiler_title\"\u003Eйцукен (ru)\u003C\u002Fb\u003E\n                        \u003Cdiv class=\"spoiler_text\"\u003E\u003Cul\u003E\r\n\u003Cli\u003Eчередование рук – 53.50%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eвероятность «чистого» повторного нажатия одним пальцем – 19.17%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eравномерность нагрузки рук – 53.53\u002F46.47%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eмаксимальная разница нагрузки пальцев – 29.72%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eиспользование «домашней» группы – 33.86%\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Ci\u003EЗанимательный факт: \u003Cabbr title=\"65.37%\"\u003Eдве трети\u003C\u002Fabbr\u003E всех нажатий в «йцукен» приходятся на указательные пальцы. А подобная сгруппированность популярнейших символов в результате приводит к тому, что и каждое пятое нажатие будет выполняться одним и тем же пальцем. О каком «десятипальцевом наборе» в такой ситуации может идти речь?\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\n                    \u003C\u002Fdiv\u003E\u003Cdiv class=\"spoiler\" role=\"button\" tabindex=\"0\"\u003E\n                        \u003Cb class=\"spoiler_title\"\u003Eяверты (ru)\u003C\u002Fb\u003E\n                        \u003Cdiv class=\"spoiler_text\"\u003E\u003Ci\u003E* Учитывались только буквы основного буквенного блока.\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eчередование рук – 48.11%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eвероятность «чистого» повторного нажатия одним пальцем – 8.98%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eравномерность нагрузки рук – 53.40\u002F46.87%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eмаксимальная разница нагрузки пальцев – 13.09%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eиспользование «домашней» группы – 25.92%\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003C\u002Fdiv\u003E\n                    \u003C\u002Fdiv\u003E\u003Cdiv class=\"spoiler\" role=\"button\" tabindex=\"0\"\u003E\n                        \u003Cb class=\"spoiler_title\"\u003Eqwerty (en)\u003C\u002Fb\u003E\n                        \u003Cdiv class=\"spoiler_text\"\u003E\u003Cul\u003E\r\n\u003Cli\u003Eчередование рук – 52.60%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eвероятность «чистого» повторного нажатия одним пальцем – 7.08%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eравномерность нагрузки рук – 58.69\u002F41.31%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eмаксимальная разница нагрузки пальцев – 20.17%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eиспользование «домашней» группы – 25.70%\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003C\u002Fdiv\u003E\n                    \u003C\u002Fdiv\u003E\u003Cdiv class=\"spoiler\" role=\"button\" tabindex=\"0\"\u003E\n                        \u003Cb class=\"spoiler_title\"\u003Eworkman (en)\u003C\u002Fb\u003E\n                        \u003Cdiv class=\"spoiler_text\"\u003E\u003Cul\u003E\r\n\u003Cli\u003Eчередование рук – 55.96%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eвероятность «чистого» повторного нажатия одним пальцем – 2.91%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eравномерность нагрузки рук – 51.49\u002F48.51%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eмаксимальная разница нагрузки пальцев – 11.14%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eиспользование «домашней» группы – 63.71%\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003C\u002Fdiv\u003E\n                    \u003C\u002Fdiv\u003E\u003Cdiv class=\"spoiler\" role=\"button\" tabindex=\"0\"\u003E\n                        \u003Cb class=\"spoiler_title\"\u003Ecolemak (en)\u003C\u002Fb\u003E\n                        \u003Cdiv class=\"spoiler_text\"\u003E\u003Cul\u003E\r\n\u003Cli\u003Eчередование рук – 58.64%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eвероятность «чистого» повторного нажатия одним пальцем – 1.26%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eравномерность нагрузки рук – 48.38\u002F51.62%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eмаксимальная разница нагрузки пальцев – 12.05%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eиспользование «домашней» группы – 64.95%\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003C\u002Fdiv\u003E\n                    \u003C\u002Fdiv\u003E\u003Cdiv class=\"spoiler\" role=\"button\" tabindex=\"0\"\u003E\n                        \u003Cb class=\"spoiler_title\"\u003Edvorak (en)\u003C\u002Fb\u003E\n                        \u003Cdiv class=\"spoiler_text\"\u003E\u003Cul\u003E\r\n\u003Cli\u003Eчередование рук – 70.67%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eвероятность «чистого» повторного нажатия одним пальцем – 2.61%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eравномерность нагрузки рук – 43.30\u002F56.70%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eмаксимальная разница нагрузки пальцев – 9.48%\u003C\u002Fli\u003E\r\n\u003Cli\u003Eиспользование «домашней» группы – 58.92%\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003C\u002Fdiv\u003E\n                    \u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nБольше раскладок и их значений вы можете найти в упоминавшемся \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fuqqu\u002Flayout\u002Fblob\u002Fmaster\u002Fexternal\u002Fcalculation.xlsx\" rel=\"nofollow noopener noreferrer\"\u003E.xlsx\u003C\u002Fa\u003E файле. Здесь перечислены лишь основные показатели наиболее важных к упоминанию раскладок.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИсходя из этих значений вы можете отметить, насколько слабо́ стандартное позиционирование буквенных символов. В качестве лидера, среди именитых раскладок, можно выделить «dvorak», с отличными показателями по доброй половине критериев. О русских раскладках говорить нечего, ибо альтернатив особо-то и нет, а ужасающие показатели имеющихся вы видите сами.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EСимвольная раскладка\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nТребования к символьной раскладке, включая уже озвученные ранее:\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eединство символов для любой буквенной раскладки\u003C\u002Fli\u003E\r\n\u003Cli\u003Eразграничение между буквенным и символьным слоями\u003C\u002Fli\u003E\r\n\u003Cli\u003Eгруппировка символов по логическим категориям\u003C\u002Fli\u003E\r\n\u003Cli\u003Eрасширенный набор символов; добавление диакритических символов\u003C\u002Fli\u003E\r\n\u003Cli\u003Eрасположение с учётом «групп удобства»\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003EТак как базовые нажатия в «буквенном блоке» у нас все отданы исключительно буквенным символам, даже несмотря на то, что клавиш больше, чем букв, в случае английского языка, а расположение символов в цифровом ряду вызовет огромные неудобства, лучшим вариантом будет расположение под модификаторами.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОпробовав различные варианты, я выбрал двух финалистов, что открывает сразу 66 позиций для расположения в буквенном блоке. В качестве модификаторов был выбран\u003Ccode\u003Ealt\u003C\u002Fcode\u003E и, тут мы подошли к самому потенциально отпугивающему моменту проекта, длинные нажатия. Не спешите закрывать страницу. Я действительно считаю это решение хорошим, и пользуюсь им уже более года, начиная с первых попыток создания этого проекта, и за это время я ни разу о нём не пожалел. То, что я называю «длинным» нажатием на деле занимает 0.15с, и может быть легко перенастроено в процессе использования на любое другое значение. Мне, на текущий момент, значение в 0.12с кажется наиболее оптимальным. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДа, поначалу это действительно очень непривычно, но как только эта функциональность переходит в автоматизм, набор символов становится такой же простой, как и буквенный набор в нижнем регистре, и я ничуть не преувеличиваю. Широкой аргументации по этому вопросу быть не может, так как это та функциональность, которую нужно опробовать лично. И сравнение с набором на мобильной клавиатуре также не подойдёт, так как ощущаются они весьма по-разному. Потому больше не будем задерживаться на этом пункте и вернёмся непосредственно к символам. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОзвученные ранее позиции были заполнены следующим образом:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fg1\u002F07\u002Ftl\u002Fg107tlyb6vukqrha70jovbiyi8o.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗелёным выделен основной набор символов, используемый повсеместно, и присутствовавший на «qwerty-йцукен». Серым выделен дополнительный набор символов из числа более или менее востребованных. Синим – базовые навигационно-управляющие команды. В углу, под извечным «ъ», расположились комбинируемые акут и гравис, в первую очередь как маркёры основного и побочного ударений.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИтак, что мы имеем по изначальным условиям:\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eсимволы образуют собственный единый и независимый от буквенной раскладки слой\u003C\u002Fli\u003E\r\n\u003Cli\u003Eсимволы сгруппированы \u003Cabbr title=\"базовая математика, валюты, пунктуация, скобки с зеркальным отображением вокруг домашнего ряда\"\u003Eпо категориям\u003C\u002Fabbr\u003E\u003C\u002Fli\u003E\r\n\u003Cli\u003Eвключены дополнительные символы и команды, из числа потенциально востребованных\u003C\u002Fli\u003E\r\n\u003Cli\u003Eраспределение с учётом «групп удобства» соблюдено\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003EИ, чтобы долго не затягивать, давайте познакомимся со вторым потенциально спорным моментом и перейдём к цифровому ряду:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fmh\u002Fcd\u002F-y\u002Fmhcd-y6lz4dgdtv5wlapaaxx5ps.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДа, здесь немного переназначены привычные \u003Ccode\u003Eenter\u003C\u002Fcode\u003E\u002F\u003Ccode\u003Ecaps\u003C\u002Fcode\u003E\u002F\u003Ccode\u003Ebackspace\u003C\u002Fcode\u003E. \u003Cbr\u002F\u003E\r\nНа самом деле просто \u003Ccode\u003Eesc\u003C\u002Fcode\u003E и \u003Ccode\u003Ebackspace\u003C\u002Fcode\u003E опустились пониже на одну-две клавиши, из-за чего доступ к ним \u003Cb\u003Eзначительно\u003C\u002Fb\u003E упростился (новый \"\u003Ccode\u003Eenter as backspace\u003C\u002Fcode\u003E\" с шифтом работает ещё и как \u003Ccode\u003Edelete\u003C\u002Fcode\u003E), а \u003Ccode\u003Eenter\u003C\u002Fcode\u003E переехал на противоположную сторону. Это второй упоминавшийся потенциально спорный момент, но, повторюсь – это направлено исключительно на повышение удобства, в чём вы можете убедиться сами прямо сейчас – поставьте пальцы на домашние позиции и посмотрите, как к каким клавишам, из перечисленных, вы тянетесь, и насколько предложенный вариант удобнее.\u003Cbr\u002F\u003E\r\nЧуть опустевший \u003Ccode\u003Ebackspace\u003C\u002Fcode\u003E теперь выполняет функции медиа-управления.\u003Cbr\u002F\u003E\r\nФункция \u003Ccode\u003Ecaps lock\u003C\u002Fcode\u003E перекрыта, но так как она может представлять интерес для отдельных пользователей, она может быть назначена на бывший \u003Ccode\u003Eesc\u003C\u002Fcode\u003E в настройках.\u003Cbr\u002F\u003E\r\nНа этом спорные моменты закончились, а вот пост ещё нет. Впереди непосредственно цифровой ряд и особенно радующие меня языковые модификации.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EЦифровой ряд\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nБазовые значения клавиш-цифр не изменились, а на позициях бывших \u003Ccode\u003E-\u003C\u002Fcode\u003E и \u003Ccode\u003E=\u003C\u002Fcode\u003E расположены кнопки пользовательского ввода, которые будучи пустыми выполняют функцию увеличения или уменьшения текущего выделенного числа. Если определены пользователем – отправляют назначенный символ или их комбинацию. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПод альтом расположилась чуть ли не вся используемая различными языками комбинируемая диакритика. С её помощью раскладка может быть использована для всех языков, имеющих оную в своём алфавите или в особенностях письма. К слову, за исключением английского, диакритику в той или иной мере использует абсолютное большинство языков на латинице. В частности, из первых 15 крупнейших языков этой категории регулярная диакритика отсутствует только у непосредственно английского и индонезийского. \u003Cbr\u002F\u003E\r\nПод обычным нажатием с \u003Ccode\u003Ealt\u003C\u002Fcode\u003E расположены надстрочные диакритические символы, под «длинным» с \u003Ccode\u003Ealt\u003C\u002Fcode\u003E– подстрочные (кроме двух последних символов).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПод шифтом же здесь находится часть, которая ранее упоминалась как «языковые модификации». Этой идее я рад особенно, ведь с её помощью раскладка для языка становится раскладкой для целой письменности, что было обозначено, но не обговорено, изначально. На этом остановимся отдельно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EЯзыковые модификации\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nК вопросу мультиязычности есть всего один устоявшийся подход – создание отдельной раскладки под каждый язык. Поначалу я также стал делать переложения на прочие языки, с некоторой опаской подумывая о том, что они могут не вписаться в такую цельную фонетическую систему. Но опасения были напрасны. Новые раскладки не просто отлично вписывались в единую раскладку, они, напротив, подняли вопрос – а в чём разница между двумя смежными раскладками? Общая картина частотностей едина, базовый набор символов, по большей части, един. Выходит, только в специфичных языковых символах? Тогда проскочила новая дерзкая мысль – а почему бы не превратить раскладку для языка в раскладку для всей письменности, без ущерба для функциональности первой? От скольких неудобств это бы избавило! Ведь такой раскладкой смог бы пользоваться в равной мере и носитель русского, и носитель другого кириллического языка, и тот, кто постоянно перемежает два или даже более языков одной письменности, что далеко не редкость. Аналогично и для латинской письменности.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nС этой мыслью я составил список таких специфичных языковых символов. Конечно, он вышел огромным, и полностью вписать его не представлялось возможным. Но полностью вписывать нам его и не нужно, достаточно лишь разбить на группы, из которых каждый пользователь сможет выбрать ту, которая потенциально может ему пригодиться, или сменить в процессе. Группы, в сочетании с основной раскладкой, покрывают языковые потребности подавляющего количества людей. Эти группы и есть те самые упомянутые языковые модификации. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМодификации «привязаны» к письменности и учитываются раздельно. В отображении выше показан вид с основными модификациями для латиницы и кириллицы.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТак как набор символов языковых модификаций расположен в собственном ряду, он не будет мешать пользователям, у которых нет потребности в его использовании, но, в то же время, при даже редкой необходимости всегда доступен. Реализация мультиязычности через модификации не мешает потенциальному использованию отдельной раскладки, если необходимость в такой понадобится, а может даже и выступить в роли симбионта для последней.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧто же, перейдём к самому разбиению и результатам.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСтоит предварительно внести ясность: буквы с диакритикой в разных языках могут являться как отдельными алфавитными символами, так и просто буквами с добавленной диакритикой. \u003Cbr\u002F\u003E\r\nПример: ñ в испанском языке графически эквивалентна n + диакритическая тильда, однако в алфавите закреплена как самостоятельная, отдельная буква. Или, более близкий пример – наши привычные \u003Cabbr title=\"и + кратка\u002Fбревис\"\u003Eй\u003C\u002Fabbr\u003E и \u003Cabbr title=\"е + диэрезис\u002Fумлаут\"\u003Eё\u003C\u002Fabbr\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПри составлении списка специфичных языковых символов учитывались именно алфавитные символы, как они закреплены в официальных текущих версиях языков, за редкими исключениями, и то, исключительно в пользу самих языков. Оглядка на наборы добавочной диакритики, специфичной для конкретных языков не выносится в данном тексте отдельно – она была учтена и покрыта полностью для всех поддерживаемых языков или версий романизации для неподдерживаемых.\u003Cbr\u002F\u003E\r\nОднако на ввод, \u003Cabbr title=\"может быть изменено впоследствии\"\u003Eв текущей версии\u003C\u002Fabbr\u003E, в целях унификации, такие отдельные алфавитные символы подаются именно в комбинированном виде, где это возможно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЛатинская и кириллическая стороны модификаций несколько разнятся концептуально, что обусловлено символьными особенностями участников этих категорий. Начнём с латинской:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n12 доступных символов разбиты на две категории – самостоятельные символы и символы упрощённого набора. Самостоятельные символы – \u003Ccode\u003E\u003Ca href=\"https:\u002F\u002Fwww.wikiwand.com\u002Fen\u002F%C5%81\" rel=\"nofollow noopener noreferrer\"\u003Eł\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fwww.wikiwand.com\u002Fen\u002FD_with_stroke\" rel=\"nofollow noopener noreferrer\"\u003Eđ\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fwww.wikiwand.com\u002Fen\u002FDotted_and_dotless_I\" title=\"i без точки\" rel=\"nofollow noopener noreferrer\"\u003Eı\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fwww.wikiwand.com\u002Fen\u002F%C3%9F\" rel=\"nofollow noopener noreferrer\"\u003Eß\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fwww.wikiwand.com\u002Fen\u002F%C3%98\" rel=\"nofollow noopener noreferrer\"\u003Eø\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fwww.wikiwand.com\u002Fen\u002F%C3%86\" rel=\"nofollow noopener noreferrer\"\u003Eæ\u003C\u002Fa\u003E \u003Ca href=\"https:\u002F\u002Fwww.wikiwand.com\u002Fen\u002F%C5%92\" rel=\"nofollow noopener noreferrer\"\u003Eœ\u003C\u002Fa\u003E\u003C\u002Fcode\u003E, с небольшой оговоркой для ł, доступны из любых модификаций, что, следовательно, позволяет использовать языки, доступ к которым они открывают также из любых модификаций. Символы упрощённого набора – те, которые могут быть реализованы в виде с комбинируемой диакритикой, и именно они будут меняться при выборе модификации, в зависимости от потребностей выбранного языка.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\" role=\"button\" tabindex=\"0\"\u003E\n                        \u003Cb class=\"spoiler_title\"\u003EПара комментариев к ñ и đ и оговорка об ł\u003C\u002Fb\u003E\n                        \u003Cdiv class=\"spoiler_text\"\u003E\u003Cb\u003Eñ\u003C\u002Fb\u003E – n с тильдой. Данный символ сам по себе, без прочих, открывает упрощённый набор для испанского языка и всех языков, на которые повлиял последний – испанидад. Из-за этого он занял свободное место в модификациях, в которых количество символов упрощённого набора закончилось на четырёх, потенциально расширяя область применения данных модификаций.\u003Cbr\u002F\u003E\r\n\u003Cb\u003Eł\u003C\u002Fb\u003E – l с диагональным штрихом. Ситуация зеркальная по отношению к предыдущему символу – символ, хоть и является буквой с диакритикой, находится в категории самостоятельных, т.к. не может быть корректно отображён в виде с комбинируемой диакритикой. Также он имеет достаточно ограниченное использование, и от него не зависят прочие символы. Из-за этого, в модификациях, требующих 6 дополнительных символов, последнее место было отдано от \"ł\". Но таких модификаций не так много, что не делает этот факт чересчур значимым.\u003Cbr\u002F\u003E\r\n\u003Cb\u003Eđ\u003C\u002Fb\u003E – d со штрихом. Как и предыдущий – не может быть корректно отображён в комбинированном виде. Вдобавок, он имеет свои особенности для двух конкретных модификаций – исландский\u002Fстароанглийский и язык мосси. Всё дело в том, что в данных модификациях используются собственные вариации данного символа, имеющие собственное название и применение. Во всех модификациях, помимо оговоренных выше, это \u003Ccode\u003Eđ Đ\u003C\u002Fcode\u003E, для исландского\u002Fстароанглийского это \u003Ccode\u003Eð Ð\u003C\u002Fcode\u003E, для мосси – \u003Ccode\u003Eɖ Ɖ\u003C\u002Fcode\u003E. Обратите внимание, что варианты в верхнем регистре, несмотря на единое начертание, являются разными юникод-символами.\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\n                    \u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nРасположением символов упрощённого набора по «динамическим» позициям были составлены модификации для латинской письменности. При позиционировании символов были попытки располагать одинаковые или графически близкие символы на одинаковых позициях, но это не всегда представлялось возможным. Итоговое количество – 31 модификация, 24 из которых составлены с 5 динамическими символами, а 7 – с 6.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКонечно, разные языки в разной мере зависят от модификаций, потому стоит разделить их по категориям поддержки:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EПолностью поддерживаемые языки\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\nЯзыки, никоим образом не зависящие от выбранной модификации, и полноценно доступные к набору. Английский, французский, вьетнамский, португальский, итальянский, индонезийский,…\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EПолностью поддерживаемые языки «из коробки»\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\nЯзыки, доступные к набору из любой модификации, при этом имеющие упрощённый набор из \u003Cabbr title=\"ñ å ä ö ü\"\u003Eосновной\u003C\u002Fabbr\u003E. Испанский, немецкий, шведский, датский, финский, норвежский,…\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EДиакритически поддерживаемые языки с опциональной модификацией для упрощения набора\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\nПозвольте на примере – турецкий: язык может быть использован с любой модификацией (к примеру, с основной \u003Ccode\u003Eñ å ä ö ü\u003C\u002Fcode\u003E), при наборе дополнительных символов в два нажатия через диакритические символы, но при выбранной турецкой модификации (\u003Ccode\u003Eç ş ğ ö ü\u003C\u002Fcode\u003E) эти же символы становятся доступны через одинарное нажатие, не теряя общей функциональности.\u003Cbr\u002F\u003E\r\nК этой категории поддержки относятся турецкий, румынский, хорватский (гаевица), словенский, эстонский,…\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EДиакритически поддерживаемые языки (без\u002Fс частичной) опциональной модификацией для упрощения набора\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\nЯзыки с крайне богатой диакритикой, такие как польский, чешский или словацкий, попросту не помещаются для упрощённого набора, однако полноценно доступны к набору через диакритику из любой модификации.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EМодификационно поддерживаемые языки\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\nЯзыки, полноценный набор на которых возможен только на специальных модификациях. Ещё раз отмечу, что специальные модификации сохраняют все возможности набора на языках предыдущих категорий.\u003Cbr\u002F\u003E\r\n\u003Ci\u003EСогласно \u003Ca href=\"https:\u002F\u002Fw3techs.com\u002Ftechnologies\u002Foverview\u002Fcontent_language\" rel=\"nofollow noopener noreferrer\"\u003Ew3techs.com\u003C\u002Fa\u003E в этой категории нет языков с долей использования в интернете более 0.05%\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EНеподдерживаемые языки\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\nЯзыки с основной письменностью отличной от латиницы и кириллицы. Для всех из них поддерживаются все варианты романизации (в том числе, из разряда недоступных на стандартной ISO basic Latin).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТеперь о кириллических модификациях.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТак как в кириллическом наборе дополнительных языковых символов отсутствуют единые «над-символы», использование которых может быть востребовано из любой модификации, а также учитывая, что все символы являются самостоятельными, ввиду того факта, что комбинируемая диакритика крайне печально работает с кириллицей – все 12 мест являются динамическими. \u003Cbr\u002F\u003E\r\nЭто позволило объединить в группах целые ряды языков, итоговое количество которых – 4 группы + 1 \u003Cabbr title=\"абхазский\"\u003Eотдельный язык\u003C\u002Fabbr\u003E. Также это влияет на то, что здесь нет «основной» модификации, хотя, фактически, из-за расположения по востребованности, её место занимает группа «украинский, белорусский, ...».\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНо так или иначе, в кириллической раскладке, в отличие от латинской, вас не будут интересовать прочие модификации, вы лишь единожды выбираете ту, использование которой вам может пригодиться. Поэтому все данные языки были приравнены ко второй категории поддержки языков, хотя они относятся в равной мере как ко второй, так и к пятой категориям.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EЗавершение\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EProof of concept\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nС полной реализацией данной раскладки можно ознакомиться и опробовать \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fuqqu\u002Flayout\" rel=\"nofollow noopener noreferrer\"\u003Eна гитхабе\u003C\u002Fa\u003E. Текущая версия доступна к использованию на Windows, а также существует переложение на Android. Помимо реализации концепта, которому посвящён весь текст выше, также имеется различная вспомогательная внутренняя и внешняя функциональность, относящаяся непосредственно к использованию, и освещённая в соответствующих разделах readme.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EИтоги\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nПреимущества:\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eлучшие объективные показатели удобства набора на двух раскладках\u003C\u002Fli\u003E\r\n\u003Cli\u003Eсимвольно-единая фонетическая двускриптовая система набора\u003C\u002Fli\u003E\r\n\u003Cli\u003Eрасширенная символьная поддержка\u003C\u002Fli\u003E\r\n\u003Cli\u003Eподдержка языковых модификаций, сохраняющих все преимущества единой системы, и в то же время снимающих все ограничения унификации с отдельных языков\u003C\u002Fli\u003E\r\n\u003Cli\u003Eдополнительный внутренний и внешний функционал\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003EИтоговый охват \u003Cabbr title=\"первые две категории поддержки\"\u003Eполностью\u003C\u002Fabbr\u003E поддерживаемых языков – 88.89% интернета, согласно данным \u003Ca href=\"https:\u002F\u002Fw3techs.com\u002Ftechnologies\u002Foverview\u002Fcontent_language\" rel=\"nofollow noopener noreferrer\"\u003Ew3techs.com\u003C\u002Fa\u003E за 19.10.2021.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Chr\u002F\u003E\u003Cbr\u002F\u003E\r\nСпасибо, что дочитали. Хочется верить, что резонансные моменты проекта не сильно отпугнули читателей. Проект находится на той стадии, когда его уже можно полноценно использовать по прямому назначению, но, в то же время, есть множество путей и возможностей развития и улучшения, а может и переосмысления некоторых отдельных решений. Надеюсь на конструктивную критику, которая поможет в этом развитии.\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"keyboard layout"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F583800\u002F56f259f49280c2cdaeb3535c2c897d6e\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F583800\u002F56f259f49280c2cdaeb3535c2c897d6e\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F583800\\\u002F\"},\"headline\":\"Универсальная клавиатурная раскладка\",\"datePublished\":\"2021-10-19T11:11:07+03:00\",\"dateModified\":\"2021-10-19T14:52:12+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"TLHE\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Предыстория и предпосылки Пару лет назад я, будучи стандартным пользователем &laquo;qwerty-йцукен&raquo;, стал всё больше замечать, что процесс набора на этой паре раскладок...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F583800\\\u002F#post-content-body\",\"about\":[\"h_read\",\"h_Peripheral\",\"h_DIY\",\"f_management\",\"f_popsci\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fvc\\\u002Fbg\\\u002Fsa\\\u002Fvcbgsaamepyu1xpmh375jseinqo.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fe2\\\u002F9a\\\u002Fdx\\\u002Fe29adxrydmmbtkgjsvrqfmway20.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F-d\\\u002Fca\\\u002Fkp\\\u002F-dcakpmungcpnhy0zyv0ccbgw4y.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fuc\\\u002Fyf\\\u002Ft-\\\u002Fucyft-thsdqhetejgo94bgsc_jg.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F2n\\\u002Fov\\\u002F7c\\\u002F2nov7cnj2pw1jhsd6aqmm1lu3pe.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fg1\\\u002F07\\\u002Ftl\\\u002Fg107tlyb6vukqrha70jovbiyi8o.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fmh\\\u002Fcd\\\u002F-y\\\u002Fmhcd-y6lz4dgdtv5wlapaaxx5ps.png\"]}","metaDescription":"Предыстория и предпосылки\r\nПару лет назад я, будучи стандартным пользователем «qwerty-йцукен», стал всё больше замечать, что процесс набора на этой паре раскладок имеет ряд неудобств, и чем больше я...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"read,Peripheral,DIY"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
