<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Трансформаторные датчики тока / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/584140\/"},"headline":"Трансформаторные датчики тока","datePublished":"2021-10-19T09:07:09+03:00","dateModified":"2021-10-19T11:54:48+03:00","author":{"@type":"Person","name":"Ревич Юрий"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Представьте себе, что у вас встала задача измерения тока потребления в бытовой сети 220 В, 50 Гц. Причем главное ваше требование &mdash; невмешательство в существующую...","url":"https:\/\/habr.com\/ru\/post\/584140\/#post-content-body","about":["h_circuit-design","h_easyelectronics","f_develop","f_popsci"],"image":["https:\/\/habrastorage.org\/webt\/mr\/lq\/3w\/mrlq3wffxeqhmb9y-ysfqrfmt2i.png","https:\/\/habrastorage.org\/webt\/ou\/9r\/nj\/ou9rnj37ziyie4mzqdb1t1vpaii.png","https:\/\/habrastorage.org\/webt\/xz\/wo\/aw\/xzwoawd7czgqqvfghrccxhwyqzq.png","https:\/\/habrastorage.org\/webt\/lp\/1b\/tj\/lp1btjvamf6k9kajnsiwzmvvmb8.png","https:\/\/habrastorage.org\/webt\/1g\/ua\/1r\/1gua1rburauudpap9frl4i5mww0.png","https:\/\/habrastorage.org\/webt\/gx\/bp\/m7\/gxbpm7iw2iiavb9akg-wsgrd94a.png","https:\/\/habrastorage.org\/webt\/oq\/hb\/t3\/oqhbt3rfyphytxu0npkrfnlhfuw.png","https:\/\/habrastorage.org\/webt\/mt\/kl\/6s\/mtkl6sfuoayxwpfy8wrh0lviewq.png","https:\/\/habrastorage.org\/webt\/xm\/mq\/ea\/xmmqea6l74lmmdu2bjxf3p_8kom.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Трансформаторные датчики тока" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Трансформаторные датчики тока" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Трансформаторные датчики тока" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Представьте себе, что у вас встала задача измерения тока потребления в бытовой сети 220 В, 50 Гц. Причем главное ваше требование — невмешательство в существующую проводку. Мое непоколебимое мнение — в..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Представьте себе, что у вас встала задача измерения тока потребления в бытовой сети 220 В, 50 Гц. Причем главное ваше требование — невмешательство в существующую проводку. Мое непоколебимое мнение — в..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Представьте себе, что у вас встала задача измерения тока потребления в бытовой сети 220 В, 50 Гц. Причем главное ваше требование — невмешательство в существующую проводку. Мое непоколебимое мнение — в..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Представьте себе, что у вас встала задача измерения тока потребления в бытовой сети 220 В, 50 Гц. Причем главное ваше требование — невмешательство в существующую проводку. Мое непоколебимое мнение — в..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Представьте себе, что у вас встала задача измерения тока потребления в бытовой сети 220 В, 50 Гц. Причем главное ваше требование — невмешательство в существующую проводку. Мое непоколебимое мнение — в..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/584140/16487eacf6bdf82eb7e0e7055f9f6a1b/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/584140/16487eacf6bdf82eb7e0e7055f9f6a1b/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/584140/16487eacf6bdf82eb7e0e7055f9f6a1b/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/584140/16487eacf6bdf82eb7e0e7055f9f6a1b/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/584140/16487eacf6bdf82eb7e0e7055f9f6a1b/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="584140" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2021-10-19T06:07:09.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/584140/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/584140/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/584140/16487eacf6bdf82eb7e0e7055f9f6a1b/" data-vmid="image:href"><link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/584140/">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/YRevich/" title="YRevich" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/a14/bf2/41c/a14bf241ce3a7a9e818acef5f73551d7.jpg" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/YRevich/" class="tm-user-info__username">
      YRevich
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2021-10-19T06:07:09.000Z" title="2021-10-19, 09:07">19  октября   в 09:07</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Трансформаторные датчики тока</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/circuit-design/" class="tm-article-snippet__hubs-item-link"><span>Схемотехника</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/easyelectronics/" class="tm-article-snippet__hubs-item-link"><span>Электроника для начинающих</span> <!----></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">Представьте себе, что у вас встала задача измерения тока потребления в бытовой сети 220 В, 50 Гц. Причем главное ваше требование — невмешательство в существующую проводку. Мое непоколебимое мнение — в питающей ваш дом линии должно быть как можно меньше всякого, потому что каждый лишний агрегат есть потенциальная точка отказа. Если не сам по себе (как УЗО в старых загородных домах, где трудно избежать утечек), то как минимум из-за дополнительных контактных соединений, и хорошо, если эти соединения сделаны по стандартам, а не из оцинкованной стали в контакте с медью. <br/>
<br/>
<div style="text-align:center;"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/mr/lq/3w/mrlq3wffxeqhmb9y-ysfqrfmt2i.png"/></div> <i>Винтажный измеритель тока и напряжения совершенно загадочного назначения. Но эффектно придумано, согласитесь!</i><br/>
<br/>
Иными словами, в качестве решения задачи измерения тока в бытовой сети отпадает все, устанавливаемое в разрыв проводки — и фирменное и самодельное. Традиционные шунты понятно почему (ко всему остальному они еще и пожароопасны), но не годятся и измерители на основе датчиков Холла (вроде популярных ACS7хх). Они требуют точной ориентации относительно проводника, а, значит, все равно устанавливаются в разрыв провода. <br/>
<br/>
Остаются трансформаторы тока. Вот их сейчас и рассмотрим с упором на самостоятельное изготовление: коли мы не вмешиваемся в проводку, ничего потенциально опасного мы соорудить не можем. Но сможем ли сделать удобнее и дешевле покупных?<br/>
<a name="habracut"></a><br/>
Гуглим вопрос: трансформаторные датчики с гарантированной точностью и вычислением истинного среднеквадратического значения независимо от формы сигнала могут стоить <a href="https://www.chipdip.ru/product1/8004394513" rel="nofollow noopener noreferrer">совершенно запредельные деньги</a> (и при этом, заметьте, серия по ссылке имеет аналоговый выход, то есть еще требует оцифровки и дисплея). Смотрим… смотрим… <a href="https://www.vseinstrumenti.ru/instrument/izmeritelnyj/parametry-setej/ampermetry-voltmetry/digitop/digitop-avm-1/" rel="nofollow noopener noreferrer">вот такой попроще</a> нам подойдет. Он к тому же имеет выносной чувствительный элемент, который удобно просто надеть на провод, а не тащить провода к нему, нарушая разводку. И цена не очень кусается — если нужен один такой датчик, то, конечно, проще его приобрести.<br/>
<div style="text-align:center;"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/ou/9r/nj/ou9rnj37ziyie4mzqdb1t1vpaii.png" data-width="400"/></div> (изображение с сайта <i><a href="http://www.vseinstrumenti.ru" rel="nofollow noopener noreferrer">www.vseinstrumenti.ru</a></i>)<br/>
<br/>
Но че там сложного, думаем мы, разве трудно сделать самостоятельно? Для начала нужен собственно трансформаторный чувствительный элемент. Ну, трансформатор и есть трансформатор, намотаем на тороиде и приставим измерительную схему, так? Опять гуглим вопрос и выясняем, однако, что все не так и просто: ладно, что мотать нужно порядка сотен-тысяч витков, но необходим небольшой по размерам сердечник из трансформаторного железа, каковой приобрести в розницу в современных условиях оказывается проблематичным. А потрошить старые компьютерные блоки питания в надежде, что там окажется дроссель с нужным сердечником, как советуют кое-где — несерьезно, ну нет у нас под рукой свалки старых десктопов. Если кто-то желает вникать в эту мутную науку по самостоятельным расчетам сердечников, то <a href="http://soundbarrel.ru/pitanie/trans_toka.html" rel="nofollow noopener noreferrer">вот самое вменяемое</a> из того, что я разыскал в популярном изложении (в конце там найдете и ссылки на серьезную литературу).<br/>
<br/>
Ладно, поищем готовые. Так-то простой трансформаторный сенсор стоит от 1,5 до 3 тыр, но я разыскал датчики индийской фирмы Talema, сразу снабженные длинными гибкими выводами и за приемлемую цену. Для домашних целей подходит <a href="https://www.chipdip.ru/product0/8269855388" rel="nofollow noopener noreferrer">датчик AZ-0500</a> с номинальным диапазоном до 25 А (для него есть предложения и подешевле, но с бóльшими трудностями по заказу и доставке). Что приятно, имеется и <a href="https://talema.com/wp-content/uploads/datasheets/AZ.pdf" rel="nofollow noopener noreferrer">официальная документация</a>. Правда, по внятности ее написания индийские друзья, наверное, хуже даже китайских товарищей, традиционно ненавидящих публиковать всяческие подробности о своей продукции (разумеется, а то еще отвечать придется за несоответствия), и окончательно разбираться с датчиком пришлось вживую.<br/>
<br/>
<h3>Датчик AZ-0500</h3><br/>
Датчик выдает переменное напряжение, в целом соответствующее величинам, указанным на графике в документации — при номинальной нагрузке 33 Ом на выходе получается примерно 60-65 милливольт на ампер проходящего тока, с довольно приличной линейностью. Причем в документации не указано, какое именно (действующее, среднее или амплитудное) значение приводится и даже не упомянуто, что напряжение переменное синусоидальное, а не импульсное или какое-нибудь трапециевидное. Но ориентируясь на измерения обычным мультиметром, калиброванным в действующих значениях переменного напряжения, будем считать, что на графиках имеется в виду именно действующее значение переменного сигнала на выходе датчика. В дальнейшем мы будем измерять сигнал с помощью аналогового преобразователя, который все равно потребует подстройки (калибровки) «по месту», так что нам не очень важно, какой именно параметр они там имели в виду, а для ориентировочных расчетов и этого достаточно.<br/>
<br/>
<h2>Преобразователи</h2><br/>
Далее нужно все это преобразовать и индицировать. И вот тут выяснилось то, что и явилось причиной для написания этой статьи. В Сети обнаружилась пара готовых решений для подключения трансформаторных датчиков, однако, из их схем и описаний видно, что авторы имеют слабое представление об аналоговой технике и действовали наугад, подгоняя схему под свой конкретный случай. Так не годится, решил я, и взялся за проектирование более-менее универсального варианта подобной схемы, годящегося для любых трансформаторных первичных преобразователей. В результате родилось три варианта для случаев разной степени продвинутости, которые и излагаются ниже. Можно приспособить приведенные далее схемы и для других типов датчиков тока с переменным сигналом на выходе, кроме трансформаторных.<br/>
<br/>
Для начала в любом случае нужно переменный сигнал с датчика выпрямить, причем не обычным диодом или мостом, на котором все эти 65 милливольт потеряются бесследно, а прецизионным выпрямителем, выполняемым обычно с помощью операционного усилителя (ОУ). Выпрямитель может быть однополупериодным (амплитудным) или двухполупериодным (выпрямителем среднего значения), см. по этому поводу <a href="http://publ.lib.ru/ARCHIVES/G/GUTNIKOV_Valentin_Sergeevich/Gutnikov_V.S._Integral'naya_elektronika_v_izmeritel'nyh_ustroystvah.(1988).%5bdjv-fax%5d.zip" rel="nofollow noopener noreferrer">классический труд В. С. Гутникова</a>. <br/>
<br/>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">Подробности об измерениях переменного тока</b>
                        <div class="spoiler_text">Тут стоит сделать отступление об измерениях переменного тока вообще. Тем, кто забыл, чем различаются среднее (<i>среднеарифметическое</i>, постоянная составляющая) и среднее по модулю (<i>средневыпрямленное</i>), <i>действующее</i> (<i>среднеквадратичное</i>) и <i>амплитудное</i> (пиковое) значения, советую заглянуть <a href="https://ru.wikipedia.org/wiki/%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2_%D0%BD%D0%B0%D0%BF%D1%80%D1%8F%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F_%D0%B8_%D1%81%D0%B8%D0%BB%D1%8B_%D1%8D%D0%BB%D0%B5%D0%BA%D1%82%D1%80%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B3%D0%BE_%D1%82%D0%BE%D0%BA%D0%B0" rel="nofollow noopener noreferrer">сюда</a> или <a href="https://tel-spb.ru/ac.html" rel="nofollow noopener noreferrer">сюда</a>. Если оставить за кадром случаи специальных измерений (характеристик радиосигналов или звуковых колебаний, например), то в общем случае нас интересует действующее значение напряжения и тока — именно оно подразумевается в надписях на бытовых приборах «230 В 1 А». А вот всегда ли мы можем измерить именно действующее — большой-большой вопрос. <br/>
<br/>
В аналоговые времена эта проблема остро не стояла: стрелочные головки электромагнитной системы (и некоторых других, более редких разновидностей) без всяких промежуточных преобразований реагируют именно на действующее значение, причем независимо от формы сигнала, и даже от его частоты — на постоянный ток они реагируют точно так же, как на переменный. Вольтметры такой системы знакомы всем старперам-любителям по неравномерной шкале, где в начале шкалы кусок отсутствует вовсе, а далее промежутки между делениями постепенно уменьшаются (см. рисунок внизу). Что и обуславливает главный недостаток такого принципа — зона нечувствительности при малых сигналах и снижение разрешения в конце шкалы. Пытались приспособить к практике и другие методы измерения переменного тока, реагирующие именно на действующее значение (например, через преобразование в тепловую энергию, или возведение в квадрат аналоговыми способами), но все такие приборы оказались хуже, сложнее и дороже обычных.<br/>
<div style="text-align:center;"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/xz/wo/aw/xzwoawd7czgqqvfghrccxhwyqzq.png"/></div><br/>
Оставалось приспособить к измерению переменного тока-напряжения магнитоэлектрические головки, которые точнее и удобнее электромагнитных, но, увы, реагируют только на среднее (средневыпрямленное) значение, для синусоидального тока отличающееся от интересного нам действующего на 11% в меньшую сторону. Но не это главное — при известной и стабильной форме сигнала пересчитать средневыпрямленное в действующее, и учесть этот пересчет при градуировке шкалы ничего не стоит. Беда в том, что малейшее отклонение сигнала от формы синуса вносит в такие расчеты погрешность тем большую, чем больше отклонение. Так, у прямоугольного колебания (меандра, и необязательно со скважностью 2) действующее и средневыпрямленное равны по величине (т.е. ошибка при обычной градуировке и составит 11%). Но для колебаний произвольной формы (вроде, например, звукового) теоретически рассчитать отклонение невозможно, а, значит, и вожделенного действующего значения мы получить из среднего не сможем. Причем в реальных условиях даже вроде бы строгий синус сетевого напряжения обязательно будет искажаться помехами, то есть подобная погрешность присутствует всегда (автор <a href="http://publ.lib.ru/ARCHIVES/V/VOLGIN_Leonid_Ivanovich/Volgin_L.I._Izmeritel'nye_preobrazovateli_peremennogo_napryajeniya_v_postoyannoe.(1977).%5bdjv-fax%5d.zip" rel="nofollow noopener noreferrer">вот этого труда</a> указывает, что она может быть значительно выше погрешности выпрямления/преобразования). Хотя обычно и не настолько она велика, чтобы составлять серьезную проблему для практических нужд — даже дешевые мультиметры вполне себе показывают напряжение в сети без особого вранья.<br/>
<br/>
Надо учитывать, что почти все современные электронные мультиметры, кроме специальных приборов, также измеряют средневыпрямленное значение. Существуют, разумеется, цифровые приборы, использующие прямой аналитический метод измерения среднеквадратического значения (путем достаточно подробного квантования каждого периода и расчета интеграла от массива отсчетов, возведенных в квадрат), но к мультиметрам это не относится. <br/>
<br/>
Схемы, которые мы рассмотрим далее, также будут привязаны к среднему (в дальнейшем изложении под просто <i>средним</i> значением мы будем подразумевать <i>средневыпрямленное</i>) или амплитудному значению. Калибровать мы их будем, конечно, по действующему значению.<br/>
</div>
                    </div><br/>
Рассмотрим сначала самый простой аналоговый преобразователь, выдающий на выходе величину тока, пропорциональную среднему (средневыпрямленному) значению входного сигнала.<br/>
<br/>
<h3>Простейший аналоговый измеритель тока</h3><br/>
На рисунке ниже изображена схема простейшего аналогового измерителя сигнала с датчика тока, основанная на прецизионном двухполупериодном выпрямителе. Выпрямитель представляет собой обычный диодный мост, включенный в отрицательную обратную связь ОУ. За счет этого спрямляется характеристика диодов моста и на выходе наблюдается выпрямленный сигнал, не имеющий характерного провала в области малых напряжений за счет падения напряжения на диодах. Такой выпрямитель «ловит» входной переменный сигнал вплоть до единиц милливольт (может и меньше — смотря, насколько качественный ОУ мы здесь выберем). <br/>
<br/>
<div style="text-align:center;"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/lp/1b/tj/lp1btjvamf6k9kajnsiwzmvvmb8.png"/></div><br/>
Выход выпрямителя — дифференциальный токовый, т.е. нагрузка не может быть привязана к общему проводу. Так как величина сигнала на выходе привязана к средневыпрямленному значению, то в приведенной на рисунке формуле для выходного тока модуль (абсолютная величина) напряжения с датчика <i>U</i>д изображен с чертой наверху (что в данном случае означает не логическую инверсию, а арифметическое усреднение). Как видите, масштабируется величина тока не просто, а очень просто — подбором единственного резистора R2. Причем масштабируется с высокой точностью — все, повторим, зависит от выбора ОУ, о котором далее. <br/>
<br/>
Самое удобное обращение с таким сигналом — подключить к выходу стрелочную магнитоэлектрическую головку амперметра. Не очень важно, на какой максимальный ток полного отклонения она будет рассчитана, от этого зависит только необходимая величина сопротивления резистора R2 (конечно, следует учитывать ограничения со стороны выходного тока выбранного ОУ, потому головки с более, чем 1 мА полного отклонения применять не стоит). На схеме указана головка с пределом 100 мкА, тогда при сопротивлении R2 ≈ 1,5 кОм, исходя из характеристик нашего датчика (0,065 В = 1 А), вся шкала составит как раз около 25 А (где-то 5,5 кВт в сети 220 В). Шкалу можно напечатать на принтере и аккуратно наклеить поверх существующей, стараясь не погнуть нежную стрелку. <br/>
<br/>
Размах напряжения на выходе здесь равен размаху на входе и составит менее 2-х вольт, т.е. для этой схемы достаточно двухполярного питания от примерно ±3-5 В. Его можно организовать по схеме параллельного стабилизатора, подробно разбираемого далее, только мы будем в дальнейшем разбирать схемы, более приспособленные к выводу на цифровые приборы, потому там необходимое питание будет выше. Патриарх µA741 здесь указан только для унификации с остальными схемами, в реальности можно выбрать и более современный с питанием ±5 вольт. Мост на схеме собран на основе диодов Шоттки BAT41 (производства ST Microelectronics), но здесь, как и в последующих схемах преобразователей, можно употреблять любые маломощные кремниевые диоды с по возможности минимальным обратным током (единицы микроампер и менее).<br/>
<br/>
А почему нельзя эту простую и понятную схему приспособить к цифровой технике? Почему же нельзя, можно, разумеется. Только прикиньте, во что это будет выливаться: выходной дифференциальный токовый сигнал надо преобразовать в напряжение, причем подогнать его под диапазон выбранного АЦП, а затем еще и отобразить на индикаторах. Схемы, разобранные далее, куда лучше приспособлены к подобным операциям. <br/>
<br/>
Укажем, кстати, что если уж полностью погружаться в винтажную схемотехнику, то разобранная схема хорошо стыкуется с популярными когда-то микросхемами АЦП ICL7107/ICL7106 (отечественные 572ПВ2/ПВ5). Они имеют дифференциальные входы и непосредственный выход на индикаторы, ЖК (ICL7106) или светодиодные семисегментные (ICL7107). Правда, результирующая схема выйдет сложнее и дороже рассматриваемых далее, но при проектировании и отладке получите исключительное удовольствие (об АЦП 572ПВ2/ПВ5 можно прочесть в указанной выше книге В. С. Гутникова или <a href="https://bhv.ru/product/zanimatelnaya-elektronika-6-e-izd/" rel="nofollow noopener noreferrer">в этой</a> книге автора).<br/>
<br/>
<h2>Другие разновидности преобразователей</h2><br/>
Вообще говоря, амплитудный преобразователь реализуется проще двухполупериодного — выпрямление вместе с интегрированием выполняются также на одном ОУ. К выпрямителю добавляем второй ОУ, как масштабный усилитель. Выбор такой схемы гарантирует линейность преобразования вплоть до милливольт и в то же время простую и предсказуемую регулировку усиления, необходимую нам для установки масштаба преобразования. Индикацию показаний можно переложить на любой самый дешевый вольтметр, если соответствующим образом подогнать масштаб усиления.<br/>
<br/>
Другой вариант — двухполупериодная схема выпрямителя среднего значения — более корректнен при измерениях сетевого напряжения. У такой схемы меньше зависимость выходной величины от искажений сигнала и наличия помех — амплитудный детектор, который у нас получается в первом случае, запросто может «насосать» всяческих случайных всплесков сетевого напряжения. Рассмотренная нами выше простейшая аналоговая схема относится именно к двухполупериодной разновидности, но далее мы рассмотрим более совершенный вариант с однополярным выходом. <br/>
<br/>
И тут мы обнаружим, что такой улучшенный вариант двухполупериодной схемы менее удобен, если коэффициент усиления приходится регулировать в процессе калибровки «по месту». В рассмотренной далее схеме (сделанной по экономичному варианту также на двух ОУ) усиление и выпрямление совмещены и усиление определяется сразу несколькими резисторами, связанными друг с другом. Сломаете голову, пытаясь все совместить да еще и подогнать под стандартные ряды сопротивлений. Эту проблему можно обойти, если отказаться от калибровки аналоговыми методами и перенести ее в цифру: сигнал с выпрямителя подается на АЦП микроконтроллера (да хоть бы и на Arduino), управляющий дисплеем. <br/>
<br/>
Еще один источник погрешностей связан с тем, что для целей преобразования в цифру следует выходной сигнал сгладить — тем или иным способом заинтегрировать. В рассмотренном выше варианте отличным интегратором служит сама головка за счет механической инерции ее поворотной системы, а здесь придется действовать схемотехническими методами. Рассмотрим оба этих варианта по отдельности. <br/>
<br/>
<h3>Однополупериодный (амплитудный) преобразователь</h3><br/>
Практическая схема однополупериодного преобразователя сигнала с трансформаторного датчика с масштабирующим усилителем показана на рисунке ниже. Схема собрана на обычном недорогом сдвоенном ОУ LM258. К ОУ не предъявляется никаких особых требований, за исключением диапазона питания, и, желательно, достаточно высокой нагрузочной способности (к выбору ОУ мы еще вернемся). В качестве выпрямительного диода здесь также указан диод Шоттки, но, как мы уже говорили, это совершенно необязательный выбор: годится любой кремниевый диод с достаточно малым обратным током (не более единиц микроампер). Резисторы 5-процентные мощностью от 0,25 Вт; переменный резистор R6 лучше в подстроечном исполнении (многооборотный «под отвертку»). Конденсаторы С1-С2 — обычные керамические. Интегрирующий электролит C3 (его номинальное напряжение не имеет значения, так как сигнал у нас мизерный, но на всякий случай его лучше выбирать не менее величины положительного напряжения питания +Uп) — по идее, конечно, лучше танталовый или полимерный, но такой может показаться слишком дорогим, потому в крайнем случае можно обойтись обычным алюминиевым. Конденсаторы C1 и C2 предназначены для ослабления помех по питанию и должны устанавливаться поблизости от выводов 4 и 8 корпуса сдвоенного ОУ.<br/>
<br/>
<div style="text-align:center;"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/1g/ua/1r/1gua1rburauudpap9frl4i5mww0.png"/></div><br/>
На первом ОУ, как вы уже поняли, собран амплитудный детектор — однополупериодный выпрямитель с диодом в обратной связи ОУ. Как мы уже говорили, такое подключение обеспечивает линеаризацию характеристики диода вплоть до единиц милливольт на входе, при условии его достаточно малого обратного тока (у указанного BAT41 он составляет не более 100 нА). Запоминающий конденсатор C3 подзаряжается, если величина сигнала на входе превысит уже накопленное напряжение на нем, в противном случае диод останется закрытым. То есть напряжение на C3 равно значению амплитуды входного напряжения (точнее, амплитуды положительных всплесков входного напряжения). При этом в «чистом» виде (в отсутствие нагрузки) такой амплитудный детектор не имеет цепи разряда запоминающего конденсатора, и на нем — теоретически навсегда — будет оставаться последнее максимальное значение входного напряжения. Нас такое не устраивает, поэтому к амплитудному детектору добавлена разрядная цепь в виде резистора R3. Постоянная времени этой цепи (около 2 секунд) выбрана достаточно большой, но по результатам практических испытаний емкость C3 (отмечена звездочкой) может быть уменьшена. Чем меньше постоянная времени, тем более короткие всплески входного напряжения можно отловить, но тем больше дребезг показаний из-за случайных причин и просачивания частоты 50 Гц на выход.<br/>
<br/>
На втором ОУ собран масштабирующий усилитель по стандартной схеме неинвертирующего усилителя на ОУ. В данном случае его коэффициент усиления выбран таким, чтобы получить на выходе напряжение в вольтах, численно равное амперам тока, протекающего через измеряемый проводник. В формулах, приведенных на рисунке, число 0,084 — это идеализированная величина амплитуды переменного сигнала 60 мВ, поступающего с датчика. Т.е. нам надо получить коэффициент усиления около 12. В реальности сигнал может гулять из-за разброса датчиков и сопротивлений резисторов, влияния цепей заряда (т.е. выходного сопротивления ОУ) и разряда, собственного сопротивления запоминающего конденсатора и его утечек, а также неидеальностей ОУ на величины напряжений на входе и выходе усилителя. Потому с помощью подстроечного резистора R6 предусмотрена регулировка усиления примерно от 11 до 15.<br/>
<br/>
Питание здесь (как и во всех остальных схемах этой статьи) обязательно двухполярное, а конкретные значения положительного и отрицательного напряжений полностью зависят от желаемого размаха на выходе. Условие «1 В (на выходе) = 1 А (на входе)» ставит нас в достаточно жесткие рамки по выбору питания и соответственно, модели ОУ. Так, выбранный LM258 максимально может выдать на выходе напряжение примерно на 2 вольта меньше питания, так что при положительном питании 16 вольт максимальный измеряемый ток составит около 14 А (соответствует мощности сетевой нагрузки примерно в 3 кВт). <br/>
<br/>
Вспомним однако, что от желаемого размаха зависит лишь величина +<i>U</i>п, и, поскольку питание ОУ необязательно должно быть симметричным, величина -<i>U</i>п может быть выбрана минимально допустимой для выбранного типа ОУ. А ограничение на максимальный размах питания для ОУ действует на суммарное напряжение (от плюса до минуса), т.е мы можем существенно увеличить положительное напряжение питания, уменьшив отрицательное. Для LM258 минимальное значение питания около 1,5 В, но у других ОУ с широким диапазоном питания оно может быть выше (до 3-4 вольт), потому с некоторым запасом примем отрицательное напряжение по абсолютной величине равным 5-6 вольт. Таким образом у ОУ с допустимым размахом питания 30-32 вольта мы можем установить положительное питание, например, 24 вольта и при соблюдении того самого условия «1 В (на выходе) = 1 А (на входе)» получить максимальный измеряемый ток 22 ампера, что соответствует нагрузке примерно в 5 кВт. Правда, с конструкцией источника питания для такой схемы придется повозиться, к чему мы вернемся далее. <br/>
<br/>
А сейчас еще раз обратимся к вопросу выбора ОУ, исходя из приведенных соображений: следует смотреть на допустимый диапазон питания (не менее 30 вольт от плюса до минуса) и уж затем на остальные характеристики. В первую очередь смотрим на допустимое сопротивление нагрузки — оно должно быть не менее 1-2 кОм (выходной ток не менее примерно 10 мА на каждый канал сдвоенного ОУ). По этим параметрам мы и выбирали LM258, заодно как один из самых дешевых в своем классе (без оговорок заменяется на LM358, отличающийся лишь диапазоном рабочих температур). Можно взять классический µA747, он подойдет еще лучше (выходной каскад у него мощнее), но этот антиквариат в каталоге «Чипа-дипа» почему-то выставлен дороже. Если уж двигаться в сторону более дорогих, то имеет смысл подобрать ОУ со свойством rail-to-rail по выходу, тогда размах выходной шкалы сразу возрастет на пару вольт при том же питании (годится, например, OP295 ценой в пару-тройку сотен рублей и несколько разновидностей еще дороже). <br/>
<br/>
К условию «1 В (на выходе) = 1 А (на входе)» мы подтягивали схему затем, чтобы ее можно было подключить к любому вольтметру постоянного тока. В том числе к китайским одноплатникам со светодиодной индикацией, которые на Ali приобретаются за копейки. Выбирайте только такие (см. фото ниже), которые питаются от отдельного источника, а не от измеряемого сигнала, и имеют шкалу от нуля вольт. Учтите, что эти дешевые приборчики все равно при низких входных напряжениях будут врать, какие-то гарантии дают только фирменные измерительные головки (см. <a href="https://www.chipdip.ru/product/vm-14-1" rel="nofollow noopener noreferrer">здесь</a> и <a href="https://www.chipdip.ru/product/vm-19-1" rel="nofollow noopener noreferrer">здесь</a> или <a href="https://www.vseinstrumenti.ru/instrument/izmeritelnyj/parametry-setej/voltmetry/digitop/digitop-vm-14-1/" rel="nofollow noopener noreferrer">здесь</a>), но они принципиально дороже. <br/>
<br/>
<div style="text-align:center;"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/gx/bp/m7/gxbpm7iw2iiavb9akg-wsgrd94a.png" data-width="300"/></div><br/>
Как видите, здесь мы старались достичь цели максимально дешевым путем, отказавшись от программируемого контроллера и дорогого индикатора, зато нагрузив себя проектированием нестандартного питания. В следующей схеме мы осуществим иной подход, зато с питанием там никаких изысков выдумывать не придется.<br/>
<br/>
<h3>Двухполупериодный преобразователь (выпрямитель среднего значения)</h3><br/>
Сначала уточним задачу. В данном случае мы выходной сигнал собираемся послать на АЦП микроконтроллера (МК), управляющего индикатором. Пусть это будет банальный аналоговый вход Arduino, для которого опорное напряжение равно 5 В. Т.е. на выходе нашей схемы мы должны получить не более 5 В при максимальном значении входного тока. Договоримся считать его равным 27 амперам (примерно 6 кВт мощности в сети 220 В). Итого, при условии, что на каждый ампер приходится 0,06 вольта среднего значения сигнала с датчика, коэффициент усиления схемы должен составлять около 3 (5/27/0,06). <br/>
<br/>
<div style="text-align:center;"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/oq/hb/t3/oqhbt3rfyphytxu0npkrfnlhfuw.png"/></div><br/>
Схема выпрямителя среднего значения с этими параметрами представлена на рисунке. За подробностями работы схемы отсылаю к монографии В. С. Гутникова по приведенной выше ссылке. Отметим, что помеченные желтым резисторы R2, R4 и R5 должны быть из ряда с точностью 1% (градуировка E96). Конечно, можно просто попробовать нужные величины сопротивлений отобрать или составить из обычных 5-10-процентных, но опыт показывает, что времени и усилий это потребует гораздо больше, чем приобретение сразу нужных номиналов. Если точно резисторы не подгонять, то положительный и отрицательный полупериоды по усилению не совпадут, что породит дополнительный источник погрешностей. С той же целью резистор R3 подгоняется таким образом, чтобы входное сопротивление усилителя на втором ОУ было примерно одинаковым для положительной и отрицательной полуволн. <br/>
<br/>
Расчетные формулы приведены на рисунке, по ним вы можете подобрать резисторы, исходя из имеющихся у вас номиналов, если не достанете указанные на схеме. Для нашего любимого типа ОУ (LM258) следует выбирать резистор R2 не менее 2 кОм (и не более примерно 50-100 кОм), и отталкиваясь от него, рассчитать величины остальных резисторов. ОУ здесь выбирать значительно проще предыдущего случая — достаточно, чтобы он обеспечивал возможность работы от двухполярного питания, величиной не менее, чем ±7 вольт (примерно 14-15 вольт размаха), чему соответствует гораздо больше подходящих недорогих типов, чем в предыдущем случае. <br/>
<br/>
Разрисовывать подключение к МК и расписывать управление дисплеем мы не будем, так как вариантов может быть масса, а задача совершенно стандартная и примеров ее выполнения не счесть. Укажем только для особо непонятливых, что в обработчике данных с АЦП следует ввести соответствующий масштабный коэффициент, переводящий единицы кода в величину тока в амперах (число с плавающей точкой). Если все обстоит примерно так, как мы предполагаем по имеющимся данным, то коэффициент этот должен иметь величину где-то в районе 0,026 (1024/27).<br/>
<br/>
Заметим еще, что в случае применения АЦП можно и интегрирование перевести в цифру — даже АЦП Arduino способно выдавать около 10 тыс. отчетов в секунду, чего в принципе достаточно для набора представительного ряда мгновенных значений 50-герцового сигнала (примерно 200 отсчетов на период). Заодно мы можем получить истинное действующее (среднеквадратическое) значение выходного сигнала.<br/>
<br/>
<h2>Простой двухполярный источник питания для ОУ</h2><br/>
Сначала о том, как организовывать питание не следует. Для аналоговых схем, особенно измерительных, не рекомендуется применять импульсные источники — они обязательно будут приводить к дребезгу показаний на выходе, от которого крайне трудно избавиться. Нам здесь может быть наплевать на точность измерений, но неприятно, когда десятые вольта на дисплее мельтешат, не останавливаясь. Причем, чем дешевле импульсный источник (даже в дорогом «Чипе-дипе» можно купить регулируемый DC-DC-преобразователь за сотню-другую рублей), тем больше он отягощен помехами, но и дорогой все равно не избавит от них полностью. Можно попробовать загородиться от высокочастотных помех по питанию разными сложными фильтрами (простых конденсаторов C1 и C2 для этого может не хватить), но опыт показывает, что кардинально решить эту проблему можно только отказом от импульсных источников в пользу обычных линейных.<br/>
<br/>
<div style="text-align:center;"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/mt/kl/6s/mtkl6sfuoayxwpfy8wrh0lviewq.png"/></div><br/>
Для организации двухполярного питания, в котором не предвидится большого перекоса по потреблению между положительной и отрицательной сторонами (типичный случай для схем на ОУ) удобно использовать параллельный стабилизатор, показанный на рисунке. В этом простейшем виде он годится для схемы по варианту с двухполупериодным преобразователем среднего значения. Выходные напряжения могут быть любыми в пределах примерно от ±7 до ±15 вольт. В подобном двухполярном параллельном стабилизаторе входное напряжение равно сумме выходных. Так как в данном случае входное напряжение делится ровно пополам, то оно должно быть равно удвоенному выходному по любой из ветвей. Источником входного напряжения может быть простой трансформатор с выпрямителем и сглаживающим конденсатором или готовый адаптер с нестабилизированным выходом. Достаточная мощность такого источника составляет несколько ватт.<br/>
<br/>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title">Подробности</b>
                        <div class="spoiler_text">В параллельном стабилизаторе ток течет через верхний (<i>n-p-n</i>) транзистор, если потребление по «минусу» превышает потребление по «плюсу» и наоборот. В нашем случае по «плюсу» потребление будет больше, но на не слишком большую величину, ввиду общего малого потребления: несколько миллиампер даже при напряжении питания ±15 вольт не превысят допустимой мощности для транзистора BC327 (0,6-0,8 Вт). Если же вдруг транзистор будет ощутимо нагреваться, то маломощную комплементарную пару BC337/BC327 в корпусах TO-92 следует сменить на более мощную, например, BD137/BD136 в корпусах TO-126 (российский аналог КТ817/КТ816). Электролитические конденсаторы на выходе, конечно, желательны танталовой или полимерной разновидностей, но если цена их будет кусаться, то можно обойтись дешевыми алюминиевыми, поставив параллельно каждому по керамическому конденсатору 1 мкФ, аналогично входу.<br/>
</div>
                    </div><br/>
Этот же источник годится и для самого первого — простейшего — варианта схемы с аналоговой головкой. В этом варианте напряжения питания могут быть снижены до ±5 вольт.<br/>
<br/>
<h3>Модификация источника питания для амплитудного детектора</h3> <br/>
А вот для варианта с амплитудным детектором придется повозиться — такова цена за удобство настройки и широкий диапазон на выходе. Мы договорились положительное питание сделать больше отрицательного, сохранив суммарный диапазон в рамках допустимого для выбранного ОУ. Этого можно добиться от той же самой схемы двухполярного параллельного стабилизатора, если модифицировать делитель R1/R2, формирующий опорное напряжение на неинвертирующем входе ОУ, установив соотношение сопротивлений резисторов 4:1 (см. рисунок ниже). Напряжение на выходе тогда будет равно входному, поделенному в том же соотношении, то есть из входного 30 вольт получится +24 и -6 вольт относительно общего провода.<br/>
<br/>
<div style="text-align:center;"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/xm/mq/ea/xmmqea6l74lmmdu2bjxf3p_8kom.png"/></div><br/>
В этом бы не было ничего сложного, если бы не необходимость невыхода за пределы суммарного допустимого напряжения для ОУ. Указанный на схеме старичок µA741 допускает аж до 44 вольт суммарного напряжения питания, но ОУ в измерительной схеме могут такого не допускать. И если подавать нестабилизированное напряжение с трансформатора и выпрямителя, то еще надо учесть колебания напряжения в сети (±10% по стандарту) и просадку напряжения на фильтре и диодах выпрямителя под нагрузкой (которую очень сложно рассчитать заранее). Добавьте сюда сниженное подавление влияния нестабильности напряжений питания на выходной сигнал вследствие введенного нами перекоса. Иными словами, придется на вход двухполярного стабилизатора подавать уже хоть в какой-то степени стабилизированное напряжение. <br/>
<br/>
Исходя из этих соображений, напряжение на вход параллельного стабилизатора подается через регулируемый стабилизатор LM317. Для него напряжение на входе должно превышать напряжение на выходе на 4 вольта, как минимум (и современные более дорогие стабилизаторы принципиально картины не меняют). Итого для получения заказанных выходных напряжений +24 и -6 вольт на выходе необходимо на входе иметь гарантированные 35 вольт (под нагрузкой!) в минимуме и при этом в максимуме не допустить превышения допустимого напряжения для LM317, равного 40 вольтам. Поэкспериментировав с имеющимися у вас адаптерами и трансформаторами, можете убедиться, насколько трудновыполнимо это требование. Так что, возможно, в этом варианте нашего преобразователя при выполнении требования «1 В (на выходе) = 1 А (на входе)» придется ограничить свои аппетиты и снизить допустимый верхний предел измеряемого тока. <br/>
<br/>
Однако, слово мы сдержали, и в варианте амплитудного детектора сделали максимально дешевый и легко настраиваемый вариант схемы с цифровым выходом — даже по текущим ценам относительно дорогого «Чипа-Дипа» набор деталей для этой конструкции обойдется вам рублей в 150-200 максимум, не считая датчика и первичного источника питания.<br/>
<br/>
Да, и два слова про питание <b>выходной индикационной части</b>. Если индикатор основан на светодиодных семисегментниках, то потребляет эта часть по току заметно больше аналоговой, но и напряжение для нее не требуется столь высокое, как для нормального функционирования ОУ — для питания «цифры» необходимо и достаточно стабильного 5-вольтового питания. Потому в обоих вариантах схемы его выполнять имеет смысл отдельно от двухполярного аналогового питания и можно ограничиться любым 5-вольтовым стабилизатором на ток 100-150 мА, а для китайских одноплатных вольтметров даже и меньше этого значения. Конечно, по крайней мере в случае, когда мы используем встроенный АЦП контроллера, желательно, чтобы этот стабилизатор также был аналоговым. Однако в этом случае мы можем принять меры к программному устранению дребезга показаний, что снижает требования к источнику.</div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B0%D0%BD%D0%B0%D0%BB%D0%BE%D0%B3%D0%BE%D0%B2%D0%B0%D1%8F%20%D1%81%D1%85%D0%B5%D0%BC%D0%BE%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D0%BA%D0%B0%5D" class="tm-tags-list__link">аналоговая схемотехника</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B8%D0%B7%D0%BC%D0%B5%D1%80%D0%B5%D0%BD%D0%B8%D1%8F%5D" class="tm-tags-list__link">измерения</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9%20%D1%82%D0%BE%D0%BA%5D" class="tm-tags-list__link">переменный ток</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%82%D1%80%D0%B0%D0%BD%D1%81%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%BE%D1%80%D0%BD%D1%8B%D0%B5%20%D0%B4%D0%B0%D1%82%D1%87%D0%B8%D0%BA%D0%B8%5D" class="tm-tags-list__link">трансформаторные датчики</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/circuit-design/" class="tm-hubs-list__link">
    Схемотехника
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/easyelectronics/" class="tm-hubs-list__link">
    Электроника для начинающих
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 20: ↑20 и ↓0</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 20: ↑20 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+20</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">5.5K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    44
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/YRevich/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/a14/bf2/41c/a14bf241ce3a7a9e818acef5f73551d7.jpg" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 69 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    53
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">20</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Ревич Юрий</span> <a href="/ru/users/YRevich/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @YRevich
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">инженер-электронщик, писатель-популяризатор</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/584140/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 30 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/584140/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/584140/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"584140":{"id":"584140","timePublished":"2021-10-19T06:07:09+00:00","isCorporative":false,"lang":"ru","titleHtml":"Трансформаторные датчики тока","leadData":{"textHtml":"Представьте себе, что у вас встала задача измерения тока потребления в бытовой сети 220 В, 50 Гц. Причем главное ваше требование — невмешательство в существующую проводку. Мое непоколебимое мнение — в питающей ваш дом линии должно быть как можно меньше всякого, потому что каждый лишний агрегат есть потенциальная точка отказа. Если не сам по себе (как УЗО в старых загородных домах, где трудно избежать утечек), то как минимум из-за дополнительных контактных соединений, и хорошо, если эти соединения сделаны по стандартам, а не из оцинкованной стали в контакте с медью. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fmr\u002Flq\u002F3w\u002Fmrlq3wffxeqhmb9y-ysfqrfmt2i.png\"\u003E\u003C\u002Fdiv\u003E \u003Ci\u003EВинтажный измеритель тока и напряжения совершенно загадочного назначения. Но эффектно придумано, согласитесь!\u003C\u002Fi\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nИными словами, в качестве решения задачи измерения тока в бытовой сети отпадает все, устанавливаемое в разрыв проводки — и фирменное и самодельное. Традиционные шунты понятно почему (ко всему остальному они еще и пожароопасны), но не годятся и измерители на основе датчиков Холла (вроде популярных ACS7хх). Они требуют точной ориентации относительно проводника, а, значит, все равно устанавливаются в разрыв провода. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nОстаются трансформаторы тока. Вот их сейчас и рассмотрим с упором на самостоятельное изготовление: коли мы не вмешиваемся в проводку, ничего потенциально опасного мы соорудить не можем. Но сможем ли сделать удобнее и дешевле покупных?\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":53,"votesCount":69},"rating":20,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"1392174","alias":"YRevich","fullname":"Ревич Юрий","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Fa14\u002Fbf2\u002F41c\u002Fa14bf241ce3a7a9e818acef5f73551d7.jpg","speciality":"инженер-электронщик, писатель-популяризатор"},"statistics":{"commentsCount":30,"favoritesCount":44,"readingCount":5536,"score":20,"votesCount":20},"hubs":[{"relatedData":null,"id":"21472","alias":"circuit-design","type":"collective","title":"Схемотехника","titleHtml":"Схемотехника","isProfiled":true},{"relatedData":null,"id":"22016","alias":"easyelectronics","type":"collective","title":"Электроника для начинающих","titleHtml":"Электроника для начинающих","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EПредставьте себе, что у вас встала задача измерения тока потребления в бытовой сети 220 В, 50 Гц. Причем главное ваше требование — невмешательство в существующую проводку. Мое непоколебимое мнение — в питающей ваш дом линии должно быть как можно меньше всякого, потому что каждый лишний агрегат есть потенциальная точка отказа. Если не сам по себе (как УЗО в старых загородных домах, где трудно избежать утечек), то как минимум из-за дополнительных контактных соединений, и хорошо, если эти соединения сделаны по стандартам, а не из оцинкованной стали в контакте с медью. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fmr\u002Flq\u002F3w\u002Fmrlq3wffxeqhmb9y-ysfqrfmt2i.png\"\u002F\u003E\u003C\u002Fdiv\u003E \u003Ci\u003EВинтажный измеритель тока и напряжения совершенно загадочного назначения. Но эффектно придумано, согласитесь!\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИными словами, в качестве решения задачи измерения тока в бытовой сети отпадает все, устанавливаемое в разрыв проводки — и фирменное и самодельное. Традиционные шунты понятно почему (ко всему остальному они еще и пожароопасны), но не годятся и измерители на основе датчиков Холла (вроде популярных ACS7хх). Они требуют точной ориентации относительно проводника, а, значит, все равно устанавливаются в разрыв провода. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОстаются трансформаторы тока. Вот их сейчас и рассмотрим с упором на самостоятельное изготовление: коли мы не вмешиваемся в проводку, ничего потенциально опасного мы соорудить не можем. Но сможем ли сделать удобнее и дешевле покупных?\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nГуглим вопрос: трансформаторные датчики с гарантированной точностью и вычислением истинного среднеквадратического значения независимо от формы сигнала могут стоить \u003Ca href=\"https:\u002F\u002Fwww.chipdip.ru\u002Fproduct1\u002F8004394513\" rel=\"nofollow noopener noreferrer\"\u003Eсовершенно запредельные деньги\u003C\u002Fa\u003E (и при этом, заметьте, серия по ссылке имеет аналоговый выход, то есть еще требует оцифровки и дисплея). Смотрим… смотрим… \u003Ca href=\"https:\u002F\u002Fwww.vseinstrumenti.ru\u002Finstrument\u002Fizmeritelnyj\u002Fparametry-setej\u002Fampermetry-voltmetry\u002Fdigitop\u002Fdigitop-avm-1\u002F\" rel=\"nofollow noopener noreferrer\"\u003Eвот такой попроще\u003C\u002Fa\u003E нам подойдет. Он к тому же имеет выносной чувствительный элемент, который удобно просто надеть на провод, а не тащить провода к нему, нарушая разводку. И цена не очень кусается — если нужен один такой датчик, то, конечно, проще его приобрести.\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fou\u002F9r\u002Fnj\u002Fou9rnj37ziyie4mzqdb1t1vpaii.png\" data-width=\"400\"\u002F\u003E\u003C\u002Fdiv\u003E (изображение с сайта \u003Ci\u003E\u003Ca href=\"http:\u002F\u002Fwww.vseinstrumenti.ru\" rel=\"nofollow noopener noreferrer\"\u003Ewww.vseinstrumenti.ru\u003C\u002Fa\u003E\u003C\u002Fi\u003E)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНо че там сложного, думаем мы, разве трудно сделать самостоятельно? Для начала нужен собственно трансформаторный чувствительный элемент. Ну, трансформатор и есть трансформатор, намотаем на тороиде и приставим измерительную схему, так? Опять гуглим вопрос и выясняем, однако, что все не так и просто: ладно, что мотать нужно порядка сотен-тысяч витков, но необходим небольшой по размерам сердечник из трансформаторного железа, каковой приобрести в розницу в современных условиях оказывается проблематичным. А потрошить старые компьютерные блоки питания в надежде, что там окажется дроссель с нужным сердечником, как советуют кое-где — несерьезно, ну нет у нас под рукой свалки старых десктопов. Если кто-то желает вникать в эту мутную науку по самостоятельным расчетам сердечников, то \u003Ca href=\"http:\u002F\u002Fsoundbarrel.ru\u002Fpitanie\u002Ftrans_toka.html\" rel=\"nofollow noopener noreferrer\"\u003Eвот самое вменяемое\u003C\u002Fa\u003E из того, что я разыскал в популярном изложении (в конце там найдете и ссылки на серьезную литературу).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЛадно, поищем готовые. Так-то простой трансформаторный сенсор стоит от 1,5 до 3 тыр, но я разыскал датчики индийской фирмы Talema, сразу снабженные длинными гибкими выводами и за приемлемую цену. Для домашних целей подходит \u003Ca href=\"https:\u002F\u002Fwww.chipdip.ru\u002Fproduct0\u002F8269855388\" rel=\"nofollow noopener noreferrer\"\u003Eдатчик AZ-0500\u003C\u002Fa\u003E с номинальным диапазоном до 25 А (для него есть предложения и подешевле, но с бóльшими трудностями по заказу и доставке). Что приятно, имеется и \u003Ca href=\"https:\u002F\u002Ftalema.com\u002Fwp-content\u002Fuploads\u002Fdatasheets\u002FAZ.pdf\" rel=\"nofollow noopener noreferrer\"\u003Eофициальная документация\u003C\u002Fa\u003E. Правда, по внятности ее написания индийские друзья, наверное, хуже даже китайских товарищей, традиционно ненавидящих публиковать всяческие подробности о своей продукции (разумеется, а то еще отвечать придется за несоответствия), и окончательно разбираться с датчиком пришлось вживую.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EДатчик AZ-0500\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nДатчик выдает переменное напряжение, в целом соответствующее величинам, указанным на графике в документации — при номинальной нагрузке 33 Ом на выходе получается примерно 60-65 милливольт на ампер проходящего тока, с довольно приличной линейностью. Причем в документации не указано, какое именно (действующее, среднее или амплитудное) значение приводится и даже не упомянуто, что напряжение переменное синусоидальное, а не импульсное или какое-нибудь трапециевидное. Но ориентируясь на измерения обычным мультиметром, калиброванным в действующих значениях переменного напряжения, будем считать, что на графиках имеется в виду именно действующее значение переменного сигнала на выходе датчика. В дальнейшем мы будем измерять сигнал с помощью аналогового преобразователя, который все равно потребует подстройки (калибровки) «по месту», так что нам не очень важно, какой именно параметр они там имели в виду, а для ориентировочных расчетов и этого достаточно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EПреобразователи\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nДалее нужно все это преобразовать и индицировать. И вот тут выяснилось то, что и явилось причиной для написания этой статьи. В Сети обнаружилась пара готовых решений для подключения трансформаторных датчиков, однако, из их схем и описаний видно, что авторы имеют слабое представление об аналоговой технике и действовали наугад, подгоняя схему под свой конкретный случай. Так не годится, решил я, и взялся за проектирование более-менее универсального варианта подобной схемы, годящегося для любых трансформаторных первичных преобразователей. В результате родилось три варианта для случаев разной степени продвинутости, которые и излагаются ниже. Можно приспособить приведенные далее схемы и для других типов датчиков тока с переменным сигналом на выходе, кроме трансформаторных.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля начала в любом случае нужно переменный сигнал с датчика выпрямить, причем не обычным диодом или мостом, на котором все эти 65 милливольт потеряются бесследно, а прецизионным выпрямителем, выполняемым обычно с помощью операционного усилителя (ОУ). Выпрямитель может быть однополупериодным (амплитудным) или двухполупериодным (выпрямителем среднего значения), см. по этому поводу \u003Ca href=\"http:\u002F\u002Fpubl.lib.ru\u002FARCHIVES\u002FG\u002FGUTNIKOV_Valentin_Sergeevich\u002FGutnikov_V.S._Integral'naya_elektronika_v_izmeritel'nyh_ustroystvah.(1988).%5bdjv-fax%5d.zip\" rel=\"nofollow noopener noreferrer\"\u003Eклассический труд В. С. Гутникова\u003C\u002Fa\u003E. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\" role=\"button\" tabindex=\"0\"\u003E\n                        \u003Cb class=\"spoiler_title\"\u003EПодробности об измерениях переменного тока\u003C\u002Fb\u003E\n                        \u003Cdiv class=\"spoiler_text\"\u003EТут стоит сделать отступление об измерениях переменного тока вообще. Тем, кто забыл, чем различаются среднее (\u003Ci\u003Eсреднеарифметическое\u003C\u002Fi\u003E, постоянная составляющая) и среднее по модулю (\u003Ci\u003Eсредневыпрямленное\u003C\u002Fi\u003E), \u003Ci\u003Eдействующее\u003C\u002Fi\u003E (\u003Ci\u003Eсреднеквадратичное\u003C\u002Fi\u003E) и \u003Ci\u003Eамплитудное\u003C\u002Fi\u003E (пиковое) значения, советую заглянуть \u003Ca href=\"https:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2_%D0%BD%D0%B0%D0%BF%D1%80%D1%8F%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F_%D0%B8_%D1%81%D0%B8%D0%BB%D1%8B_%D1%8D%D0%BB%D0%B5%D0%BA%D1%82%D1%80%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B3%D0%BE_%D1%82%D0%BE%D0%BA%D0%B0\" rel=\"nofollow noopener noreferrer\"\u003Eсюда\u003C\u002Fa\u003E или \u003Ca href=\"https:\u002F\u002Ftel-spb.ru\u002Fac.html\" rel=\"nofollow noopener noreferrer\"\u003Eсюда\u003C\u002Fa\u003E. Если оставить за кадром случаи специальных измерений (характеристик радиосигналов или звуковых колебаний, например), то в общем случае нас интересует действующее значение напряжения и тока — именно оно подразумевается в надписях на бытовых приборах «230 В 1 А». А вот всегда ли мы можем измерить именно действующее — большой-большой вопрос. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ аналоговые времена эта проблема остро не стояла: стрелочные головки электромагнитной системы (и некоторых других, более редких разновидностей) без всяких промежуточных преобразований реагируют именно на действующее значение, причем независимо от формы сигнала, и даже от его частоты — на постоянный ток они реагируют точно так же, как на переменный. Вольтметры такой системы знакомы всем старперам-любителям по неравномерной шкале, где в начале шкалы кусок отсутствует вовсе, а далее промежутки между делениями постепенно уменьшаются (см. рисунок внизу). Что и обуславливает главный недостаток такого принципа — зона нечувствительности при малых сигналах и снижение разрешения в конце шкалы. Пытались приспособить к практике и другие методы измерения переменного тока, реагирующие именно на действующее значение (например, через преобразование в тепловую энергию, или возведение в квадрат аналоговыми способами), но все такие приборы оказались хуже, сложнее и дороже обычных.\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fxz\u002Fwo\u002Faw\u002Fxzwoawd7czgqqvfghrccxhwyqzq.png\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nОставалось приспособить к измерению переменного тока-напряжения магнитоэлектрические головки, которые точнее и удобнее электромагнитных, но, увы, реагируют только на среднее (средневыпрямленное) значение, для синусоидального тока отличающееся от интересного нам действующего на 11% в меньшую сторону. Но не это главное — при известной и стабильной форме сигнала пересчитать средневыпрямленное в действующее, и учесть этот пересчет при градуировке шкалы ничего не стоит. Беда в том, что малейшее отклонение сигнала от формы синуса вносит в такие расчеты погрешность тем большую, чем больше отклонение. Так, у прямоугольного колебания (меандра, и необязательно со скважностью 2) действующее и средневыпрямленное равны по величине (т.е. ошибка при обычной градуировке и составит 11%). Но для колебаний произвольной формы (вроде, например, звукового) теоретически рассчитать отклонение невозможно, а, значит, и вожделенного действующего значения мы получить из среднего не сможем. Причем в реальных условиях даже вроде бы строгий синус сетевого напряжения обязательно будет искажаться помехами, то есть подобная погрешность присутствует всегда (автор \u003Ca href=\"http:\u002F\u002Fpubl.lib.ru\u002FARCHIVES\u002FV\u002FVOLGIN_Leonid_Ivanovich\u002FVolgin_L.I._Izmeritel'nye_preobrazovateli_peremennogo_napryajeniya_v_postoyannoe.(1977).%5bdjv-fax%5d.zip\" rel=\"nofollow noopener noreferrer\"\u003Eвот этого труда\u003C\u002Fa\u003E указывает, что она может быть значительно выше погрешности выпрямления\u002Fпреобразования). Хотя обычно и не настолько она велика, чтобы составлять серьезную проблему для практических нужд — даже дешевые мультиметры вполне себе показывают напряжение в сети без особого вранья.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНадо учитывать, что почти все современные электронные мультиметры, кроме специальных приборов, также измеряют средневыпрямленное значение. Существуют, разумеется, цифровые приборы, использующие прямой аналитический метод измерения среднеквадратического значения (путем достаточно подробного квантования каждого периода и расчета интеграла от массива отсчетов, возведенных в квадрат), но к мультиметрам это не относится. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСхемы, которые мы рассмотрим далее, также будут привязаны к среднему (в дальнейшем изложении под просто \u003Ci\u003Eсредним\u003C\u002Fi\u003E значением мы будем подразумевать \u003Ci\u003Eсредневыпрямленное\u003C\u002Fi\u003E) или амплитудному значению. Калибровать мы их будем, конечно, по действующему значению.\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\n                    \u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nРассмотрим сначала самый простой аналоговый преобразователь, выдающий на выходе величину тока, пропорциональную среднему (средневыпрямленному) значению входного сигнала.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EПростейший аналоговый измеритель тока\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nНа рисунке ниже изображена схема простейшего аналогового измерителя сигнала с датчика тока, основанная на прецизионном двухполупериодном выпрямителе. Выпрямитель представляет собой обычный диодный мост, включенный в отрицательную обратную связь ОУ. За счет этого спрямляется характеристика диодов моста и на выходе наблюдается выпрямленный сигнал, не имеющий характерного провала в области малых напряжений за счет падения напряжения на диодах. Такой выпрямитель «ловит» входной переменный сигнал вплоть до единиц милливольт (может и меньше — смотря, насколько качественный ОУ мы здесь выберем). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Flp\u002F1b\u002Ftj\u002Flp1btjvamf6k9kajnsiwzmvvmb8.png\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nВыход выпрямителя — дифференциальный токовый, т.е. нагрузка не может быть привязана к общему проводу. Так как величина сигнала на выходе привязана к средневыпрямленному значению, то в приведенной на рисунке формуле для выходного тока модуль (абсолютная величина) напряжения с датчика \u003Ci\u003EU\u003C\u002Fi\u003Eд изображен с чертой наверху (что в данном случае означает не логическую инверсию, а арифметическое усреднение). Как видите, масштабируется величина тока не просто, а очень просто — подбором единственного резистора R2. Причем масштабируется с высокой точностью — все, повторим, зависит от выбора ОУ, о котором далее. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСамое удобное обращение с таким сигналом — подключить к выходу стрелочную магнитоэлектрическую головку амперметра. Не очень важно, на какой максимальный ток полного отклонения она будет рассчитана, от этого зависит только необходимая величина сопротивления резистора R2 (конечно, следует учитывать ограничения со стороны выходного тока выбранного ОУ, потому головки с более, чем 1 мА полного отклонения применять не стоит). На схеме указана головка с пределом 100 мкА, тогда при сопротивлении R2 ≈ 1,5 кОм, исходя из характеристик нашего датчика (0,065 В = 1 А), вся шкала составит как раз около 25 А (где-то 5,5 кВт в сети 220 В). Шкалу можно напечатать на принтере и аккуратно наклеить поверх существующей, стараясь не погнуть нежную стрелку. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРазмах напряжения на выходе здесь равен размаху на входе и составит менее 2-х вольт, т.е. для этой схемы достаточно двухполярного питания от примерно ±3-5 В. Его можно организовать по схеме параллельного стабилизатора, подробно разбираемого далее, только мы будем в дальнейшем разбирать схемы, более приспособленные к выводу на цифровые приборы, потому там необходимое питание будет выше. Патриарх µA741 здесь указан только для унификации с остальными схемами, в реальности можно выбрать и более современный с питанием ±5 вольт. Мост на схеме собран на основе диодов Шоттки BAT41 (производства ST Microelectronics), но здесь, как и в последующих схемах преобразователей, можно употреблять любые маломощные кремниевые диоды с по возможности минимальным обратным током (единицы микроампер и менее).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nА почему нельзя эту простую и понятную схему приспособить к цифровой технике? Почему же нельзя, можно, разумеется. Только прикиньте, во что это будет выливаться: выходной дифференциальный токовый сигнал надо преобразовать в напряжение, причем подогнать его под диапазон выбранного АЦП, а затем еще и отобразить на индикаторах. Схемы, разобранные далее, куда лучше приспособлены к подобным операциям. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nУкажем, кстати, что если уж полностью погружаться в винтажную схемотехнику, то разобранная схема хорошо стыкуется с популярными когда-то микросхемами АЦП ICL7107\u002FICL7106 (отечественные 572ПВ2\u002FПВ5). Они имеют дифференциальные входы и непосредственный выход на индикаторы, ЖК (ICL7106) или светодиодные семисегментные (ICL7107). Правда, результирующая схема выйдет сложнее и дороже рассматриваемых далее, но при проектировании и отладке получите исключительное удовольствие (об АЦП 572ПВ2\u002FПВ5 можно прочесть в указанной выше книге В. С. Гутникова или \u003Ca href=\"https:\u002F\u002Fbhv.ru\u002Fproduct\u002Fzanimatelnaya-elektronika-6-e-izd\u002F\" rel=\"nofollow noopener noreferrer\"\u003Eв этой\u003C\u002Fa\u003E книге автора).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EДругие разновидности преобразователей\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nВообще говоря, амплитудный преобразователь реализуется проще двухполупериодного — выпрямление вместе с интегрированием выполняются также на одном ОУ. К выпрямителю добавляем второй ОУ, как масштабный усилитель. Выбор такой схемы гарантирует линейность преобразования вплоть до милливольт и в то же время простую и предсказуемую регулировку усиления, необходимую нам для установки масштаба преобразования. Индикацию показаний можно переложить на любой самый дешевый вольтметр, если соответствующим образом подогнать масштаб усиления.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДругой вариант — двухполупериодная схема выпрямителя среднего значения — более корректнен при измерениях сетевого напряжения. У такой схемы меньше зависимость выходной величины от искажений сигнала и наличия помех — амплитудный детектор, который у нас получается в первом случае, запросто может «насосать» всяческих случайных всплесков сетевого напряжения. Рассмотренная нами выше простейшая аналоговая схема относится именно к двухполупериодной разновидности, но далее мы рассмотрим более совершенный вариант с однополярным выходом. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИ тут мы обнаружим, что такой улучшенный вариант двухполупериодной схемы менее удобен, если коэффициент усиления приходится регулировать в процессе калибровки «по месту». В рассмотренной далее схеме (сделанной по экономичному варианту также на двух ОУ) усиление и выпрямление совмещены и усиление определяется сразу несколькими резисторами, связанными друг с другом. Сломаете голову, пытаясь все совместить да еще и подогнать под стандартные ряды сопротивлений. Эту проблему можно обойти, если отказаться от калибровки аналоговыми методами и перенести ее в цифру: сигнал с выпрямителя подается на АЦП микроконтроллера (да хоть бы и на Arduino), управляющий дисплеем. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕще один источник погрешностей связан с тем, что для целей преобразования в цифру следует выходной сигнал сгладить — тем или иным способом заинтегрировать. В рассмотренном выше варианте отличным интегратором служит сама головка за счет механической инерции ее поворотной системы, а здесь придется действовать схемотехническими методами. Рассмотрим оба этих варианта по отдельности. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EОднополупериодный (амплитудный) преобразователь\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nПрактическая схема однополупериодного преобразователя сигнала с трансформаторного датчика с масштабирующим усилителем показана на рисунке ниже. Схема собрана на обычном недорогом сдвоенном ОУ LM258. К ОУ не предъявляется никаких особых требований, за исключением диапазона питания, и, желательно, достаточно высокой нагрузочной способности (к выбору ОУ мы еще вернемся). В качестве выпрямительного диода здесь также указан диод Шоттки, но, как мы уже говорили, это совершенно необязательный выбор: годится любой кремниевый диод с достаточно малым обратным током (не более единиц микроампер). Резисторы 5-процентные мощностью от 0,25 Вт; переменный резистор R6 лучше в подстроечном исполнении (многооборотный «под отвертку»). Конденсаторы С1-С2 — обычные керамические. Интегрирующий электролит C3 (его номинальное напряжение не имеет значения, так как сигнал у нас мизерный, но на всякий случай его лучше выбирать не менее величины положительного напряжения питания +Uп) — по идее, конечно, лучше танталовый или полимерный, но такой может показаться слишком дорогим, потому в крайнем случае можно обойтись обычным алюминиевым. Конденсаторы C1 и C2 предназначены для ослабления помех по питанию и должны устанавливаться поблизости от выводов 4 и 8 корпуса сдвоенного ОУ.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F1g\u002Fua\u002F1r\u002F1gua1rburauudpap9frl4i5mww0.png\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nНа первом ОУ, как вы уже поняли, собран амплитудный детектор — однополупериодный выпрямитель с диодом в обратной связи ОУ. Как мы уже говорили, такое подключение обеспечивает линеаризацию характеристики диода вплоть до единиц милливольт на входе, при условии его достаточно малого обратного тока (у указанного BAT41 он составляет не более 100 нА). Запоминающий конденсатор C3 подзаряжается, если величина сигнала на входе превысит уже накопленное напряжение на нем, в противном случае диод останется закрытым. То есть напряжение на C3 равно значению амплитуды входного напряжения (точнее, амплитуды положительных всплесков входного напряжения). При этом в «чистом» виде (в отсутствие нагрузки) такой амплитудный детектор не имеет цепи разряда запоминающего конденсатора, и на нем — теоретически навсегда — будет оставаться последнее максимальное значение входного напряжения. Нас такое не устраивает, поэтому к амплитудному детектору добавлена разрядная цепь в виде резистора R3. Постоянная времени этой цепи (около 2 секунд) выбрана достаточно большой, но по результатам практических испытаний емкость C3 (отмечена звездочкой) может быть уменьшена. Чем меньше постоянная времени, тем более короткие всплески входного напряжения можно отловить, но тем больше дребезг показаний из-за случайных причин и просачивания частоты 50 Гц на выход.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа втором ОУ собран масштабирующий усилитель по стандартной схеме неинвертирующего усилителя на ОУ. В данном случае его коэффициент усиления выбран таким, чтобы получить на выходе напряжение в вольтах, численно равное амперам тока, протекающего через измеряемый проводник. В формулах, приведенных на рисунке, число 0,084 — это идеализированная величина амплитуды переменного сигнала 60 мВ, поступающего с датчика. Т.е. нам надо получить коэффициент усиления около 12. В реальности сигнал может гулять из-за разброса датчиков и сопротивлений резисторов, влияния цепей заряда (т.е. выходного сопротивления ОУ) и разряда, собственного сопротивления запоминающего конденсатора и его утечек, а также неидеальностей ОУ на величины напряжений на входе и выходе усилителя. Потому с помощью подстроечного резистора R6 предусмотрена регулировка усиления примерно от 11 до 15.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПитание здесь (как и во всех остальных схемах этой статьи) обязательно двухполярное, а конкретные значения положительного и отрицательного напряжений полностью зависят от желаемого размаха на выходе. Условие «1 В (на выходе) = 1 А (на входе)» ставит нас в достаточно жесткие рамки по выбору питания и соответственно, модели ОУ. Так, выбранный LM258 максимально может выдать на выходе напряжение примерно на 2 вольта меньше питания, так что при положительном питании 16 вольт максимальный измеряемый ток составит около 14 А (соответствует мощности сетевой нагрузки примерно в 3 кВт). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВспомним однако, что от желаемого размаха зависит лишь величина +\u003Ci\u003EU\u003C\u002Fi\u003Eп, и, поскольку питание ОУ необязательно должно быть симметричным, величина -\u003Ci\u003EU\u003C\u002Fi\u003Eп может быть выбрана минимально допустимой для выбранного типа ОУ. А ограничение на максимальный размах питания для ОУ действует на суммарное напряжение (от плюса до минуса), т.е мы можем существенно увеличить положительное напряжение питания, уменьшив отрицательное. Для LM258 минимальное значение питания около 1,5 В, но у других ОУ с широким диапазоном питания оно может быть выше (до 3-4 вольт), потому с некоторым запасом примем отрицательное напряжение по абсолютной величине равным 5-6 вольт. Таким образом у ОУ с допустимым размахом питания 30-32 вольта мы можем установить положительное питание, например, 24 вольта и при соблюдении того самого условия «1 В (на выходе) = 1 А (на входе)» получить максимальный измеряемый ток 22 ампера, что соответствует нагрузке примерно в 5 кВт. Правда, с конструкцией источника питания для такой схемы придется повозиться, к чему мы вернемся далее. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nА сейчас еще раз обратимся к вопросу выбора ОУ, исходя из приведенных соображений: следует смотреть на допустимый диапазон питания (не менее 30 вольт от плюса до минуса) и уж затем на остальные характеристики. В первую очередь смотрим на допустимое сопротивление нагрузки — оно должно быть не менее 1-2 кОм (выходной ток не менее примерно 10 мА на каждый канал сдвоенного ОУ). По этим параметрам мы и выбирали LM258, заодно как один из самых дешевых в своем классе (без оговорок заменяется на LM358, отличающийся лишь диапазоном рабочих температур). Можно взять классический µA747, он подойдет еще лучше (выходной каскад у него мощнее), но этот антиквариат в каталоге «Чипа-дипа» почему-то выставлен дороже. Если уж двигаться в сторону более дорогих, то имеет смысл подобрать ОУ со свойством rail-to-rail по выходу, тогда размах выходной шкалы сразу возрастет на пару вольт при том же питании (годится, например, OP295 ценой в пару-тройку сотен рублей и несколько разновидностей еще дороже). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nК условию «1 В (на выходе) = 1 А (на входе)» мы подтягивали схему затем, чтобы ее можно было подключить к любому вольтметру постоянного тока. В том числе к китайским одноплатникам со светодиодной индикацией, которые на Ali приобретаются за копейки. Выбирайте только такие (см. фото ниже), которые питаются от отдельного источника, а не от измеряемого сигнала, и имеют шкалу от нуля вольт. Учтите, что эти дешевые приборчики все равно при низких входных напряжениях будут врать, какие-то гарантии дают только фирменные измерительные головки (см. \u003Ca href=\"https:\u002F\u002Fwww.chipdip.ru\u002Fproduct\u002Fvm-14-1\" rel=\"nofollow noopener noreferrer\"\u003Eздесь\u003C\u002Fa\u003E и \u003Ca href=\"https:\u002F\u002Fwww.chipdip.ru\u002Fproduct\u002Fvm-19-1\" rel=\"nofollow noopener noreferrer\"\u003Eздесь\u003C\u002Fa\u003E или \u003Ca href=\"https:\u002F\u002Fwww.vseinstrumenti.ru\u002Finstrument\u002Fizmeritelnyj\u002Fparametry-setej\u002Fvoltmetry\u002Fdigitop\u002Fdigitop-vm-14-1\u002F\" rel=\"nofollow noopener noreferrer\"\u003Eздесь\u003C\u002Fa\u003E), но они принципиально дороже. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fgx\u002Fbp\u002Fm7\u002Fgxbpm7iw2iiavb9akg-wsgrd94a.png\" data-width=\"300\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nКак видите, здесь мы старались достичь цели максимально дешевым путем, отказавшись от программируемого контроллера и дорогого индикатора, зато нагрузив себя проектированием нестандартного питания. В следующей схеме мы осуществим иной подход, зато с питанием там никаких изысков выдумывать не придется.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EДвухполупериодный преобразователь (выпрямитель среднего значения)\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nСначала уточним задачу. В данном случае мы выходной сигнал собираемся послать на АЦП микроконтроллера (МК), управляющего индикатором. Пусть это будет банальный аналоговый вход Arduino, для которого опорное напряжение равно 5 В. Т.е. на выходе нашей схемы мы должны получить не более 5 В при максимальном значении входного тока. Договоримся считать его равным 27 амперам (примерно 6 кВт мощности в сети 220 В). Итого, при условии, что на каждый ампер приходится 0,06 вольта среднего значения сигнала с датчика, коэффициент усиления схемы должен составлять около 3 (5\u002F27\u002F0,06). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Foq\u002Fhb\u002Ft3\u002Foqhbt3rfyphytxu0npkrfnlhfuw.png\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nСхема выпрямителя среднего значения с этими параметрами представлена на рисунке. За подробностями работы схемы отсылаю к монографии В. С. Гутникова по приведенной выше ссылке. Отметим, что помеченные желтым резисторы R2, R4 и R5 должны быть из ряда с точностью 1% (градуировка E96). Конечно, можно просто попробовать нужные величины сопротивлений отобрать или составить из обычных 5-10-процентных, но опыт показывает, что времени и усилий это потребует гораздо больше, чем приобретение сразу нужных номиналов. Если точно резисторы не подгонять, то положительный и отрицательный полупериоды по усилению не совпадут, что породит дополнительный источник погрешностей. С той же целью резистор R3 подгоняется таким образом, чтобы входное сопротивление усилителя на втором ОУ было примерно одинаковым для положительной и отрицательной полуволн. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРасчетные формулы приведены на рисунке, по ним вы можете подобрать резисторы, исходя из имеющихся у вас номиналов, если не достанете указанные на схеме. Для нашего любимого типа ОУ (LM258) следует выбирать резистор R2 не менее 2 кОм (и не более примерно 50-100 кОм), и отталкиваясь от него, рассчитать величины остальных резисторов. ОУ здесь выбирать значительно проще предыдущего случая — достаточно, чтобы он обеспечивал возможность работы от двухполярного питания, величиной не менее, чем ±7 вольт (примерно 14-15 вольт размаха), чему соответствует гораздо больше подходящих недорогих типов, чем в предыдущем случае. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРазрисовывать подключение к МК и расписывать управление дисплеем мы не будем, так как вариантов может быть масса, а задача совершенно стандартная и примеров ее выполнения не счесть. Укажем только для особо непонятливых, что в обработчике данных с АЦП следует ввести соответствующий масштабный коэффициент, переводящий единицы кода в величину тока в амперах (число с плавающей точкой). Если все обстоит примерно так, как мы предполагаем по имеющимся данным, то коэффициент этот должен иметь величину где-то в районе 0,026 (1024\u002F27).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗаметим еще, что в случае применения АЦП можно и интегрирование перевести в цифру — даже АЦП Arduino способно выдавать около 10 тыс. отчетов в секунду, чего в принципе достаточно для набора представительного ряда мгновенных значений 50-герцового сигнала (примерно 200 отсчетов на период). Заодно мы можем получить истинное действующее (среднеквадратическое) значение выходного сигнала.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EПростой двухполярный источник питания для ОУ\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nСначала о том, как организовывать питание не следует. Для аналоговых схем, особенно измерительных, не рекомендуется применять импульсные источники — они обязательно будут приводить к дребезгу показаний на выходе, от которого крайне трудно избавиться. Нам здесь может быть наплевать на точность измерений, но неприятно, когда десятые вольта на дисплее мельтешат, не останавливаясь. Причем, чем дешевле импульсный источник (даже в дорогом «Чипе-дипе» можно купить регулируемый DC-DC-преобразователь за сотню-другую рублей), тем больше он отягощен помехами, но и дорогой все равно не избавит от них полностью. Можно попробовать загородиться от высокочастотных помех по питанию разными сложными фильтрами (простых конденсаторов C1 и C2 для этого может не хватить), но опыт показывает, что кардинально решить эту проблему можно только отказом от импульсных источников в пользу обычных линейных.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fmt\u002Fkl\u002F6s\u002Fmtkl6sfuoayxwpfy8wrh0lviewq.png\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nДля организации двухполярного питания, в котором не предвидится большого перекоса по потреблению между положительной и отрицательной сторонами (типичный случай для схем на ОУ) удобно использовать параллельный стабилизатор, показанный на рисунке. В этом простейшем виде он годится для схемы по варианту с двухполупериодным преобразователем среднего значения. Выходные напряжения могут быть любыми в пределах примерно от ±7 до ±15 вольт. В подобном двухполярном параллельном стабилизаторе входное напряжение равно сумме выходных. Так как в данном случае входное напряжение делится ровно пополам, то оно должно быть равно удвоенному выходному по любой из ветвей. Источником входного напряжения может быть простой трансформатор с выпрямителем и сглаживающим конденсатором или готовый адаптер с нестабилизированным выходом. Достаточная мощность такого источника составляет несколько ватт.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\" role=\"button\" tabindex=\"0\"\u003E\n                        \u003Cb class=\"spoiler_title\"\u003EПодробности\u003C\u002Fb\u003E\n                        \u003Cdiv class=\"spoiler_text\"\u003EВ параллельном стабилизаторе ток течет через верхний (\u003Ci\u003En-p-n\u003C\u002Fi\u003E) транзистор, если потребление по «минусу» превышает потребление по «плюсу» и наоборот. В нашем случае по «плюсу» потребление будет больше, но на не слишком большую величину, ввиду общего малого потребления: несколько миллиампер даже при напряжении питания ±15 вольт не превысят допустимой мощности для транзистора BC327 (0,6-0,8 Вт). Если же вдруг транзистор будет ощутимо нагреваться, то маломощную комплементарную пару BC337\u002FBC327 в корпусах TO-92 следует сменить на более мощную, например, BD137\u002FBD136 в корпусах TO-126 (российский аналог КТ817\u002FКТ816). Электролитические конденсаторы на выходе, конечно, желательны танталовой или полимерной разновидностей, но если цена их будет кусаться, то можно обойтись дешевыми алюминиевыми, поставив параллельно каждому по керамическому конденсатору 1 мкФ, аналогично входу.\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\n                    \u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nЭтот же источник годится и для самого первого — простейшего — варианта схемы с аналоговой головкой. В этом варианте напряжения питания могут быть снижены до ±5 вольт.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EМодификация источника питания для амплитудного детектора\u003C\u002Fh3\u003E \u003Cbr\u002F\u003E\r\nА вот для варианта с амплитудным детектором придется повозиться — такова цена за удобство настройки и широкий диапазон на выходе. Мы договорились положительное питание сделать больше отрицательного, сохранив суммарный диапазон в рамках допустимого для выбранного ОУ. Этого можно добиться от той же самой схемы двухполярного параллельного стабилизатора, если модифицировать делитель R1\u002FR2, формирующий опорное напряжение на неинвертирующем входе ОУ, установив соотношение сопротивлений резисторов 4:1 (см. рисунок ниже). Напряжение на выходе тогда будет равно входному, поделенному в том же соотношении, то есть из входного 30 вольт получится +24 и -6 вольт относительно общего провода.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fxm\u002Fmq\u002Fea\u002Fxmmqea6l74lmmdu2bjxf3p_8kom.png\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nВ этом бы не было ничего сложного, если бы не необходимость невыхода за пределы суммарного допустимого напряжения для ОУ. Указанный на схеме старичок µA741 допускает аж до 44 вольт суммарного напряжения питания, но ОУ в измерительной схеме могут такого не допускать. И если подавать нестабилизированное напряжение с трансформатора и выпрямителя, то еще надо учесть колебания напряжения в сети (±10% по стандарту) и просадку напряжения на фильтре и диодах выпрямителя под нагрузкой (которую очень сложно рассчитать заранее). Добавьте сюда сниженное подавление влияния нестабильности напряжений питания на выходной сигнал вследствие введенного нами перекоса. Иными словами, придется на вход двухполярного стабилизатора подавать уже хоть в какой-то степени стабилизированное напряжение. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИсходя из этих соображений, напряжение на вход параллельного стабилизатора подается через регулируемый стабилизатор LM317. Для него напряжение на входе должно превышать напряжение на выходе на 4 вольта, как минимум (и современные более дорогие стабилизаторы принципиально картины не меняют). Итого для получения заказанных выходных напряжений +24 и -6 вольт на выходе необходимо на входе иметь гарантированные 35 вольт (под нагрузкой!) в минимуме и при этом в максимуме не допустить превышения допустимого напряжения для LM317, равного 40 вольтам. Поэкспериментировав с имеющимися у вас адаптерами и трансформаторами, можете убедиться, насколько трудновыполнимо это требование. Так что, возможно, в этом варианте нашего преобразователя при выполнении требования «1 В (на выходе) = 1 А (на входе)» придется ограничить свои аппетиты и снизить допустимый верхний предел измеряемого тока. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОднако, слово мы сдержали, и в варианте амплитудного детектора сделали максимально дешевый и легко настраиваемый вариант схемы с цифровым выходом — даже по текущим ценам относительно дорогого «Чипа-Дипа» набор деталей для этой конструкции обойдется вам рублей в 150-200 максимум, не считая датчика и первичного источника питания.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДа, и два слова про питание \u003Cb\u003Eвыходной индикационной части\u003C\u002Fb\u003E. Если индикатор основан на светодиодных семисегментниках, то потребляет эта часть по току заметно больше аналоговой, но и напряжение для нее не требуется столь высокое, как для нормального функционирования ОУ — для питания «цифры» необходимо и достаточно стабильного 5-вольтового питания. Потому в обоих вариантах схемы его выполнять имеет смысл отдельно от двухполярного аналогового питания и можно ограничиться любым 5-вольтовым стабилизатором на ток 100-150 мА, а для китайских одноплатных вольтметров даже и меньше этого значения. Конечно, по крайней мере в случае, когда мы используем встроенный АЦП контроллера, желательно, чтобы этот стабилизатор также был аналоговым. Однако в этом случае мы можем принять меры к программному устранению дребезга показаний, что снижает требования к источнику.\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"аналоговая схемотехника"},{"titleHtml":"измерения"},{"titleHtml":"переменный ток"},{"titleHtml":"трансформаторные датчики"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F584140\u002F16487eacf6bdf82eb7e0e7055f9f6a1b\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F584140\u002F16487eacf6bdf82eb7e0e7055f9f6a1b\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F584140\\\u002F\"},\"headline\":\"Трансформаторные датчики тока\",\"datePublished\":\"2021-10-19T09:07:09+03:00\",\"dateModified\":\"2021-10-19T11:54:48+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Ревич Юрий\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Представьте себе, что у вас встала задача измерения тока потребления в бытовой сети 220 В, 50 Гц. Причем главное ваше требование &mdash; невмешательство в существующую...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F584140\\\u002F#post-content-body\",\"about\":[\"h_circuit-design\",\"h_easyelectronics\",\"f_develop\",\"f_popsci\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fmr\\\u002Flq\\\u002F3w\\\u002Fmrlq3wffxeqhmb9y-ysfqrfmt2i.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fou\\\u002F9r\\\u002Fnj\\\u002Fou9rnj37ziyie4mzqdb1t1vpaii.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fxz\\\u002Fwo\\\u002Faw\\\u002Fxzwoawd7czgqqvfghrccxhwyqzq.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Flp\\\u002F1b\\\u002Ftj\\\u002Flp1btjvamf6k9kajnsiwzmvvmb8.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F1g\\\u002Fua\\\u002F1r\\\u002F1gua1rburauudpap9frl4i5mww0.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fgx\\\u002Fbp\\\u002Fm7\\\u002Fgxbpm7iw2iiavb9akg-wsgrd94a.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Foq\\\u002Fhb\\\u002Ft3\\\u002Foqhbt3rfyphytxu0npkrfnlhfuw.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fmt\\\u002Fkl\\\u002F6s\\\u002Fmtkl6sfuoayxwpfy8wrh0lviewq.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fxm\\\u002Fmq\\\u002Fea\\\u002Fxmmqea6l74lmmdu2bjxf3p_8kom.png\"]}","metaDescription":"Представьте себе, что у вас встала задача измерения тока потребления в бытовой сети 220 В, 50 Гц. Причем главное ваше требование — невмешательство в существующую проводку. Мое непоколебимое мнение — в...","mainImageUrl":null,"amp":true},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"circuit-design,easyelectronics"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
