<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Руководство по выживанию для создателей нейрочипов / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/581664\/"},"headline":"Руководство по выживанию для создателей нейрочипов","datePublished":"2021-10-12T10:38:19+03:00","dateModified":"2021-10-12T12:33:48+03:00","author":{"@type":"Person","name":"Павел Локтев"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"В 2018 году мы взялись за первый большой контракт по созданию инструментов разработки для нейропроцессора. В то время я знал, что рынок AI быстро растёт и на н...","url":"https:\/\/habr.com\/ru\/post\/581664\/#post-content-body","about":["h_compilers","h_controllers","h_artificial_intelligence","f_develop","f_popsci"],"image":["https:\/\/habrastorage.org\/webt\/4r\/b2\/ls\/4rb2lskhhpi1sxhp9a6dvxd2f90.png","https:\/\/habrastorage.org\/webt\/rz\/nb\/pa\/rznbpaiax2f2q0iqxjvoprci8om.png","https:\/\/habrastorage.org\/webt\/k-\/jn\/np\/k-jnnp1c7dzfshfdwzomdr3ld2w.png","https:\/\/habrastorage.org\/webt\/-b\/_i\/96\/-b_i967cfsfnau3o0dvvd1l-dii.png","https:\/\/habrastorage.org\/webt\/tc\/lx\/ik\/tclxik8rzmhs0_iim47whvuwmz0.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Руководство по выживанию для создателей нейрочипов" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Руководство по выживанию для создателей нейрочипов" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Руководство по выживанию для создателей нейрочипов" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="В 2018 году мы взялись за первый большой контракт по созданию инструментов разработки для нейропроцессора. В то время я знал, что рынок AI быстро растёт и на нём существуют сотни компаний. Но я не..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="В 2018 году мы взялись за первый большой контракт по созданию инструментов разработки для нейропроцессора. В то время я знал, что рынок AI быстро растёт и на нём существуют сотни компаний. Но я не..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="В 2018 году мы взялись за первый большой контракт по созданию инструментов разработки для нейропроцессора. В то время я знал, что рынок AI быстро растёт и на нём существуют сотни компаний. Но я не..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="В 2018 году мы взялись за первый большой контракт по созданию инструментов разработки для нейропроцессора. В то время я знал, что рынок AI быстро растёт и на нём существуют сотни компаний. Но я не..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="В 2018 году мы взялись за первый большой контракт по созданию инструментов разработки для нейропроцессора. В то время я знал, что рынок AI быстро растёт и на нём существуют сотни компаний. Но я не..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/581664/5f4803fbab7fd8566a23d40201b0a9f9/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/581664/5f4803fbab7fd8566a23d40201b0a9f9/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/581664/5f4803fbab7fd8566a23d40201b0a9f9/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/581664/5f4803fbab7fd8566a23d40201b0a9f9/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/581664/5f4803fbab7fd8566a23d40201b0a9f9/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="581664" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2021-10-12T07:38:19.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/581664/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/581664/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/581664/5f4803fbab7fd8566a23d40201b0a9f9/" data-vmid="image:href"><link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/581664/">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/EasyLy/" title="EasyLy" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/2eb/39b/24c/2eb39b24c4a68d43ad0b0015c5c56aa2.png" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/EasyLy/" class="tm-user-info__username">
      EasyLy
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2021-10-12T07:38:19.000Z" title="2021-10-12, 10:38">12  октября   в 10:38</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Руководство по выживанию для создателей нейрочипов</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/compilers/" class="tm-article-snippet__hubs-item-link"><span>Компиляторы</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/controllers/" class="tm-article-snippet__hubs-item-link"><span>Программирование микроконтроллеров</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/artificial_intelligence/" class="tm-article-snippet__hubs-item-link"><span>Искусственный интеллект</span> <!----></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/4r/b2/ls/4rb2lskhhpi1sxhp9a6dvxd2f90.png"/><br/>
<br/>
В 2018 году мы взялись за первый большой контракт по созданию инструментов разработки для нейропроцессора. В то время я знал, что рынок AI быстро растёт и на нём существуют сотни компаний. Но я не подозревал, что к 2021 году на рынке возникнет ещё пара сотен новых чипмейкеров, разрабатывающих акселераторы для AI, что мы станем AI-партнёром Arm, а наши проекты с нейрочипейкерами вырастут в отдельное направление. Не уверен, что вопрос, который поднимаю, актуален для российской аудитории: не так много в России компаний (откровенно говоря – мало), которые выпускают собственные ускорители для нейросетей. Скорее, эта статья — попытка зафиксировать знания, которые мы получили на американском рынке в результате нескольких проектов и около сотни бесед с чипмейкерами. Но если эта статья нанесёт кому-то непоправимую пользу, буду очень рад.<br/>
<a name="habracut"></a><br/>
Традиционно наши клиенты — это разработчики CPU, MCU или DSP из разных стран. В России самый известные – АО «ПКК Миландр», для которого мы делаем среду разработки и ОСРВ, и ЗАО «НТЦ Модуль». Из иностранных компаний – это Samsung Electronics, для которого мы портировали ещё в 2000 году собственный С-компилятор и поддерживали его в течение 15 лет. Потом появился LLVM, и Samsung перешёл на решения на базе Arm, но это совсем другая история.<br/>
 <br/>
Когда мы начинали проект по разработке компилятора нейронных сетей для тензорного чипа, казалось, что это разовая работа. Затем появился второй клиент. Потом мы пришли на американский рынок, где потенциальных клиентов оказались десятки. И сейчас количество производителей, разработчиков акселераторов для нейросетей быстро растёт: десяток за год появляется точно. На рынке сосуществуют вместе как «гиганты» — Arm, STMicroelectronics, Achronix, Andes, так и большие и маленькие стартапы, такие как Kneron, Areana AI, AlphaICs. И так как рынок нейрочипов только формируется, у таких производителей возникают проблемы, которые ещё никто не пытался решать.<br/>
<br/>
<h2>Новые возможности – новые проблемы</h2><br/>
Каждый разработчик/производитель собственных нейрочипов стремится расширить число клиентов. Для этого они пытаются предоставить пользователям максимально эффективные решения с минимальной стоимостью владения, в том числе подходящие удобные инструменты разработки, и обеспечить техподдержку. Ситуацию осложняет то, что на рынке существует множество ML-платформ: PyTorch, MXNet, Caffe2, ONNX, TensorFlow и другие. Каждая из них поддерживает очень ограниченный набор целевого железа.<br/>
 <br/>
Поэтому разработчик нейрочипа должен либо предоставить собственноручно написанные инструменты, либо использовать трансляторы (например, из ONNX). Оба варианта очень затратны, а кроме того, имеют технические ограничения и требуют дополнительных затрат на осуществление поддержки. Например, если выходит новая версия TensorFlow, разработчик вынужден выпускать апдейты, потребуются новые алгоритмы оптимизации. Поэтому для разработчика чипа поддерживать сразу много фреймворков невозможно, особенно если компания небольшая.<br/>
 <br/>
Беда в том, что пользователи обычно при выборе среды исполнения, отталкиваются от уже имеющихся разработанных и обученных сетей. В итоге, если производитель выбрал вариант поддержки какой-то одной платформы, он получает ограниченную аудиторию пользователей. Привлечь новую аудиторию, заставить пользователей использовать новый чип для разработки устройства чрезвычайно сложно. <br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/rz/nb/pa/rznbpaiax2f2q0iqxjvoprci8om.png"/> <br/>
<i>Рисунок 1. Ограничение аудитории</i><br/>
<br/>
<h2>Решение</h2><br/>
Чтобы преодолеть это ограничение мы искали для своих проектов максимально универсальное решение, которое поддерживает максимальное количество ML-фреймворков.<br/>
 <br/>
В первом же проекте выбрали TVM и не прогадали. <br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/k-/jn/np/k-jnnp1c7dzfshfdwzomdr3ld2w.png"/> <br/>
<i>Рисунок 2. Аудитория универсального решения</i><br/>
<br/>
Если просто, то TVM обеспечивает инференс обученных сетей разных форматов на выбранном железе, в том числе на специализированных и уникальных чипах (естественно, после его соответствующей доработки). <br/>
<br/>
Из рисунка ниже видно, что TVM имеет несколько вариантов расширения существующими инструментами и алгоритмами и может быть модифицирован в разных точках для обеспечения поддержки нового чипа. <br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/-b/_i/96/-b_i967cfsfnau3o0dvvd1l-dii.png"/> <br/>
<i>Рисунок 3. Уровни преобразований в TVM и потоки данных</i><br/>
<br/>
Возможные шаги по доработке:<br/>
<br/>
<ul>
<li>добавить новую архитектуру/устройство в TVM,</li>
<li>добавить/изменить проходы оптимизатора,</li>
<li>разделить операции уровня хоста и устройства,</li>
<li>добавить/изменить сценарии планировщика для операций,</li>
<li>реализовать механизм кодогенерации,</li>
<li>доработать среду исполнения,</li>
<li>реализовать/доработать симулятор (функциональный или потактовый).</li>
</ul><br/>
Благодаря модульной структуре и гибкости TVM позволяет внедрить разные типы бэкендов для различных архитектур. И даже комбинировать их, чтобы обеспечить самый эффективный вариант, исходя из того, что уже есть у разработчика чипа.<br/>
 <br/>
Ниже несколько вариантов подходов к разработке бэкенда:<br/>
<br/>
BYOC<br/>
<br/>
<ul>
<li>Обработка на уровне Relay-представления</li>
<li>Замена операций или набора операций (слоёв) на составные целевые функции</li>
<li>Собственная среда исполнения для внедрённых интринсик (intrinsic)</li>
</ul><br/>
 LLVM<br/>
<br/>
<ul>
<li>Использование существующих бэкендов LLVM</li>
<li>Инфраструктура LLVM используется через API</li>
<li>Компиляция в бинарный код (библиотеки), биткод LLVM, LLVM IR</li>
</ul><br/>
 Source<br/>
<br/>
<ul>
<li>Генерация исходного кода для использования со сторонним компилятором</li>
<li>Поддерживается: C, CUDA, METAL, OpenCL, Vivado HLS</li>
</ul><br/>
 VTA<br/>
<br/>
<ul>
<li>Собственный дизайн ускорителя линейной алгебры с полной интеграцией в TVM</li>
<li>Готовые реализации на Vivado HLS C++, Chisel, OpenCL</li>
<li>Функциональный симулятор и симулятор на базе Verilator</li>
<li>Потенциальная возможность использовать множественные VTA-ядра</li>
<li>Может быть использован в качестве базового для похожих архитектур</li>
</ul><br/>
 Custom<br/>
<br/>
<ul>
<li>Внедрение целевых интринсик через механизм Tensorization — на основе сопоставления паттернов на уровне планировщика</li>
<li>Интринсики могут быть выражены через внешние вызовы, фрагменты кода на целевом ассемблере или LLVM IR/bitcode</li>
</ul><br/>
<h2>Варианты внедрения</h2><br/>
Таким образом, проекты по доработке TVM могут быть разными и зависят от уже созданных чипмейкером элементов SDK.<br/>
<br/>
Если у разработчика есть NN-компилятор, то он может внедрить конвертер из Relay и использовать TVM для расширения фронтенда. <br/>
<br/>
<ul>
<li>Поддержка большого количества входных NN форматов</li>
<li>Общие оптимизации на уровне графа</li>
</ul><br/>
Обычно такие проекты занимают месяца четыре командой из двух разработчиков.<br/>
<br/>
Если у производителя есть C/C++ / OpenCL / CUDA -компилятор, он может использовать существующий бэкенд TVM для генерации исходников или интегрировать компилятор LLVM в LLVM-бэкенд TVM, настроить планировщик под особенности целевой архитектуры.<br/>
<br/>
<ul>
<li>Возможности планировщика TVM по распределению ресурсов на модули устройства</li>
<li>Переиспользование конфигураций планировщика из других бэкендов</li>
<li>Общие оптимизации на уровне подграфов</li>
</ul><br/>
По трудозатратам и срокам такой проект аналогичен предыдущему. <br/>
<br/>
В случае, если у разработчика чипа ещё нет компилятора, лучше всего дополнить TVM новым бэкендом для поддержки целевой архитектуры.<br/>
<br/>
<ul>
<li>Несколько вариантов реализации бэкенда, наличие готовых бэкендов для различных архитектур, которые можно использовать в качестве базы</li>
<li>Реализации среды исполнения для различных типов железа</li>
</ul><br/>
Обычно это достаточно сложные проекты, которые длятся полгода и требуют команду побольше, чем предыдущие варианты. <br/>
<br/>
<h2>Почему мы выбрали TVM</h2><br/>
Первая причина, как я писал выше, количество поддерживаемых ML-платформ: Keras, MXNet, PyTorch, TensorFlow, CoreML, DarkNet. Это решает первую проблему – увеличение числа потенциальных клиентов. Чем разнообразнее инструменты, которые могут использовать клиенты производителя ускорителя, тем больше клиентов может быть.<br/>
 <br/>
Вторая причина – большое комьюнити TVM. Сейчас в нем 500+ контрибьюторов, разработка спонсируется в том числе гигантами (Amazon, ARM, AMD, Microsoft, Xilinx). Благодаря этому разработчик чипа автоматически получает все новые оптимизации и компоненты TVM, включая поддержку новых версий фронтендов. При этом TVM — под лицензией Apache, это позволяет без проблем использовать его в любых коммерческих проектах, и в то же время обеспечивает независимость от крупных корпораций. Разработчик нового нейрочипа владеет всеми IP и сам решает, чем делиться с сообществом.<br/>
 <br/>
Более того, экосистема TVM постоянно расширяется. Существуют компании, такие как OctoML, Imagination Technologies, да, собственно, и наша. Это позволяет чипмейкеру предлагать пользователям большое количество разных инструментов и сервисов, чтобы максимизировать производительность их моделей, что даёт преимущества по сравнению с конкурентами.<br/>
 <br/>
Например, компания OctoML предлагает сервис для улучшения производительности нейросетей. Работает с большинством ML-фреймворков и платформ: Arm (A class CPU/GPU, ARM M class microcontrollers), Google Cloud Platform, AWS, AMD, Azure, and others. Клиенты получают возможность автоматической настройки моделей на целевом железе, за счёт чего экономят время инженеров, которое обычно тратиться на ручную оптимизацию и тестирование производительности. Быстрее выходят на рынок. Наша компания как партнёр обеспечивает поддержку новых чипов в сервисе.<br/>
<br/>
Третья причина (это скорее комплекс причин) – технические возможности TVM. Вот список наиболее важных, по нашим наблюдениям:<br/>
<br/>
<ul>
<li>TVM предоставляет инфраструктуру для автоматической генерации и оптимизации тензорных операций,</li>
<li>поддержка гетерогенных платформ (системы, объединяющие управляющий процессор и нейроакселератор),</li>
<li>наличие Auto Scheduler (Ansor) и других инструментов, призванных облегчить жизнь разработчика.</li>
</ul><br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/tc/lx/ik/tclxik8rzmhs0_iim47whvuwmz0.png"/> <br/>
<i>Рисунок 4. Структура и компоненты TVM</i><br/>
<i>Relay — статически типизированное, чисто функциональное, дифференцируемое высокоуровневое промежуточное представление. Auto TVM / Auto Scheduler — фреймворки для оптимизации тензорных программ с использованием машинного обучения.</i><br/>
<br/>
Всё это даёт возможность создавать полнофункциональные SDK для новых нейрочипов, оставаясь в сроках и бюджете. При этом клиент получает даже больше.<br/>
 <br/>
Потенциально – он сокращает расходы на разработку SDK благодаря тому, что использует быстро развивающийся opensource фреймворк и может привлекать внешние высококвалифицированные команды на аутсорс (для наших американских заказчиков это оказалось очень важным). При этом свою ключевую core-технологию сохраняют внутри. Понятно, что снижается стоимость поддержки по сравнению с собственным кастомным решением.<br/>
 <br/>
И, что самое главное, клиент получает расширение своей базы потенциальных пользователей благодаря тому, что нет необходимости привязывать решение к конкретной ML-платформе. И даже появляется новый инструмент привлечения пользователей – через сообщество TVM.<br/>
<br/>
<h2>Заключение</h2><br/>
Перечитал получившуюся статью – получилась хвалебная ода TVM. Цели такой не было, тем более что мы напрямую с TVM никак не связаны, всего лишь используем его в проектах наряду с другими инструментами, например MLIR. Но инструмент действительно отличный. Впрочем, сделал беглый поиск по статьям на Хабре. Про TVM ничего не нашёл, так что оставляю это здесь как «вводную» в тему статью. Ну а дальше — в зависимости от вашего интереса, можем опубликовать материалы, посвященные отдельным проектам и техническим проблемам.</div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BTVM%5D" class="tm-tags-list__link">TVM</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BSDK%20%D0%B4%D0%BB%D1%8F%20%D0%BD%D0%B5%D0%B9%D1%80%D0%BE%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D0%BE%D1%80%D0%BE%D0%B2%5D" class="tm-tags-list__link">SDK для нейропроцессоров</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BD%D0%B5%D0%B9%D1%80%D0%BE%D0%B0%D0%BA%D1%81%D0%B5%D0%BB%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D1%8B%5D" class="tm-tags-list__link">нейроакселераторы</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%84%D1%80%D0%B5%D0%B9%D0%BC%D0%B2%D0%BE%D1%80%D0%BA%20%D0%B4%D0%BB%D1%8F%20AI%5D" class="tm-tags-list__link">фреймворк для AI</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%84%D1%80%D0%B5%D0%B9%D0%BC%D0%B2%D0%BE%D1%80%D0%BA%20%D0%B4%D0%BB%D1%8F%20ML%5D" class="tm-tags-list__link">фреймворк для ML</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/compilers/" class="tm-hubs-list__link">
    Компиляторы
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/controllers/" class="tm-hubs-list__link">
    Программирование микроконтроллеров
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/artificial_intelligence/" class="tm-hubs-list__link">
    Искусственный интеллект
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 7: ↑5 и ↓2</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 7: ↑5 и ↓2" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+3</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">1.8K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    23
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/EasyLy/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/2eb/39b/24c/2eb39b24c4a68d43ad0b0015c5c56aa2.png" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 150 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    126
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">3</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Павел Локтев</span> <a href="/ru/users/EasyLy/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @EasyLy
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Системное ПО, инструменты для разработчиков</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/581664/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментировать 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/581664/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/581664/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"581664":{"id":"581664","timePublished":"2021-10-12T07:38:19+00:00","isCorporative":false,"lang":"ru","titleHtml":"Руководство по выживанию для создателей нейрочипов","leadData":{"textHtml":"\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F4r\u002Fb2\u002Fls\u002F4rb2lskhhpi1sxhp9a6dvxd2f90.png\"\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ 2018 году мы взялись за первый большой контракт по созданию инструментов разработки для нейропроцессора. В то время я знал, что рынок AI быстро растёт и на нём существуют сотни компаний. Но я не подозревал, что к 2021 году на рынке возникнет ещё пара сотен новых чипмейкеров, разрабатывающих акселераторы для AI, что мы станем AI-партнёром Arm, а наши проекты с нейрочипейкерами вырастут в отдельное направление. Не уверен, что вопрос, который поднимаю, актуален для российской аудитории: не так много в России компаний (откровенно говоря – мало), которые выпускают собственные ускорители для нейросетей. Скорее, эта статья — попытка зафиксировать знания, которые мы получили на американском рынке в результате нескольких проектов и около сотни бесед с чипмейкерами. Но если эта статья нанесёт кому-то непоправимую пользу, буду очень рад.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":126,"votesCount":150},"rating":3,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"1145546","alias":"EasyLy","fullname":"Павел Локтев","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F2eb\u002F39b\u002F24c\u002F2eb39b24c4a68d43ad0b0015c5c56aa2.png","speciality":"Системное ПО, инструменты для разработчиков"},"statistics":{"commentsCount":0,"favoritesCount":23,"readingCount":1837,"score":3,"votesCount":7},"hubs":[{"relatedData":null,"id":"17188","alias":"compilers","type":"collective","title":"Компиляторы","titleHtml":"Компиляторы","isProfiled":true},{"relatedData":null,"id":"19737","alias":"controllers","type":"collective","title":"Программирование микроконтроллеров","titleHtml":"Программирование микроконтроллеров","isProfiled":true},{"relatedData":null,"id":"21922","alias":"artificial_intelligence","type":"collective","title":"Искусственный интеллект","titleHtml":"Искусственный интеллект","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F4r\u002Fb2\u002Fls\u002F4rb2lskhhpi1sxhp9a6dvxd2f90.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ 2018 году мы взялись за первый большой контракт по созданию инструментов разработки для нейропроцессора. В то время я знал, что рынок AI быстро растёт и на нём существуют сотни компаний. Но я не подозревал, что к 2021 году на рынке возникнет ещё пара сотен новых чипмейкеров, разрабатывающих акселераторы для AI, что мы станем AI-партнёром Arm, а наши проекты с нейрочипейкерами вырастут в отдельное направление. Не уверен, что вопрос, который поднимаю, актуален для российской аудитории: не так много в России компаний (откровенно говоря – мало), которые выпускают собственные ускорители для нейросетей. Скорее, эта статья — попытка зафиксировать знания, которые мы получили на американском рынке в результате нескольких проектов и около сотни бесед с чипмейкерами. Но если эта статья нанесёт кому-то непоправимую пользу, буду очень рад.\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nТрадиционно наши клиенты — это разработчики CPU, MCU или DSP из разных стран. В России самый известные – АО «ПКК Миландр», для которого мы делаем среду разработки и ОСРВ, и ЗАО «НТЦ Модуль». Из иностранных компаний – это Samsung Electronics, для которого мы портировали ещё в 2000 году собственный С-компилятор и поддерживали его в течение 15 лет. Потом появился LLVM, и Samsung перешёл на решения на базе Arm, но это совсем другая история.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nКогда мы начинали проект по разработке компилятора нейронных сетей для тензорного чипа, казалось, что это разовая работа. Затем появился второй клиент. Потом мы пришли на американский рынок, где потенциальных клиентов оказались десятки. И сейчас количество производителей, разработчиков акселераторов для нейросетей быстро растёт: десяток за год появляется точно. На рынке сосуществуют вместе как «гиганты» — Arm, STMicroelectronics, Achronix, Andes, так и большие и маленькие стартапы, такие как Kneron, Areana AI, AlphaICs. И так как рынок нейрочипов только формируется, у таких производителей возникают проблемы, которые ещё никто не пытался решать.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EНовые возможности – новые проблемы\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nКаждый разработчик\u002Fпроизводитель собственных нейрочипов стремится расширить число клиентов. Для этого они пытаются предоставить пользователям максимально эффективные решения с минимальной стоимостью владения, в том числе подходящие удобные инструменты разработки, и обеспечить техподдержку. Ситуацию осложняет то, что на рынке существует множество ML-платформ: PyTorch, MXNet, Caffe2, ONNX, TensorFlow и другие. Каждая из них поддерживает очень ограниченный набор целевого железа.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nПоэтому разработчик нейрочипа должен либо предоставить собственноручно написанные инструменты, либо использовать трансляторы (например, из ONNX). Оба варианта очень затратны, а кроме того, имеют технические ограничения и требуют дополнительных затрат на осуществление поддержки. Например, если выходит новая версия TensorFlow, разработчик вынужден выпускать апдейты, потребуются новые алгоритмы оптимизации. Поэтому для разработчика чипа поддерживать сразу много фреймворков невозможно, особенно если компания небольшая.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nБеда в том, что пользователи обычно при выборе среды исполнения, отталкиваются от уже имеющихся разработанных и обученных сетей. В итоге, если производитель выбрал вариант поддержки какой-то одной платформы, он получает ограниченную аудиторию пользователей. Привлечь новую аудиторию, заставить пользователей использовать новый чип для разработки устройства чрезвычайно сложно. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Frz\u002Fnb\u002Fpa\u002Frznbpaiax2f2q0iqxjvoprci8om.png\"\u002F\u003E \u003Cbr\u002F\u003E\r\n\u003Ci\u003EРисунок 1. Ограничение аудитории\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EРешение\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nЧтобы преодолеть это ограничение мы искали для своих проектов максимально универсальное решение, которое поддерживает максимальное количество ML-фреймворков.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nВ первом же проекте выбрали TVM и не прогадали. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fk-\u002Fjn\u002Fnp\u002Fk-jnnp1c7dzfshfdwzomdr3ld2w.png\"\u002F\u003E \u003Cbr\u002F\u003E\r\n\u003Ci\u003EРисунок 2. Аудитория универсального решения\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕсли просто, то TVM обеспечивает инференс обученных сетей разных форматов на выбранном железе, в том числе на специализированных и уникальных чипах (естественно, после его соответствующей доработки). \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИз рисунка ниже видно, что TVM имеет несколько вариантов расширения существующими инструментами и алгоритмами и может быть модифицирован в разных точках для обеспечения поддержки нового чипа. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F-b\u002F_i\u002F96\u002F-b_i967cfsfnau3o0dvvd1l-dii.png\"\u002F\u003E \u003Cbr\u002F\u003E\r\n\u003Ci\u003EРисунок 3. Уровни преобразований в TVM и потоки данных\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВозможные шаги по доработке:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eдобавить новую архитектуру\u002Fустройство в TVM,\u003C\u002Fli\u003E\r\n\u003Cli\u003Eдобавить\u002Fизменить проходы оптимизатора,\u003C\u002Fli\u003E\r\n\u003Cli\u003Eразделить операции уровня хоста и устройства,\u003C\u002Fli\u003E\r\n\u003Cli\u003Eдобавить\u002Fизменить сценарии планировщика для операций,\u003C\u002Fli\u003E\r\n\u003Cli\u003Eреализовать механизм кодогенерации,\u003C\u002Fli\u003E\r\n\u003Cli\u003Eдоработать среду исполнения,\u003C\u002Fli\u003E\r\n\u003Cli\u003Eреализовать\u002Fдоработать симулятор (функциональный или потактовый).\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nБлагодаря модульной структуре и гибкости TVM позволяет внедрить разные типы бэкендов для различных архитектур. И даже комбинировать их, чтобы обеспечить самый эффективный вариант, исходя из того, что уже есть у разработчика чипа.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nНиже несколько вариантов подходов к разработке бэкенда:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nBYOC\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EОбработка на уровне Relay-представления\u003C\u002Fli\u003E\r\n\u003Cli\u003EЗамена операций или набора операций (слоёв) на составные целевые функции\u003C\u002Fli\u003E\r\n\u003Cli\u003EСобственная среда исполнения для внедрённых интринсик (intrinsic)\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n LLVM\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EИспользование существующих бэкендов LLVM\u003C\u002Fli\u003E\r\n\u003Cli\u003EИнфраструктура LLVM используется через API\u003C\u002Fli\u003E\r\n\u003Cli\u003EКомпиляция в бинарный код (библиотеки), биткод LLVM, LLVM IR\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n Source\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EГенерация исходного кода для использования со сторонним компилятором\u003C\u002Fli\u003E\r\n\u003Cli\u003EПоддерживается: C, CUDA, METAL, OpenCL, Vivado HLS\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n VTA\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EСобственный дизайн ускорителя линейной алгебры с полной интеграцией в TVM\u003C\u002Fli\u003E\r\n\u003Cli\u003EГотовые реализации на Vivado HLS C++, Chisel, OpenCL\u003C\u002Fli\u003E\r\n\u003Cli\u003EФункциональный симулятор и симулятор на базе Verilator\u003C\u002Fli\u003E\r\n\u003Cli\u003EПотенциальная возможность использовать множественные VTA-ядра\u003C\u002Fli\u003E\r\n\u003Cli\u003EМожет быть использован в качестве базового для похожих архитектур\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n Custom\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EВнедрение целевых интринсик через механизм Tensorization — на основе сопоставления паттернов на уровне планировщика\u003C\u002Fli\u003E\r\n\u003Cli\u003EИнтринсики могут быть выражены через внешние вызовы, фрагменты кода на целевом ассемблере или LLVM IR\u002Fbitcode\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EВарианты внедрения\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nТаким образом, проекты по доработке TVM могут быть разными и зависят от уже созданных чипмейкером элементов SDK.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕсли у разработчика есть NN-компилятор, то он может внедрить конвертер из Relay и использовать TVM для расширения фронтенда. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EПоддержка большого количества входных NN форматов\u003C\u002Fli\u003E\r\n\u003Cli\u003EОбщие оптимизации на уровне графа\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nОбычно такие проекты занимают месяца четыре командой из двух разработчиков.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕсли у производителя есть C\u002FC++ \u002F OpenCL \u002F CUDA -компилятор, он может использовать существующий бэкенд TVM для генерации исходников или интегрировать компилятор LLVM в LLVM-бэкенд TVM, настроить планировщик под особенности целевой архитектуры.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EВозможности планировщика TVM по распределению ресурсов на модули устройства\u003C\u002Fli\u003E\r\n\u003Cli\u003EПереиспользование конфигураций планировщика из других бэкендов\u003C\u002Fli\u003E\r\n\u003Cli\u003EОбщие оптимизации на уровне подграфов\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nПо трудозатратам и срокам такой проект аналогичен предыдущему. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ случае, если у разработчика чипа ещё нет компилятора, лучше всего дополнить TVM новым бэкендом для поддержки целевой архитектуры.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EНесколько вариантов реализации бэкенда, наличие готовых бэкендов для различных архитектур, которые можно использовать в качестве базы\u003C\u002Fli\u003E\r\n\u003Cli\u003EРеализации среды исполнения для различных типов железа\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nОбычно это достаточно сложные проекты, которые длятся полгода и требуют команду побольше, чем предыдущие варианты. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EПочему мы выбрали TVM\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nПервая причина, как я писал выше, количество поддерживаемых ML-платформ: Keras, MXNet, PyTorch, TensorFlow, CoreML, DarkNet. Это решает первую проблему – увеличение числа потенциальных клиентов. Чем разнообразнее инструменты, которые могут использовать клиенты производителя ускорителя, тем больше клиентов может быть.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nВторая причина – большое комьюнити TVM. Сейчас в нем 500+ контрибьюторов, разработка спонсируется в том числе гигантами (Amazon, ARM, AMD, Microsoft, Xilinx). Благодаря этому разработчик чипа автоматически получает все новые оптимизации и компоненты TVM, включая поддержку новых версий фронтендов. При этом TVM — под лицензией Apache, это позволяет без проблем использовать его в любых коммерческих проектах, и в то же время обеспечивает независимость от крупных корпораций. Разработчик нового нейрочипа владеет всеми IP и сам решает, чем делиться с сообществом.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nБолее того, экосистема TVM постоянно расширяется. Существуют компании, такие как OctoML, Imagination Technologies, да, собственно, и наша. Это позволяет чипмейкеру предлагать пользователям большое количество разных инструментов и сервисов, чтобы максимизировать производительность их моделей, что даёт преимущества по сравнению с конкурентами.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nНапример, компания OctoML предлагает сервис для улучшения производительности нейросетей. Работает с большинством ML-фреймворков и платформ: Arm (A class CPU\u002FGPU, ARM M class microcontrollers), Google Cloud Platform, AWS, AMD, Azure, and others. Клиенты получают возможность автоматической настройки моделей на целевом железе, за счёт чего экономят время инженеров, которое обычно тратиться на ручную оптимизацию и тестирование производительности. Быстрее выходят на рынок. Наша компания как партнёр обеспечивает поддержку новых чипов в сервисе.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТретья причина (это скорее комплекс причин) – технические возможности TVM. Вот список наиболее важных, по нашим наблюдениям:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003ETVM предоставляет инфраструктуру для автоматической генерации и оптимизации тензорных операций,\u003C\u002Fli\u003E\r\n\u003Cli\u003Eподдержка гетерогенных платформ (системы, объединяющие управляющий процессор и нейроакселератор),\u003C\u002Fli\u003E\r\n\u003Cli\u003Eналичие Auto Scheduler (Ansor) и других инструментов, призванных облегчить жизнь разработчика.\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Ftc\u002Flx\u002Fik\u002Ftclxik8rzmhs0_iim47whvuwmz0.png\"\u002F\u003E \u003Cbr\u002F\u003E\r\n\u003Ci\u003EРисунок 4. Структура и компоненты TVM\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003ERelay — статически типизированное, чисто функциональное, дифференцируемое высокоуровневое промежуточное представление. Auto TVM \u002F Auto Scheduler — фреймворки для оптимизации тензорных программ с использованием машинного обучения.\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВсё это даёт возможность создавать полнофункциональные SDK для новых нейрочипов, оставаясь в сроках и бюджете. При этом клиент получает даже больше.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nПотенциально – он сокращает расходы на разработку SDK благодаря тому, что использует быстро развивающийся opensource фреймворк и может привлекать внешние высококвалифицированные команды на аутсорс (для наших американских заказчиков это оказалось очень важным). При этом свою ключевую core-технологию сохраняют внутри. Понятно, что снижается стоимость поддержки по сравнению с собственным кастомным решением.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nИ, что самое главное, клиент получает расширение своей базы потенциальных пользователей благодаря тому, что нет необходимости привязывать решение к конкретной ML-платформе. И даже появляется новый инструмент привлечения пользователей – через сообщество TVM.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EЗаключение\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nПеречитал получившуюся статью – получилась хвалебная ода TVM. Цели такой не было, тем более что мы напрямую с TVM никак не связаны, всего лишь используем его в проектах наряду с другими инструментами, например MLIR. Но инструмент действительно отличный. Впрочем, сделал беглый поиск по статьям на Хабре. Про TVM ничего не нашёл, так что оставляю это здесь как «вводную» в тему статью. Ну а дальше — в зависимости от вашего интереса, можем опубликовать материалы, посвященные отдельным проектам и техническим проблемам.\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"TVM"},{"titleHtml":"SDK для нейропроцессоров"},{"titleHtml":"нейроакселераторы"},{"titleHtml":"фреймворк для AI"},{"titleHtml":"фреймворк для ML"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F581664\u002F5f4803fbab7fd8566a23d40201b0a9f9\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F581664\u002F5f4803fbab7fd8566a23d40201b0a9f9\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F581664\\\u002F\"},\"headline\":\"Руководство по выживанию для создателей нейрочипов\",\"datePublished\":\"2021-10-12T10:38:19+03:00\",\"dateModified\":\"2021-10-12T12:33:48+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Павел Локтев\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"В 2018 году мы взялись за первый большой контракт по созданию инструментов разработки для нейропроцессора. В то время я знал, что рынок AI быстро растёт и на н...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F581664\\\u002F#post-content-body\",\"about\":[\"h_compilers\",\"h_controllers\",\"h_artificial_intelligence\",\"f_develop\",\"f_popsci\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F4r\\\u002Fb2\\\u002Fls\\\u002F4rb2lskhhpi1sxhp9a6dvxd2f90.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Frz\\\u002Fnb\\\u002Fpa\\\u002Frznbpaiax2f2q0iqxjvoprci8om.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fk-\\\u002Fjn\\\u002Fnp\\\u002Fk-jnnp1c7dzfshfdwzomdr3ld2w.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F-b\\\u002F_i\\\u002F96\\\u002F-b_i967cfsfnau3o0dvvd1l-dii.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Ftc\\\u002Flx\\\u002Fik\\\u002Ftclxik8rzmhs0_iim47whvuwmz0.png\"]}","metaDescription":"В 2018 году мы взялись за первый большой контракт по созданию инструментов разработки для нейропроцессора. В то время я знал, что рынок AI быстро растёт и на нём существуют сотни компаний. Но я не...","mainImageUrl":null,"amp":true},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"compilers,controllers,artificial_intelligence"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
