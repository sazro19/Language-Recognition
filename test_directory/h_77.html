<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>8 проблем в архитектуре Kubernetes / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/585164\/"},"headline":"8 проблем в архитектуре Kubernetes","datePublished":"2021-10-24T12:36:32+03:00","dateModified":"2021-10-25T01:21:18+03:00","author":{"@type":"Person","name":"sundmoon"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Архитектура Kubernetes хорошо подходит для организаций типа FAANG, но может оказаться избыточной и чрезмерно сложной для прочих. Kubernetes, оркестратор контейне...","url":"https:\/\/habr.com\/ru\/post\/585164\/#post-content-body","about":["h_sys_admin","h_it-infrastructure","h_server_side_optimization","h_kubernetes","f_develop","f_admin"],"image":["https:\/\/habr.com\/share\/publication\/585164\/6efa079a4ab9de67263f0c94a0a321a7\/"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="8 проблем в архитектуре Kubernetes" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="8 проблем в архитектуре Kubernetes" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="8 проблем в архитектуре Kubernetes" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Архитектура Kubernetes хорошо подходит для организаций типа FAANG, но может оказаться избыточной и чрезмерно сложной для прочих.
Kubernetes, оркестратор контейнеров с открытым исходным кодом, стал по..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Архитектура Kubernetes хорошо подходит для организаций типа FAANG, но может оказаться избыточной и чрезмерно сложной для прочих.
Kubernetes, оркестратор контейнеров с открытым исходным кодом, стал по..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Архитектура Kubernetes хорошо подходит для организаций типа FAANG, но может оказаться избыточной и чрезмерно сложной для прочих.
Kubernetes, оркестратор контейнеров с открытым исходным кодом, стал по..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Архитектура Kubernetes хорошо подходит для организаций типа FAANG, но может оказаться избыточной и чрезмерно сложной для прочих.
Kubernetes, оркестратор контейнеров с открытым исходным кодом, стал по..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Архитектура Kubernetes хорошо подходит для организаций типа FAANG, но может оказаться избыточной и чрезмерно сложной для прочих.
Kubernetes, оркестратор контейнеров с открытым исходным кодом, стал по..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/585164/6efa079a4ab9de67263f0c94a0a321a7/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/585164/6efa079a4ab9de67263f0c94a0a321a7/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/585164/6efa079a4ab9de67263f0c94a0a321a7/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/585164/6efa079a4ab9de67263f0c94a0a321a7/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/585164/6efa079a4ab9de67263f0c94a0a321a7/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="585164" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2021-10-24T09:36:32.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/585164/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/585164/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/585164/6efa079a4ab9de67263f0c94a0a321a7/" data-vmid="image:href"><link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/585164/">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/sundmoon/" title="sundmoon" class="tm-user-info__userpic"><div class="tm-entity-image"><svg height="24" width="24" class="tm-svg-img tm-image-placeholder tm-image-placeholder_green"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <span class="tm-user-info__user"><a href="/ru/users/sundmoon/" class="tm-user-info__username">
      sundmoon
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2021-10-24T09:36:32.000Z" title="2021-10-24, 12:36">вчера в 12:36</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>8 проблем в архитектуре Kubernetes</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/sys_admin/" class="tm-article-snippet__hubs-item-link"><span>Системное администрирование</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/it-infrastructure/" class="tm-article-snippet__hubs-item-link"><span>IT-инфраструктура</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/server_side_optimization/" class="tm-article-snippet__hubs-item-link"><span>Серверная оптимизация</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/kubernetes/" class="tm-article-snippet__hubs-item-link"><span>Kubernetes</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <div class="tm-article-snippet__labels"><div class="tm-article-snippet__label"><span>
        Перевод
      </span></div></div> <!----> <!----></div></div> <div class="tm-article-presenter__origin"><a href="https://www.itprotoday.com/hybrid-cloud/8-problems-kubernetes-architecture" target="_blank" class="tm-article-presenter__origin-link">
                Автор оригинала:
                <span>
                  Кристофер Тоцци
                </span></a></div> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml"><blockquote>Архитектура Kubernetes хорошо подходит для организаций типа FAANG, но может оказаться избыточной и чрезмерно сложной для прочих.</blockquote><br/>
Kubernetes, оркестратор контейнеров с открытым исходным кодом, стал по факту безальтернативным решением для тех, кто развертывает контейнерные приложения в производственной среде. Тому есть много веских причин, и в том числе факт, что Kubernetes предлагает высокую степень надежности, автоматизации и масштабируемости. Тем не менее, мне иногда кажется, что архитектура Kubernetes перебрала хайпа: при том, что ей уже больше шести лет от роду, она всё ещё подвержена множеству недостатков. Некоторые из них присущи Kubernetes от рождения, другие результат развития образовавшейся вокруг платформы экосистемы.<br/>
<br/>
Прежде чем нырнуть в Kubernetes с головой, примите во внимание следующие проблемы с этим опенсорсным оркестратором контейнеров.<br/>
<br/>
<h3>1. Kubernetes разработан для компаний типа FAANG</h3><br/>
Прежде всего, архитектура Kubernetes изначально была и остаётся предназачена для компаний, которым требуется управлять чрезвычайно масштабными программными окружениями.<br/>
<br/>
<a name="habracut"></a>Если вы Google (чей оркестратор Borg лег в основу проекта Kubernetes с открытым исходным кодом), Kubernetes для вас отличный инструмент. Также это верно, если вы Netflix, Facebook, Amazon или другая веб-компания с десятками ЦОД и сотнями распределенных по ним приложений и сервисов.<br/>
<br/>
Но если вы небольшая организация, у которой есть одна серверная «на земле» или облачная подписка и, возможно, десяток приложений для развертывания, архитектура Kubernetes, скорее всего для вас избыточна, так же, как перебор бульдозером перекапывать садовый участок. Если вы не используете Kubernetes масштабно, эффект от его решений не стоит требуемых для его настройки усилий и эксплуатационных расходов.<br/>
<br/>
Это не значит, что Kubernetes никогда не будет полезен для небольших развертываний: я полагаю, что он к тому движется. Но всякий раз, когда я сегодня запускаю кластер Kubernetes для развертывания всего одного или двух приложений на небольшом количестве серверов, я остаюсь в убеждении, что лучше бы мне было использовать решение попроще.<br/>
<br/>
<h3>2. Рынок Kubernetes раздроблен</h3><br/>
Еще одна проблема с архитектурой Kubernetes заключается в том, что существует слишком много дистрибутивов Kubernetes — и слишком много различных инструментов, философий и связанных с ними подходов — так, что экосистема Kubernetes получилась слишком раздробленной.<br/>
<br/>
Конечно, фрагментация это удел любой экосистемы с открытым исходным кодом, до некоторой степени. Например, в Red Hat Enterprise Linux другой менеджер пакетов, другие инструменты управления и так далее, чем в Ubuntu. Однако в Red Hat и Ubuntu больше сходства, чем различий. Если вы системный администратор и сегодня работаете с Red Hat, вам не нужно тратить шесть месяцев на изучение новых инструментов, если вы вдруг захотите перейти на Ubuntu.<br/>
<br/>
Я не думаю, что то же самое верно применительно к Kubernetes. Если вы сегодня используете, скажем, OpenShift, но захотели перейти на VMware Tanzu, вам предстоит весьма крутая кривая обучения. Хотя оба этих дистрибутива Kubernetes используют одну и ту же базовую платформу, добавленные ими методологии и инструменты сильно различаются.<br/>
<br/>
Подобная фрагментация наблюдается и в облачных сервисах Kubernetes. У Google Kubernetes Engine, или GKE, совсем другой пользовательский интерфейс и набор инструментов управления, чем у такой платформы, как Amazon EKS (аналога GKE в облаке AWS).<br/>
<br/>
Конечно, тут не вина самой архитектуры Kubernetes, а результат стремления вендоров к дифференциации своих продуктов. Но это болезненная проблема с точки зрения пользователей Kubernetes.<br/>
<br/>
<h3>3. В Kubernetes слишком много частей</h3><br/>
Мы говорим о Kubernetes как о единой платформе, но на самом деле он состоит из более чем полудюжины различных компонентов. Это означает, что когда вы собираетесь установить Kubernetes или обновить его, вам придется иметь дело с каждой его частью отдельно. Но в большинстве дистрибутивов Kubernetes для этого отсутствуют худо-бедно автоматизированные решения.<br/>
<br/>
Конечно, Kubernetes — сложная платформа, и для ее работы реально требуется множество частей. Но, сравнительно с другими сложными платформами, Kubernetes выделяется низким качеством интеграции своих различных частей в легко управляемое целое. Хотя ваш типичный дистрибутив Linux также состоит из множества различных программ, вам доступна установка и управление всеми ими централизованным и оптимизированным способом. С архитектурой Kubernetes так не получится.<br/>
<br/>
<h3>4. Kubernetes не гарантирует высокую доступность автоматически</h3><br/>
Одна из наиболее часто упоминаемых причин использования Kubernetes — это представление о его магической способности управлять вашими приложениями таким образом, чтобы гарантировать что они никогда не упадут, даже если упадёт часть вашей инфраструктуры.<br/>
<br/>
Это верно, что архитектура Kubernetes автоматически принимает разумные решения о том, где разместить рабочие нагрузки в кластере. Однако Kubernetes далеко не палочка-выручалочка для обеспечения высокой доступности. Например, он будет успешно работать в производственной среде с одним мастер-узлом — а это дорога к падению всего кластера. (Ведь рабочие нагрузки недолго протянут, если упадёт управляющий кластер из мастер узлов.)<br/>
<br/>
Кроме того, Kubernetes не может автоматически гарантировать, что ресурсы кластера правильно распределяются между выполняемыми в нём различными рабочими нагрузками. Чтобы этого добиться, вам необходимо вручную настроить квоты ресурсов.<br/>
<br/>
<h3>5. Управлять Kubernetes вручную сложно.</h3><br/>
Несмотря на то, что Kubernetes требует серьёзного ручного вмешательства для обеспечения высокой доступности, он умудряется значительно затруднить вам ручной контроль, если именно таковой вам необходим.<br/>
<br/>
Безусловно, есть способы изменить тайминги, используемые Kubernetes чтобы определить, правильно ли работает контейнер, или чтобы отправить рабочую нагрузку запускаться на определенном сервере в кластере. Но архитектура Kubernetes, на самом деле, не рассчитана на то, что администраторы будут вносить эти изменения вручную. Предполагается, что вы всегда будете довольны настройками по умолчанию.<br/>
<br/>
Смысл в этом есть, учитывая, что (как отмечалось выше) Kubernetes был создан в первую очередь для крупномасштабных развертываний. Имея тысячи серверов и сотни приложений, вы не собираетесь многое настраивать вручную. Но Kubernetes вам не поможет, если у вас небольшая фирма и вы хотите больше контроля над структурой рабочих нагрузок в кластере.<br/>
<br/>
<h3>6. У Kubernetes есть проблемы с мониторингом и оптимизацией производительности</h3><br/>
Kubernetes пытается поддерживать ваши рабочие нагрузки в рабочем состоянии (хотя, как выше отмечалось, его способность делать это зависит от таких факторов, как количество установленных вами мастеров и ваша структура распределения ресурсов).<br/>
<br/>
Но архитектура Kubernetes не очень-то помогает вам отслеживать рабочие нагрузки и обеспечивать их оптимальную производительность. Он не предупреждает вас о проблемах и не упрощает сбор данных мониторинга из кластера. Большинство поставляемых с дистрибутивами Kubernetes панелей мониторинга также не предлагают всестороннего обзора вашей среды. Существуют сторонние инструменты, которые дают вам такую ​​видимость — но это еще одна сущность, которую вам предстоит настроить, изучить её и управлять ею, если вы хотите запустить Kubernetes.<br/>
<br/>
Точно так же, Kubernetes не очень-то хорош в том, чтобы помочь вам оптимизировать ваши расходы. Он не уведомляет вас, если серверы в кластере используются только на 20% мощности, что вероятно значит, что вы тратите деньги на избыточно выделенную инфраструктуру. И здесь сторонние инструменты могут помочь вам справиться с подобными проблемами, но сами они добавляют ещё больше сложности.<br/>
<br/>
<h3>7. Kubernetes всё сводит к коду</h3><br/>
В Kubernetes требуется писать код для выполнения практически любой задачи, обычно в виде файлов YAML, которые затем необходимо применить в командной строке Kubernetes.<br/>
<br/>
Многие люди видят не баг, а фичу в архитектурном принципе Kubernetes «всё есть код». Однако, хотя я, безусловно, понимаю ценность возможности управлять всей платформой с использованием единых методологии и инструментария (то есть файлов YAML), я также хотел бы, чтобы Kubernetes предлагал и другие варианты для тех людей, которые в них нуждаются.<br/>
<br/>
Бывают случаи, когда я для развертывания простой рабочей нагрузки не хочу писать длинный файл YAML — или тащить его с гитхаба, а затем вручную настраивать по частям в соответствии с моей средой. Когда мне нужно сделать что-нибудь простое в Kubernetes, мне действительно хотелось бы просто нажать кнопку или запустить простую команду (я имею в виду команду kubectl, не требующую дюжины аргументов, многие из которых настроены с помощью загадочной копипасты) — но так сделать редко удаётся.<br/>
<br/>
<h3>8. Kubernetes хочет всё полностью контролировать</h3><br/>
Моя последняя жалоба на Kubernetes заключается в том, что он совершенно не предназначен для работы с системами другого типа. Он хочет быть единственной платформой, которую вы используете для развертывания приложений и управления ими.<br/>
<br/>
Это хорошо, если все ваши рабочие нагрузки контейнеризированы и могут оркестрироваться Kubernetes. Но что, если у вас есть устаревшие приложения, которые не могут работать в контейнерах? Или что, если вы хотите запустить часть рабочей нагрузки в кластере Kubernetes, а другую часть выполнять где-то снаружи? Kubernetes не предлагает встроенных функций для подобных задач. Он разработан в предположении, что все хотят запускать всё внутри контейнеров, и это навсегда.<br/>
<br/>
<h3>Заключение</h3><br/>
Чтобы меня не обвинили в ненависти к Kubernetes, позвольте мне еще раз заявить, что это мощный инструмент для оркестрации крупномасштабных контейнеризованных приложений. Есть множество вариантов использования, для которых Kubernetes отлично подходит.<br/>
<br/>
Но у архитектуры Kubernetes есть и недостатки. В целом, это не лучшее решение, если у вас есть устаревшие рабочие нагрузки, которыми нужно управлять, и-или если масштаб ваших развертываний недостаточно велик, чтобы оправдать всю сложность, которую приносит с собой Kubernetes. Чтобы доказать свою полноценность и соответствовать репутации, которой он пользуется в определенных сферах ИТ-экосистемы, Kubernetes должен решить эти проблемы.<br/>
<br/>
 — <i>От переводчика:</i> — <h4>Напоминаю более вкусные ссылки для ценителей кондитерских изделий:</h4><br/>
<a href="https://habr.com/ru/company/jetinfosystems/blog/518694/">K8s в проде и в разработке: четыре мифа</a><br/>
<br/>
<a href="https://habr.com/ru/company/vk/blog/529152/">10 антипаттернов деплоя в Kubernetes: распространенные практики, для которых есть другие решения</a><br/>
<br/>
<a href="https://habr.com/ru/company/vk/blog/542730/">11 факапов PRO-уровня при внедрении Kubernetes и как их избежать</a></div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bkubernetes%5D" class="tm-tags-list__link">kubernetes</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bmanagement%5D" class="tm-tags-list__link">management</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bscale%5D" class="tm-tags-list__link">scale</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/sys_admin/" class="tm-hubs-list__link">
    Системное администрирование
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/it-infrastructure/" class="tm-hubs-list__link">
    IT-инфраструктура
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/server_side_optimization/" class="tm-hubs-list__link">
    Серверная оптимизация
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/kubernetes/" class="tm-hubs-list__link">
    Kubernetes
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 25: ↑21 и ↓4</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 25: ↑21 и ↓4" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+17</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">8.6K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    54
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/sundmoon/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><svg class="tm-svg-img tm-image-placeholder tm-image-placeholder_green"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <div class="tm-user-card__meta"><div title=" 13 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    7
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">6.8</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><!----> <a href="/ru/users/sundmoon/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @sundmoon
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/585164/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 68 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/585164/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/585164/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"585164":{"id":"585164","timePublished":"2021-10-24T09:36:32+00:00","isCorporative":false,"lang":"ru","titleHtml":"8 проблем в архитектуре Kubernetes","leadData":{"textHtml":"\u003Cblockquote\u003EАрхитектура Kubernetes хорошо подходит для организаций типа FAANG, но может оказаться избыточной и чрезмерно сложной для прочих.\u003C\u002Fblockquote\u003E\u003Cbr\u003E\r\nKubernetes, оркестратор контейнеров с открытым исходным кодом, стал по факту безальтернативным решением для тех, кто развертывает контейнерные приложения в производственной среде. Тому есть много веских причин, и в том числе факт, что Kubernetes предлагает высокую степень надежности, автоматизации и масштабируемости. Тем не менее, мне иногда кажется, что архитектура Kubernetes перебрала хайпа: при том, что ей уже больше шести лет от роду, она всё ещё подвержена множеству недостатков. Некоторые из них присущи Kubernetes от рождения, другие результат развития образовавшейся вокруг платформы экосистемы.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nПрежде чем нырнуть в Kubernetes с головой, примите во внимание следующие проблемы с этим опенсорсным оркестратором контейнеров.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ch3\u003E1. Kubernetes разработан для компаний типа FAANG\u003C\u002Fh3\u003E\u003Cbr\u003E\r\nПрежде всего, архитектура Kubernetes изначально была и остаётся предназачена для компаний, которым требуется управлять чрезвычайно масштабными программными окружениями.\u003Cbr\u003E\r\n\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше &rarr;","image":null},"editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Кристофер Тоцци","originalUrl":"https:\u002F\u002Fwww.itprotoday.com\u002Fhybrid-cloud\u002F8-problems-kubernetes-architecture"}}],"author":{"scoreStats":{"score":7,"votesCount":13},"rating":6.8,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"130153","alias":"sundmoon","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"statistics":{"commentsCount":68,"favoritesCount":54,"readingCount":8555,"score":17,"votesCount":25},"hubs":[{"relatedData":null,"id":"221","alias":"sys_admin","type":"collective","title":"Системное администрирование","titleHtml":"Системное администрирование","isProfiled":true},{"relatedData":null,"id":"6398","alias":"it-infrastructure","type":"collective","title":"IT-инфраструктура","titleHtml":"IT-инфраструктура","isProfiled":true},{"relatedData":null,"id":"8880","alias":"server_side_optimization","type":"collective","title":"Серверная оптимизация","titleHtml":"Серверная оптимизация","isProfiled":true},{"relatedData":null,"id":"22196","alias":"kubernetes","type":"collective","title":"Kubernetes","titleHtml":"Kubernetes","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cblockquote\u003EАрхитектура Kubernetes хорошо подходит для организаций типа FAANG, но может оказаться избыточной и чрезмерно сложной для прочих.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nKubernetes, оркестратор контейнеров с открытым исходным кодом, стал по факту безальтернативным решением для тех, кто развертывает контейнерные приложения в производственной среде. Тому есть много веских причин, и в том числе факт, что Kubernetes предлагает высокую степень надежности, автоматизации и масштабируемости. Тем не менее, мне иногда кажется, что архитектура Kubernetes перебрала хайпа: при том, что ей уже больше шести лет от роду, она всё ещё подвержена множеству недостатков. Некоторые из них присущи Kubernetes от рождения, другие результат развития образовавшейся вокруг платформы экосистемы.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПрежде чем нырнуть в Kubernetes с головой, примите во внимание следующие проблемы с этим опенсорсным оркестратором контейнеров.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E1. Kubernetes разработан для компаний типа FAANG\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nПрежде всего, архитектура Kubernetes изначально была и остаётся предназачена для компаний, которым требуется управлять чрезвычайно масштабными программными окружениями.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003EЕсли вы Google (чей оркестратор Borg лег в основу проекта Kubernetes с открытым исходным кодом), Kubernetes для вас отличный инструмент. Также это верно, если вы Netflix, Facebook, Amazon или другая веб-компания с десятками ЦОД и сотнями распределенных по ним приложений и сервисов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНо если вы небольшая организация, у которой есть одна серверная «на земле» или облачная подписка и, возможно, десяток приложений для развертывания, архитектура Kubernetes, скорее всего для вас избыточна, так же, как перебор бульдозером перекапывать садовый участок. Если вы не используете Kubernetes масштабно, эффект от его решений не стоит требуемых для его настройки усилий и эксплуатационных расходов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЭто не значит, что Kubernetes никогда не будет полезен для небольших развертываний: я полагаю, что он к тому движется. Но всякий раз, когда я сегодня запускаю кластер Kubernetes для развертывания всего одного или двух приложений на небольшом количестве серверов, я остаюсь в убеждении, что лучше бы мне было использовать решение попроще.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E2. Рынок Kubernetes раздроблен\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nЕще одна проблема с архитектурой Kubernetes заключается в том, что существует слишком много дистрибутивов Kubernetes — и слишком много различных инструментов, философий и связанных с ними подходов — так, что экосистема Kubernetes получилась слишком раздробленной.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКонечно, фрагментация это удел любой экосистемы с открытым исходным кодом, до некоторой степени. Например, в Red Hat Enterprise Linux другой менеджер пакетов, другие инструменты управления и так далее, чем в Ubuntu. Однако в Red Hat и Ubuntu больше сходства, чем различий. Если вы системный администратор и сегодня работаете с Red Hat, вам не нужно тратить шесть месяцев на изучение новых инструментов, если вы вдруг захотите перейти на Ubuntu.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ не думаю, что то же самое верно применительно к Kubernetes. Если вы сегодня используете, скажем, OpenShift, но захотели перейти на VMware Tanzu, вам предстоит весьма крутая кривая обучения. Хотя оба этих дистрибутива Kubernetes используют одну и ту же базовую платформу, добавленные ими методологии и инструменты сильно различаются.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПодобная фрагментация наблюдается и в облачных сервисах Kubernetes. У Google Kubernetes Engine, или GKE, совсем другой пользовательский интерфейс и набор инструментов управления, чем у такой платформы, как Amazon EKS (аналога GKE в облаке AWS).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКонечно, тут не вина самой архитектуры Kubernetes, а результат стремления вендоров к дифференциации своих продуктов. Но это болезненная проблема с точки зрения пользователей Kubernetes.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E3. В Kubernetes слишком много частей\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nМы говорим о Kubernetes как о единой платформе, но на самом деле он состоит из более чем полудюжины различных компонентов. Это означает, что когда вы собираетесь установить Kubernetes или обновить его, вам придется иметь дело с каждой его частью отдельно. Но в большинстве дистрибутивов Kubernetes для этого отсутствуют худо-бедно автоматизированные решения.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКонечно, Kubernetes — сложная платформа, и для ее работы реально требуется множество частей. Но, сравнительно с другими сложными платформами, Kubernetes выделяется низким качеством интеграции своих различных частей в легко управляемое целое. Хотя ваш типичный дистрибутив Linux также состоит из множества различных программ, вам доступна установка и управление всеми ими централизованным и оптимизированным способом. С архитектурой Kubernetes так не получится.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E4. Kubernetes не гарантирует высокую доступность автоматически\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nОдна из наиболее часто упоминаемых причин использования Kubernetes — это представление о его магической способности управлять вашими приложениями таким образом, чтобы гарантировать что они никогда не упадут, даже если упадёт часть вашей инфраструктуры.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЭто верно, что архитектура Kubernetes автоматически принимает разумные решения о том, где разместить рабочие нагрузки в кластере. Однако Kubernetes далеко не палочка-выручалочка для обеспечения высокой доступности. Например, он будет успешно работать в производственной среде с одним мастер-узлом — а это дорога к падению всего кластера. (Ведь рабочие нагрузки недолго протянут, если упадёт управляющий кластер из мастер узлов.)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКроме того, Kubernetes не может автоматически гарантировать, что ресурсы кластера правильно распределяются между выполняемыми в нём различными рабочими нагрузками. Чтобы этого добиться, вам необходимо вручную настроить квоты ресурсов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E5. Управлять Kubernetes вручную сложно.\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nНесмотря на то, что Kubernetes требует серьёзного ручного вмешательства для обеспечения высокой доступности, он умудряется значительно затруднить вам ручной контроль, если именно таковой вам необходим.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nБезусловно, есть способы изменить тайминги, используемые Kubernetes чтобы определить, правильно ли работает контейнер, или чтобы отправить рабочую нагрузку запускаться на определенном сервере в кластере. Но архитектура Kubernetes, на самом деле, не рассчитана на то, что администраторы будут вносить эти изменения вручную. Предполагается, что вы всегда будете довольны настройками по умолчанию.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСмысл в этом есть, учитывая, что (как отмечалось выше) Kubernetes был создан в первую очередь для крупномасштабных развертываний. Имея тысячи серверов и сотни приложений, вы не собираетесь многое настраивать вручную. Но Kubernetes вам не поможет, если у вас небольшая фирма и вы хотите больше контроля над структурой рабочих нагрузок в кластере.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E6. У Kubernetes есть проблемы с мониторингом и оптимизацией производительности\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nKubernetes пытается поддерживать ваши рабочие нагрузки в рабочем состоянии (хотя, как выше отмечалось, его способность делать это зависит от таких факторов, как количество установленных вами мастеров и ваша структура распределения ресурсов).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНо архитектура Kubernetes не очень-то помогает вам отслеживать рабочие нагрузки и обеспечивать их оптимальную производительность. Он не предупреждает вас о проблемах и не упрощает сбор данных мониторинга из кластера. Большинство поставляемых с дистрибутивами Kubernetes панелей мониторинга также не предлагают всестороннего обзора вашей среды. Существуют сторонние инструменты, которые дают вам такую ​​видимость — но это еще одна сущность, которую вам предстоит настроить, изучить её и управлять ею, если вы хотите запустить Kubernetes.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТочно так же, Kubernetes не очень-то хорош в том, чтобы помочь вам оптимизировать ваши расходы. Он не уведомляет вас, если серверы в кластере используются только на 20% мощности, что вероятно значит, что вы тратите деньги на избыточно выделенную инфраструктуру. И здесь сторонние инструменты могут помочь вам справиться с подобными проблемами, но сами они добавляют ещё больше сложности.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E7. Kubernetes всё сводит к коду\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nВ Kubernetes требуется писать код для выполнения практически любой задачи, обычно в виде файлов YAML, которые затем необходимо применить в командной строке Kubernetes.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМногие люди видят не баг, а фичу в архитектурном принципе Kubernetes «всё есть код». Однако, хотя я, безусловно, понимаю ценность возможности управлять всей платформой с использованием единых методологии и инструментария (то есть файлов YAML), я также хотел бы, чтобы Kubernetes предлагал и другие варианты для тех людей, которые в них нуждаются.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nБывают случаи, когда я для развертывания простой рабочей нагрузки не хочу писать длинный файл YAML — или тащить его с гитхаба, а затем вручную настраивать по частям в соответствии с моей средой. Когда мне нужно сделать что-нибудь простое в Kubernetes, мне действительно хотелось бы просто нажать кнопку или запустить простую команду (я имею в виду команду kubectl, не требующую дюжины аргументов, многие из которых настроены с помощью загадочной копипасты) — но так сделать редко удаётся.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E8. Kubernetes хочет всё полностью контролировать\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nМоя последняя жалоба на Kubernetes заключается в том, что он совершенно не предназначен для работы с системами другого типа. Он хочет быть единственной платформой, которую вы используете для развертывания приложений и управления ими.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЭто хорошо, если все ваши рабочие нагрузки контейнеризированы и могут оркестрироваться Kubernetes. Но что, если у вас есть устаревшие приложения, которые не могут работать в контейнерах? Или что, если вы хотите запустить часть рабочей нагрузки в кластере Kubernetes, а другую часть выполнять где-то снаружи? Kubernetes не предлагает встроенных функций для подобных задач. Он разработан в предположении, что все хотят запускать всё внутри контейнеров, и это навсегда.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EЗаключение\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nЧтобы меня не обвинили в ненависти к Kubernetes, позвольте мне еще раз заявить, что это мощный инструмент для оркестрации крупномасштабных контейнеризованных приложений. Есть множество вариантов использования, для которых Kubernetes отлично подходит.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНо у архитектуры Kubernetes есть и недостатки. В целом, это не лучшее решение, если у вас есть устаревшие рабочие нагрузки, которыми нужно управлять, и-или если масштаб ваших развертываний недостаточно велик, чтобы оправдать всю сложность, которую приносит с собой Kubernetes. Чтобы доказать свою полноценность и соответствовать репутации, которой он пользуется в определенных сферах ИТ-экосистемы, Kubernetes должен решить эти проблемы.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n — \u003Ci\u003EОт переводчика:\u003C\u002Fi\u003E — \u003Ch4\u003EНапоминаю более вкусные ссылки для ценителей кондитерских изделий:\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fjetinfosystems\u002Fblog\u002F518694\u002F\"\u003EK8s в проде и в разработке: четыре мифа\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fvk\u002Fblog\u002F529152\u002F\"\u003E10 антипаттернов деплоя в Kubernetes: распространенные практики, для которых есть другие решения\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fvk\u002Fblog\u002F542730\u002F\"\u003E11 факапов PRO-уровня при внедрении Kubernetes и как их избежать\u003C\u002Fa\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"kubernetes"},{"titleHtml":"management"},{"titleHtml":"scale"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F585164\u002F6efa079a4ab9de67263f0c94a0a321a7\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F585164\u002F6efa079a4ab9de67263f0c94a0a321a7\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F585164\\\u002F\"},\"headline\":\"8 проблем в архитектуре Kubernetes\",\"datePublished\":\"2021-10-24T12:36:32+03:00\",\"dateModified\":\"2021-10-25T01:21:18+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"sundmoon\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Архитектура Kubernetes хорошо подходит для организаций типа FAANG, но может оказаться избыточной и чрезмерно сложной для прочих. Kubernetes, оркестратор контейне...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F585164\\\u002F#post-content-body\",\"about\":[\"h_sys_admin\",\"h_it-infrastructure\",\"h_server_side_optimization\",\"h_kubernetes\",\"f_develop\",\"f_admin\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F585164\\\u002F6efa079a4ab9de67263f0c94a0a321a7\\\u002F\"]}","metaDescription":"Архитектура Kubernetes хорошо подходит для организаций типа FAANG, но может оказаться избыточной и чрезмерно сложной для прочих.\r\nKubernetes, оркестратор контейнеров с открытым исходным кодом, стал по...","mainImageUrl":null,"amp":true},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"sys_admin,it-infrastructure,server_side_optimization,kubernetes"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
