<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Игра в бисер на Python / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/585142\/"},"headline":"Игра в бисер на Python","datePublished":"2021-10-24T05:00:25+03:00","dateModified":"2021-10-25T01:13:48+03:00","author":{"@type":"Person","name":"Борис Орехов"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Давай сыграем в игру?Что вообще такое &laquo;игра в бисер&raquo;? В бытовом языке этот фразеологизм означает нечто заумное, переусложненное и бесполезное. Выражение восходит...","url":"https:\/\/habr.com\/ru\/post\/585142\/#post-content-body","about":["h_python","h_popular_science","f_develop","f_popsci"],"image":["https:\/\/habr.com\/share\/publication\/585142\/5cfce1172dd2f45cdc55bbf8753c9cae\/","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/571\/5b0\/f89\/5715b0f893eff95e5b9e633e9502bb9f.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/dfd\/0a8\/d09\/dfd0a8d092fb39006a3a9676e75f4db4.gif"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Игра в бисер на Python" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Игра в бисер на Python" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Игра в бисер на Python" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Давай сыграем в игру?Что вообще такое «игра в бисер»? В бытовом языке этот фразеологизм означает нечто заумное, переусложненное и бесполезное. Выражение восходит к роману писателя Германа Гессе, за..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Давай сыграем в игру?Что вообще такое «игра в бисер»? В бытовом языке этот фразеологизм означает нечто заумное, переусложненное и бесполезное. Выражение восходит к роману писателя Германа Гессе, за..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Давай сыграем в игру?Что вообще такое «игра в бисер»? В бытовом языке этот фразеологизм означает нечто заумное, переусложненное и бесполезное. Выражение восходит к роману писателя Германа Гессе, за..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Давай сыграем в игру?Что вообще такое «игра в бисер»? В бытовом языке этот фразеологизм означает нечто заумное, переусложненное и бесполезное. Выражение восходит к роману писателя Германа Гессе, за..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Давай сыграем в игру?Что вообще такое «игра в бисер»? В бытовом языке этот фразеологизм означает нечто заумное, переусложненное и бесполезное. Выражение восходит к роману писателя Германа Гессе, за..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habrastorage.org/getpro/habr/upload_files/8bb/d58/9aa/8bbd589aadad4b8f4b0b38e951d2270a.png" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habrastorage.org/getpro/habr/upload_files/8bb/d58/9aa/8bbd589aadad4b8f4b0b38e951d2270a.png" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habrastorage.org/getpro/habr/upload_files/8bb/d58/9aa/8bbd589aadad4b8f4b0b38e951d2270a.png" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habrastorage.org/getpro/habr/upload_files/8bb/d58/9aa/8bbd589aadad4b8f4b0b38e951d2270a.png" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habrastorage.org/getpro/habr/upload_files/8bb/d58/9aa/8bbd589aadad4b8f4b0b38e951d2270a.png" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="585142" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2021-10-24T02:00:25.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/585142/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/585142/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habrastorage.org/getpro/habr/upload_files/8bb/d58/9aa/8bbd589aadad4b8f4b0b38e951d2270a.png" data-vmid="image:href"><link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/585142/">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/nevmenandr/" title="nevmenandr" class="tm-user-info__userpic"><div class="tm-entity-image"><svg height="24" width="24" class="tm-svg-img tm-image-placeholder tm-image-placeholder_lilac"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <span class="tm-user-info__user"><a href="/ru/users/nevmenandr/" class="tm-user-info__username">
      nevmenandr
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2021-10-24T02:00:25.000Z" title="2021-10-24, 05:00">вчера в 05:00</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Игра в бисер на Python</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/python/" class="tm-article-snippet__hubs-item-link"><span>Python</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/popular_science/" class="tm-article-snippet__hubs-item-link"><span>Научно-популярное</span> <!----></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><figure class="bordered full-width "><img src="/img/image-loader.svg" alt="Давай сыграем в игру?" title="Давай сыграем в игру?" height="441" data-src="https://habrastorage.org/getpro/habr/upload_files/571/5b0/f89/5715b0f893eff95e5b9e633e9502bb9f.png" data-width="1040"/><figcaption>Давай сыграем в игру?</figcaption></figure><h2>Что вообще такое «игра в бисер»? </h2><p>В бытовом языке этот фразеологизм означает нечто заумное, переусложненное и бесполезное. Выражение восходит к <a href="https://ru.wikipedia.org/wiki/%D0%98%D0%B3%D1%80%D0%B0_%D0%B2_%D0%B1%D0%B8%D1%81%D0%B5%D1%80" rel="noopener noreferrer nofollow">роману писателя Германа Гессе</a>, за который тот на минуточку получил Нобелевскую премию. В романе изображен вымышленный мир, устроенный таким образом, что посреди обычных государств в мире основана специальная страна интеллектуалов — <em>Касталия</em>. Живущие в ней люди могут, не задумываясь о куске хлеба, посвятить себя ответам на лишенные практической пользы гуманитарные вопросы вроде трактовки какой-нибудь строки древнего стихотворения. Все остальные государства терпят существование Касталии и регулярно скидываются на ее содержание (ну чисто как ООН), а сама Касталия немного воспитывает учителей языков, литературы, музыки и математики для внешнего мира, но по большому счету никому ничего не должна. Предельным выражением оторванности от практической жизни служит как раз та самая игра в бисер — самая авторитетная внутри Касталии, но мало кому понятная за ее пределами деятельность. </p><p>Привыкшим к бодрому экшону роман будет читать трудновато: там мало что происходит. Герой Йозеф Кнехт учится в разных заведениях, ходит туда и сюда, разговаривает разговоры, и сначала добивается больших успехов, продвигаясь наверх внутренней иерархии Касталии, становится самым главным по игре в бисер (а это значит — самым главным вообще), но потом разочаровывается во всем и покидает страну, сочтя, что лучше жить рядом с простыми людьми. Мораль, в общем, простая, но сформулированная немецким писателем в разгар Второй мировой войны (1943 год на дворе), она становится социально значимым высказыванием: интеллектуалам, несмотря на соблазн отгородиться от мира и погрузиться в свои манускрипты, не следует терять контакта с происходящим вокруг. </p><p>Правда, беспомощный в обычной жизни Кнехт (спойлер!) довольно быстро погибает за пределами Касталии, но это уже совсем другая история. </p><p>Роман дожил до наших дней и еще не сдан в глубокий архив не благодаря заложенным в сюжете простым истинам и не благодаря занудным монологам персонажей Гессе. Жемчужина произведения — как раз идея той самой игры. Как она выглядит и в чем заключается, автор нигде не пишет. И в этом, по всей видимости, одна из причин ее привлекательности. Опиши Гессе все в подробностях, игра тут же лишилась своего ореола таинственности и креативного потенциала. А сейчас читатель сам должен придумать, что там к чему, и это весело.</p><h2>Как все это должно выглядеть?</h2><p>Я вижу игру в бисер как манипуляцию знаками (наличие собственно «бисера» в игре всего лишь метафора). Знаки — это такие объекты, у которых есть материальная репрезентация («означающее») и стоящие за ней смыслы («означаемое»). Означающее для буквы «А» — это то, как эта буква выглядит, а означаемое локализуется в пределах какой-нибудь конкретной семиотической системы, например, графической системы русского языка, где есть соответствующий этой букве звук.</p><p>Сам процесс игры скорее является игрой в том же значении, что и «игра на музыкальном инструменте», то есть это исполнение заранее составленного произведения, а не игра в смысле соперничества каких-то игроков. Хотя для Гессе первично то значение «игры», которое связано с деятельностью, не приносящей пользы, где процесс важнее результата.</p><p>Стало быть, у игры в бисер должен быть какой-то алфавит знаков, набор которых гораздо шире того, что входит в алфавит естественных языков. Помимо букв, туда точно должны входить музыкальные ноты, символы из математической нотации и бог знает что еще. Свои знаки, вероятно, должны быть не только для отдельных нот и звуков языка, но и для целых музыкальных пассажей и классических цитат — из античных авторов, древнеиндийской и японской поэзии и всего на свете, что доступно интеллектуалам Касталии. </p><p>Интерес игры, по всей видимости, в сочетаниях всех этих элементов и стоящей за ними традиции. Скажем, соединение какой-нибудь теоремы с мелодией сонаты ХѴІІ века должно восприниматься как остроумное, а пентатонический ряд с цитатой из Вергилия (пример условный) как нечто скучное и банальное. Некоторой аналогией могут служить правила рифмовки в русской поэзии: глагольная рифма типа «злиться — бриться» скучная, а «товарищи — товар ищи» звучит свежо, потому что каламбур. Кто сказал, что надо воспринимать именно так? Никто, просто сложилась такая традиция, и если ты с этой традицией не знаком, то разницы ты не видишь. Вот почему не понимали игру в бисер люди за пределами Касталии.</p><p>В процессе игры все эти сочетания знаков видоизменяются, преобразуются, перетасовываются, образуя новые неожиданные сочетания, а сами преобразования тоже подчиняются каким-то правилам, потому что нет ничего скучнее игры без правил.</p><h2>Как это переложить в код?</h2><p>Нужно всего лишь закодировать все культурное наследие человечества и придумать правила преобразования одного состояния разложенного на игровой доске «бисера» в другое. Есть ощущение, что это все-таки ту мач. Начнем с малого.</p><p>Что если в наш алфавит пока войдет только китайская письменность и смыслы, которыми мы будем жонглировать, заимствуем из китайской поэзии <a href="https://ru.wikipedia.org/wiki/%D0%98%D0%BC%D0%BF%D0%B5%D1%80%D0%B8%D1%8F_%D0%A2%D0%B0%D0%BD" rel="noopener noreferrer nofollow">эпохи Тан</a>? С одной стороны, такое ограничение по сравнению со всей культурой человечества заставляет нас ужаться довольно сильно. С другой стороны, китайский «алфавит» большой, а китайская <s>грамота</s> поэзия — это достаточно заумно, чтобы появился компьютерный прототип игры в бисер.</p><p>Правила возьмем из самой статусной интеллектуальной игры — из шахмат. Да, надо было бы из <em>го</em>, но тогда в нашей схеме был бы слишком сильный крен в сторону Востока, а нужно выдерживать диверсификацию стран света.</p><p>У китайцев эпохи Тан есть стихи, в которых ровно 8 строк, а иероглифов в строке обязательно 7. В современных изданиях в конце строки ставится знак препинания (，или 。), в результате получаем матрицу 8х8 знаков, что как раз соответствует игровому полю шахмат. Плюс иероглифы выглядят вполне квадратно, что усиливает ассоциации с клетками на доске. С уже существующими танскими стихотворениями и будем работать.</p><p>Правила могут быть такими. Берем какую-нибудь реальную шахматную партию и каждый ее ход превращаем в преобразования китайского текста. При ходе фигуры мы будем менять местами иероглифы, которые соответствуют начальному и целевому полю хода. Например, если ладья идет с поля a8 на поле b8, то мы меняем местами первый и второй иероглиф в первой строке. При взятии фигур мы выбрасывать иероглифы не будем, потому что тогда разрушилась бы наша матрица 8х8 и мы не смогли бы играть дальше.</p><p>По ходу игры первоначальный поэтический текст будет непредсказуемым образом видоизменяться, а иероглифы вступать в новые неожиданные отношения, что нам и требуется.</p><h2>Пилим пакет</h2><p>Берем <a href="https://antonz.ru/packaging" rel="noopener noreferrer nofollow">руководство</a> по созданию питоновских пакетов, отбираем из <a href="https://github.com/snowtraces/poetry-source" rel="noopener noreferrer nofollow">корпуса танских текстов</a> такие, которые подходят нам по формату 8х8 (8 полноценных иероглифов в 8 строках, увы, не бывает), прикручиваем <a href="https://python-chess.readthedocs.io/en/latest/pgn.html" rel="noopener noreferrer nofollow">умение читать формат PGN</a>, в котором записываются листинги шахматных партий — и вот, <a href="https://pypi.org/project/chess_bead/" rel="noopener noreferrer nofollow">пакет готов</a>. Роман Гессе называется по-английски «The Glass Bead Game», а у нас пока ограниченный по функциональности прототип, что мы и отразим в названии (тоже каламбурном): «Chess Bead Game».</p><p>Пакет умеет подгружать конкретное стихотворение (или случайное, если пользователь не знает, какое стихотворение ему нужно), знает, кто его написал и как оно называется:</p><pre><code class="python">import chess_bead as cb
g = cb.Game(poem_num=2000)</code></pre><p>Пакет умеет подгружать шахматную партию в формате PGN:</p><pre><code class="python">import chess_bead as cb
g = cb.Game(pgn_file='/path/to/file.pgn', poem_num=2000)</code></pre><p>Если у пользователя нет под рукой своего PGN-файлика, можно взять из готового набора. Но вообще-то архивы шахматных партий есть <a href="https://github.com/rozim/ChessData" rel="noopener noreferrer nofollow">циклопические многогигабайтные</a>.</p><p>Далее пакет может запустить игру и хранить все состояния «бисера», то есть положения иероглифов после каждого хода.  </p><p>Вот стихотворение великого поэта Ду Фу до игры:</p><pre><code class="python">g = cb.Game(poem_num=1765)
verses = g.start_game()
verses[0].lines
initial_state =[]
for line in verses[0].lines:
    initial_state.append(''.join(line))
initial_text = '\n'.join(initial_state)
print(initial_text)

風急天高猿嘯哀，
渚清沙白鳥飛回。
無邊落木蕭蕭下，
不盡長江袞袞來。
萬里悲秋常作客，
百年多病獨登臺。
艱難苦恨繁霜鬢，
潦倒新停濁酒杯。</code></pre><p>В <a href="http://natalia-azarova.com/pdf/DuFu.pdf" rel="noopener noreferrer nofollow">переводе</a> Наталии Азаровой:</p><blockquote><p><strong>Взбираясь наверх</strong></p><p>ветром нервным взвивается к небу</p><p>     обезьяний плач по умершим </p><p>у отмели белой брызги вращеньем</p><p>     кругами птиц над водой </p><p>так беспрестанно теряют деревья</p><p>     шуршанье шуршание листьев </p><p>так бесконечно катит янцзы</p><p>     теченье течение встречи </p><p>в тысяче вёрст от дома чужой</p><p>     печальной осенью долгой </p><p>годы прожиты болен и одинок</p><p>     карабкаюсь всё же на башню </p><p>тяжко и трудно от горести нелюбви</p><p>     на висках расцветает иней </p><p>странно гляжусь незадачливым старцем</p><p>     но больше не пью вина</p></blockquote><details class="spoiler"><summary>Другой перевод</summary><div class="spoiler__content"><blockquote><p>Стремителен ветер, и небо высо́ко. </p><p>В лесу обезьяны вопят.</p><p>Над чистой, осенней водою потока </p><p>Осенние птицы летят.</p><p>Осенние листья кружат, опадая, </p><p>Багряны они и легки,</p><p>И тянутся вдаль от родимого края </p><p>Просторы Великой реки.</p><p>(перевод А. Гитовича)</p></blockquote></div></details><p>Теперь перемешаем эти прекрасные стихи, руководствуясь <a href="http://blog.kislenko.net/archives/5152.pgn" rel="noopener noreferrer nofollow">классической партией из матча Спасский-Фишер</a> 1972 года. </p><pre><code class="python">g = cb.Game(pgn_file='5152.pgn', chess_game=3, poem_num=1765)
verses = g.start_game()</code></pre><p>В конце получилось так:</p><pre><code class="python">g.result # А чем закончилась партия?
'1/2-1/2' # ничья

final_state =[]
for line in verses[89].lines:
    final_state.append(''.join(line))
final_text = '\n'.join(final_state)
print(final_text)

倒落長潦蕭，霜盡
無來悲蕭停酒木。
不邊杯猿鳥新下，
渚哀苦江臺飛回袞
艱里繁沙袞白天。
萬年難濁急清嘯，
百高客秋常作鬢。
病多獨恨登，風。</code></pre><p>Что все это значит? Вот с этим не ко мне. Китайского я не знаю, в Касталии не учился. Могу только воспользоваться онлайн-переводчиком. Он отлично <a href="https://www.deepl.com/translator#zh/ru/%E5%80%92%E8%90%BD%E9%95%B7%E6%BD%A6%E8%95%AD%EF%BC%8C%E9%9C%9C%E7%9B%A1%0A%E7%84%A1%E4%BE%86%E6%82%B2%E8%95%AD%E5%81%9C%E9%85%92%E6%9C%A8%E3%80%82%0A%E4%B8%8D%E9%82%8A%E6%9D%AF%E7%8C%BF%E9%B3%A5%E6%96%B0%E4%B8%8B%EF%BC%8C%0A%E6%B8%9A%E5%93%80%E8%8B%A6%E6%B1%9F%E8%87%BA%E9%A3%9B%E5%9B%9E%E8%A2%9E%0A%E8%89%B1%E9%87%8C%E7%B9%81%E6%B2%99%E8%A2%9E%E7%99%BD%E5%A4%A9%E3%80%82%0A%E8%90%AC%E5%B9%B4%E9%9B%A3%E6%BF%81%E6%80%A5%E6%B8%85%E5%98%AF%EF%BC%8C%0A%E7%99%BE%E9%AB%98%E5%AE%A2%E7%A7%8B%E5%B8%B8%E4%BD%9C%E9%AC%A2%E3%80%82%0A%E7%97%85%E5%A4%9A%E7%8D%A8%E6%81%A8%E7%99%BB%EF%BC%8C%E9%A2%A8%E3%80%82" rel="noopener noreferrer nofollow">берет на себя функцию оракула</a>:</p><blockquote><p>Мороз закончился </p><p>Никто не приходит оплакивать остановку винного дерева. </p><p>Чаши обезьян и птиц — новые. </p><p>И печальная платформа реки летит обратно в железную </p><p>Железо дня на твердом песке. </p><p>Миллиона лет недостаточно, чтобы создать свистящий звук. </p><p>У ста высоких посетителей осенью часто появляются бакенбарды. </p><p>Я болен и ненавижу ветер.</p></blockquote><p>Честно говоря, я не удивлен, что никто не пришел оплакать остановку винного дерева, и про бакенбарды осенью тоже верю. Иными словами, я бы считал, что все сказанное в стихотворении — правда.</p><p>Но на буковки без визуализации смотреть скучновато. Прикрутим еще возможность создания картинок и анимации игры. Для этого нам нужен <a href="https://github.com/l10n-tw/cwtex-q-fonts-TTFs" rel="noopener noreferrer nofollow">шрифт</a>. Лицензия предполагает, что поставлять его <a href="https://github.com/l10n-tw/cwtex-q-fonts" rel="noopener noreferrer nofollow">можно</a> только в составе программного обеспечения, что как раз наш случай. Получается так:</p><pre><code class="python">v = cb.Viz(verses, g.author, g.title)
v.gif()</code></pre><p>Тут поле, на которое ходит фигура, обозначается красным, а поле, с которого она ходит, серым.</p><figure class="full-width "><img src="/img/image-loader.svg" height="800" data-src="https://habrastorage.org/getpro/habr/upload_files/dfd/0a8/d09/dfd0a8d092fb39006a3a9676e75f4db4.gif" data-width="600"/><figcaption></figcaption></figure><p>Теперь добавим <a href="https://chess-bead.readthedocs.io/en/latest/" rel="noopener noreferrer nofollow">документацию</a> и пакет готов.</p><p>Это наш вариант игры в бисер. Разумеется, это частный случай. Нужны другие варианты знаковых систем и другие игры, помимо шахмат, но общее направление теперь различимо.</p></div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bpython%5D" class="tm-tags-list__link">python</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bpackage%5D" class="tm-tags-list__link">package</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bvisualization%5D" class="tm-tags-list__link">visualization</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bchess%5D" class="tm-tags-list__link">chess</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/python/" class="tm-hubs-list__link">
    Python
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/popular_science/" class="tm-hubs-list__link">
    Научно-популярное
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 14: ↑14 и ↓0</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 14: ↑14 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+14</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">6.9K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    22
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/nevmenandr/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><svg class="tm-svg-img tm-image-placeholder tm-image-placeholder_lilac"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <div class="tm-user-card__meta"><div title=" 34 голоса " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    24
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">14</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Борис Орехов</span> <a href="/ru/users/nevmenandr/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @nevmenandr
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Компьютерный лингвист</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <div class="tm-article-author__user-contacts"><a href="http://nevmenandr.net/bo.php" rel="noopener" target="_blank" class="tm-article-author__contact">
      Сайт
    </a><a href="https://github.com/nevmenandr/" rel="noopener" target="_blank" class="tm-article-author__contact">
      Github
    </a></div></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/585142/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 32 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/585142/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/585142/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"585142":{"id":"585142","timePublished":"2021-10-24T02:00:25+00:00","isCorporative":false,"lang":"ru","titleHtml":"Игра в бисер на Python","leadData":{"textHtml":"\u003Cp\u003EВ бытовом языке этот фразеологизм означает нечто заумное, переусложненное и бесполезное. Выражение восходит к \u003Ca href=\"https:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%98%D0%B3%D1%80%D0%B0_%D0%B2_%D0%B1%D0%B8%D1%81%D0%B5%D1%80\" rel=\"noopener noreferrer nofollow\"\u003Eроману писателя Германа Гессе\u003C\u002Fa\u003E, за который тот получил Нобелевскую премию. Сегодня мы попробуем реализовать эту игру на Python.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F8bb\u002Fd58\u002F9aa\u002F8bbd589aadad4b8f4b0b38e951d2270a.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F8bb\u002Fd58\u002F9aa\u002F8bbd589aadad4b8f4b0b38e951d2270a.png","fit":"cover","positionY":0,"positionX":0}},"editorVersion":"2.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":24,"votesCount":34},"rating":14,"relatedData":null,"contacts":[{"title":"Сайт","url":"http:\u002F\u002Fnevmenandr.net\u002Fbo.php","value":"http:\u002F\u002Fnevmenandr.net\u002Fbo.php"},{"title":"Github","url":"https:\u002F\u002Fgithub.com\u002Fnevmenandr\u002F","value":"nevmenandr"}],"authorContacts":[{"title":"Сайт","url":"http:\u002F\u002Fnevmenandr.net\u002Fbo.php","value":"http:\u002F\u002Fnevmenandr.net\u002Fbo.php"},{"title":"Github","url":"https:\u002F\u002Fgithub.com\u002Fnevmenandr\u002F","value":"nevmenandr"}],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"13691","alias":"nevmenandr","fullname":"Борис Орехов","avatarUrl":null,"speciality":"Компьютерный лингвист"},"statistics":{"commentsCount":32,"favoritesCount":22,"readingCount":6868,"score":14,"votesCount":14},"hubs":[{"relatedData":null,"id":"340","alias":"python","type":"collective","title":"Python","titleHtml":"Python","isProfiled":true},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cfigure class=\"bordered full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"Давай сыграем в игру?\" title=\"Давай сыграем в игру?\" height=\"441\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F571\u002F5b0\u002Ff89\u002F5715b0f893eff95e5b9e633e9502bb9f.png\" data-width=\"1040\"\u002F\u003E\u003Cfigcaption\u003EДавай сыграем в игру?\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Ch2\u003EЧто вообще такое «игра в бисер»? \u003C\u002Fh2\u003E\u003Cp\u003EВ бытовом языке этот фразеологизм означает нечто заумное, переусложненное и бесполезное. Выражение восходит к \u003Ca href=\"https:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%98%D0%B3%D1%80%D0%B0_%D0%B2_%D0%B1%D0%B8%D1%81%D0%B5%D1%80\" rel=\"noopener noreferrer nofollow\"\u003Eроману писателя Германа Гессе\u003C\u002Fa\u003E, за который тот на минуточку получил Нобелевскую премию. В романе изображен вымышленный мир, устроенный таким образом, что посреди обычных государств в мире основана специальная страна интеллектуалов — \u003Cem\u003EКасталия\u003C\u002Fem\u003E. Живущие в ней люди могут, не задумываясь о куске хлеба, посвятить себя ответам на лишенные практической пользы гуманитарные вопросы вроде трактовки какой-нибудь строки древнего стихотворения. Все остальные государства терпят существование Касталии и регулярно скидываются на ее содержание (ну чисто как ООН), а сама Касталия немного воспитывает учителей языков, литературы, музыки и математики для внешнего мира, но по большому счету никому ничего не должна. Предельным выражением оторванности от практической жизни служит как раз та самая игра в бисер — самая авторитетная внутри Касталии, но мало кому понятная за ее пределами деятельность. \u003C\u002Fp\u003E\u003Cp\u003EПривыкшим к бодрому экшону роман будет читать трудновато: там мало что происходит. Герой Йозеф Кнехт учится в разных заведениях, ходит туда и сюда, разговаривает разговоры, и сначала добивается больших успехов, продвигаясь наверх внутренней иерархии Касталии, становится самым главным по игре в бисер (а это значит — самым главным вообще), но потом разочаровывается во всем и покидает страну, сочтя, что лучше жить рядом с простыми людьми. Мораль, в общем, простая, но сформулированная немецким писателем в разгар Второй мировой войны (1943 год на дворе), она становится социально значимым высказыванием: интеллектуалам, несмотря на соблазн отгородиться от мира и погрузиться в свои манускрипты, не следует терять контакта с происходящим вокруг. \u003C\u002Fp\u003E\u003Cp\u003EПравда, беспомощный в обычной жизни Кнехт (спойлер!) довольно быстро погибает за пределами Касталии, но это уже совсем другая история. \u003C\u002Fp\u003E\u003Cp\u003EРоман дожил до наших дней и еще не сдан в глубокий архив не благодаря заложенным в сюжете простым истинам и не благодаря занудным монологам персонажей Гессе. Жемчужина произведения — как раз идея той самой игры. Как она выглядит и в чем заключается, автор нигде не пишет. И в этом, по всей видимости, одна из причин ее привлекательности. Опиши Гессе все в подробностях, игра тут же лишилась своего ореола таинственности и креативного потенциала. А сейчас читатель сам должен придумать, что там к чему, и это весело.\u003C\u002Fp\u003E\u003Ch2\u003EКак все это должно выглядеть?\u003C\u002Fh2\u003E\u003Cp\u003EЯ вижу игру в бисер как манипуляцию знаками (наличие собственно «бисера» в игре всего лишь метафора). Знаки — это такие объекты, у которых есть материальная репрезентация («означающее») и стоящие за ней смыслы («означаемое»). Означающее для буквы «А» — это то, как эта буква выглядит, а означаемое локализуется в пределах какой-нибудь конкретной семиотической системы, например, графической системы русского языка, где есть соответствующий этой букве звук.\u003C\u002Fp\u003E\u003Cp\u003EСам процесс игры скорее является игрой в том же значении, что и «игра на музыкальном инструменте», то есть это исполнение заранее составленного произведения, а не игра в смысле соперничества каких-то игроков. Хотя для Гессе первично то значение «игры», которое связано с деятельностью, не приносящей пользы, где процесс важнее результата.\u003C\u002Fp\u003E\u003Cp\u003EСтало быть, у игры в бисер должен быть какой-то алфавит знаков, набор которых гораздо шире того, что входит в алфавит естественных языков. Помимо букв, туда точно должны входить музыкальные ноты, символы из математической нотации и бог знает что еще. Свои знаки, вероятно, должны быть не только для отдельных нот и звуков языка, но и для целых музыкальных пассажей и классических цитат — из античных авторов, древнеиндийской и японской поэзии и всего на свете, что доступно интеллектуалам Касталии. \u003C\u002Fp\u003E\u003Cp\u003EИнтерес игры, по всей видимости, в сочетаниях всех этих элементов и стоящей за ними традиции. Скажем, соединение какой-нибудь теоремы с мелодией сонаты ХѴІІ века должно восприниматься как остроумное, а пентатонический ряд с цитатой из Вергилия (пример условный) как нечто скучное и банальное. Некоторой аналогией могут служить правила рифмовки в русской поэзии: глагольная рифма типа «злиться — бриться» скучная, а «товарищи — товар ищи» звучит свежо, потому что каламбур. Кто сказал, что надо воспринимать именно так? Никто, просто сложилась такая традиция, и если ты с этой традицией не знаком, то разницы ты не видишь. Вот почему не понимали игру в бисер люди за пределами Касталии.\u003C\u002Fp\u003E\u003Cp\u003EВ процессе игры все эти сочетания знаков видоизменяются, преобразуются, перетасовываются, образуя новые неожиданные сочетания, а сами преобразования тоже подчиняются каким-то правилам, потому что нет ничего скучнее игры без правил.\u003C\u002Fp\u003E\u003Ch2\u003EКак это переложить в код?\u003C\u002Fh2\u003E\u003Cp\u003EНужно всего лишь закодировать все культурное наследие человечества и придумать правила преобразования одного состояния разложенного на игровой доске «бисера» в другое. Есть ощущение, что это все-таки ту мач. Начнем с малого.\u003C\u002Fp\u003E\u003Cp\u003EЧто если в наш алфавит пока войдет только китайская письменность и смыслы, которыми мы будем жонглировать, заимствуем из китайской поэзии \u003Ca href=\"https:\u002F\u002Fru.wikipedia.org\u002Fwiki\u002F%D0%98%D0%BC%D0%BF%D0%B5%D1%80%D0%B8%D1%8F_%D0%A2%D0%B0%D0%BD\" rel=\"noopener noreferrer nofollow\"\u003Eэпохи Тан\u003C\u002Fa\u003E? С одной стороны, такое ограничение по сравнению со всей культурой человечества заставляет нас ужаться довольно сильно. С другой стороны, китайский «алфавит» большой, а китайская \u003Cs\u003Eграмота\u003C\u002Fs\u003E поэзия — это достаточно заумно, чтобы появился компьютерный прототип игры в бисер.\u003C\u002Fp\u003E\u003Cp\u003EПравила возьмем из самой статусной интеллектуальной игры — из шахмат. Да, надо было бы из \u003Cem\u003Eго\u003C\u002Fem\u003E, но тогда в нашей схеме был бы слишком сильный крен в сторону Востока, а нужно выдерживать диверсификацию стран света.\u003C\u002Fp\u003E\u003Cp\u003EУ китайцев эпохи Тан есть стихи, в которых ровно 8 строк, а иероглифов в строке обязательно 7. В современных изданиях в конце строки ставится знак препинания (，или 。), в результате получаем матрицу 8х8 знаков, что как раз соответствует игровому полю шахмат. Плюс иероглифы выглядят вполне квадратно, что усиливает ассоциации с клетками на доске. С уже существующими танскими стихотворениями и будем работать.\u003C\u002Fp\u003E\u003Cp\u003EПравила могут быть такими. Берем какую-нибудь реальную шахматную партию и каждый ее ход превращаем в преобразования китайского текста. При ходе фигуры мы будем менять местами иероглифы, которые соответствуют начальному и целевому полю хода. Например, если ладья идет с поля a8 на поле b8, то мы меняем местами первый и второй иероглиф в первой строке. При взятии фигур мы выбрасывать иероглифы не будем, потому что тогда разрушилась бы наша матрица 8х8 и мы не смогли бы играть дальше.\u003C\u002Fp\u003E\u003Cp\u003EПо ходу игры первоначальный поэтический текст будет непредсказуемым образом видоизменяться, а иероглифы вступать в новые неожиданные отношения, что нам и требуется.\u003C\u002Fp\u003E\u003Ch2\u003EПилим пакет\u003C\u002Fh2\u003E\u003Cp\u003EБерем \u003Ca href=\"https:\u002F\u002Fantonz.ru\u002Fpackaging\" rel=\"noopener noreferrer nofollow\"\u003Eруководство\u003C\u002Fa\u003E по созданию питоновских пакетов, отбираем из \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fsnowtraces\u002Fpoetry-source\" rel=\"noopener noreferrer nofollow\"\u003Eкорпуса танских текстов\u003C\u002Fa\u003E такие, которые подходят нам по формату 8х8 (8 полноценных иероглифов в 8 строках, увы, не бывает), прикручиваем \u003Ca href=\"https:\u002F\u002Fpython-chess.readthedocs.io\u002Fen\u002Flatest\u002Fpgn.html\" rel=\"noopener noreferrer nofollow\"\u003Eумение читать формат PGN\u003C\u002Fa\u003E, в котором записываются листинги шахматных партий — и вот, \u003Ca href=\"https:\u002F\u002Fpypi.org\u002Fproject\u002Fchess_bead\u002F\" rel=\"noopener noreferrer nofollow\"\u003Eпакет готов\u003C\u002Fa\u003E. Роман Гессе называется по-английски «The Glass Bead Game», а у нас пока ограниченный по функциональности прототип, что мы и отразим в названии (тоже каламбурном): «Chess Bead Game».\u003C\u002Fp\u003E\u003Cp\u003EПакет умеет подгружать конкретное стихотворение (или случайное, если пользователь не знает, какое стихотворение ему нужно), знает, кто его написал и как оно называется:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003Eimport chess_bead as cb\ng = cb.Game(poem_num=2000)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EПакет умеет подгружать шахматную партию в формате PGN:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003Eimport chess_bead as cb\ng = cb.Game(pgn_file='\u002Fpath\u002Fto\u002Ffile.pgn', poem_num=2000)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EЕсли у пользователя нет под рукой своего PGN-файлика, можно взять из готового набора. Но вообще-то архивы шахматных партий есть \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Frozim\u002FChessData\" rel=\"noopener noreferrer nofollow\"\u003Eциклопические многогигабайтные\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Cp\u003EДалее пакет может запустить игру и хранить все состояния «бисера», то есть положения иероглифов после каждого хода.  \u003C\u002Fp\u003E\u003Cp\u003EВот стихотворение великого поэта Ду Фу до игры:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003Eg = cb.Game(poem_num=1765)\nverses = g.start_game()\nverses[0].lines\ninitial_state =[]\nfor line in verses[0].lines:\n    initial_state.append(''.join(line))\ninitial_text = '\\n'.join(initial_state)\nprint(initial_text)\n\n風急天高猿嘯哀，\n渚清沙白鳥飛回。\n無邊落木蕭蕭下，\n不盡長江袞袞來。\n萬里悲秋常作客，\n百年多病獨登臺。\n艱難苦恨繁霜鬢，\n潦倒新停濁酒杯。\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EВ \u003Ca href=\"http:\u002F\u002Fnatalia-azarova.com\u002Fpdf\u002FDuFu.pdf\" rel=\"noopener noreferrer nofollow\"\u003Eпереводе\u003C\u002Fa\u003E Наталии Азаровой:\u003C\u002Fp\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cstrong\u003EВзбираясь наверх\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003Eветром нервным взвивается к небу\u003C\u002Fp\u003E\u003Cp\u003E     обезьяний плач по умершим \u003C\u002Fp\u003E\u003Cp\u003Eу отмели белой брызги вращеньем\u003C\u002Fp\u003E\u003Cp\u003E     кругами птиц над водой \u003C\u002Fp\u003E\u003Cp\u003Eтак беспрестанно теряют деревья\u003C\u002Fp\u003E\u003Cp\u003E     шуршанье шуршание листьев \u003C\u002Fp\u003E\u003Cp\u003Eтак бесконечно катит янцзы\u003C\u002Fp\u003E\u003Cp\u003E     теченье течение встречи \u003C\u002Fp\u003E\u003Cp\u003Eв тысяче вёрст от дома чужой\u003C\u002Fp\u003E\u003Cp\u003E     печальной осенью долгой \u003C\u002Fp\u003E\u003Cp\u003Eгоды прожиты болен и одинок\u003C\u002Fp\u003E\u003Cp\u003E     карабкаюсь всё же на башню \u003C\u002Fp\u003E\u003Cp\u003Eтяжко и трудно от горести нелюбви\u003C\u002Fp\u003E\u003Cp\u003E     на висках расцветает иней \u003C\u002Fp\u003E\u003Cp\u003Eстранно гляжусь незадачливым старцем\u003C\u002Fp\u003E\u003Cp\u003E     но больше не пью вина\u003C\u002Fp\u003E\u003C\u002Fblockquote\u003E\u003Cdetails class=\"spoiler\"\u003E\u003Csummary\u003EДругой перевод\u003C\u002Fsummary\u003E\u003Cdiv class=\"spoiler__content\"\u003E\u003Cblockquote\u003E\u003Cp\u003EСтремителен ветер, и небо высо́ко. \u003C\u002Fp\u003E\u003Cp\u003EВ лесу обезьяны вопят.\u003C\u002Fp\u003E\u003Cp\u003EНад чистой, осенней водою потока \u003C\u002Fp\u003E\u003Cp\u003EОсенние птицы летят.\u003C\u002Fp\u003E\u003Cp\u003EОсенние листья кружат, опадая, \u003C\u002Fp\u003E\u003Cp\u003EБагряны они и легки,\u003C\u002Fp\u003E\u003Cp\u003EИ тянутся вдаль от родимого края \u003C\u002Fp\u003E\u003Cp\u003EПросторы Великой реки.\u003C\u002Fp\u003E\u003Cp\u003E(перевод А. Гитовича)\u003C\u002Fp\u003E\u003C\u002Fblockquote\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdetails\u003E\u003Cp\u003EТеперь перемешаем эти прекрасные стихи, руководствуясь \u003Ca href=\"http:\u002F\u002Fblog.kislenko.net\u002Farchives\u002F5152.pgn\" rel=\"noopener noreferrer nofollow\"\u003Eклассической партией из матча Спасский-Фишер\u003C\u002Fa\u003E 1972 года. \u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003Eg = cb.Game(pgn_file='5152.pgn', chess_game=3, poem_num=1765)\nverses = g.start_game()\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EВ конце получилось так:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003Eg.result # А чем закончилась партия?\n'1\u002F2-1\u002F2' # ничья\n\nfinal_state =[]\nfor line in verses[89].lines:\n    final_state.append(''.join(line))\nfinal_text = '\\n'.join(final_state)\nprint(final_text)\n\n倒落長潦蕭，霜盡\n無來悲蕭停酒木。\n不邊杯猿鳥新下，\n渚哀苦江臺飛回袞\n艱里繁沙袞白天。\n萬年難濁急清嘯，\n百高客秋常作鬢。\n病多獨恨登，風。\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EЧто все это значит? Вот с этим не ко мне. Китайского я не знаю, в Касталии не учился. Могу только воспользоваться онлайн-переводчиком. Он отлично \u003Ca href=\"https:\u002F\u002Fwww.deepl.com\u002Ftranslator#zh\u002Fru\u002F%E5%80%92%E8%90%BD%E9%95%B7%E6%BD%A6%E8%95%AD%EF%BC%8C%E9%9C%9C%E7%9B%A1%0A%E7%84%A1%E4%BE%86%E6%82%B2%E8%95%AD%E5%81%9C%E9%85%92%E6%9C%A8%E3%80%82%0A%E4%B8%8D%E9%82%8A%E6%9D%AF%E7%8C%BF%E9%B3%A5%E6%96%B0%E4%B8%8B%EF%BC%8C%0A%E6%B8%9A%E5%93%80%E8%8B%A6%E6%B1%9F%E8%87%BA%E9%A3%9B%E5%9B%9E%E8%A2%9E%0A%E8%89%B1%E9%87%8C%E7%B9%81%E6%B2%99%E8%A2%9E%E7%99%BD%E5%A4%A9%E3%80%82%0A%E8%90%AC%E5%B9%B4%E9%9B%A3%E6%BF%81%E6%80%A5%E6%B8%85%E5%98%AF%EF%BC%8C%0A%E7%99%BE%E9%AB%98%E5%AE%A2%E7%A7%8B%E5%B8%B8%E4%BD%9C%E9%AC%A2%E3%80%82%0A%E7%97%85%E5%A4%9A%E7%8D%A8%E6%81%A8%E7%99%BB%EF%BC%8C%E9%A2%A8%E3%80%82\" rel=\"noopener noreferrer nofollow\"\u003Eберет на себя функцию оракула\u003C\u002Fa\u003E:\u003C\u002Fp\u003E\u003Cblockquote\u003E\u003Cp\u003EМороз закончился \u003C\u002Fp\u003E\u003Cp\u003EНикто не приходит оплакивать остановку винного дерева. \u003C\u002Fp\u003E\u003Cp\u003EЧаши обезьян и птиц — новые. \u003C\u002Fp\u003E\u003Cp\u003EИ печальная платформа реки летит обратно в железную \u003C\u002Fp\u003E\u003Cp\u003EЖелезо дня на твердом песке. \u003C\u002Fp\u003E\u003Cp\u003EМиллиона лет недостаточно, чтобы создать свистящий звук. \u003C\u002Fp\u003E\u003Cp\u003EУ ста высоких посетителей осенью часто появляются бакенбарды. \u003C\u002Fp\u003E\u003Cp\u003EЯ болен и ненавижу ветер.\u003C\u002Fp\u003E\u003C\u002Fblockquote\u003E\u003Cp\u003EЧестно говоря, я не удивлен, что никто не пришел оплакать остановку винного дерева, и про бакенбарды осенью тоже верю. Иными словами, я бы считал, что все сказанное в стихотворении — правда.\u003C\u002Fp\u003E\u003Cp\u003EНо на буковки без визуализации смотреть скучновато. Прикрутим еще возможность создания картинок и анимации игры. Для этого нам нужен \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fl10n-tw\u002Fcwtex-q-fonts-TTFs\" rel=\"noopener noreferrer nofollow\"\u003Eшрифт\u003C\u002Fa\u003E. Лицензия предполагает, что поставлять его \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fl10n-tw\u002Fcwtex-q-fonts\" rel=\"noopener noreferrer nofollow\"\u003Eможно\u003C\u002Fa\u003E только в составе программного обеспечения, что как раз наш случай. Получается так:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003Ev = cb.Viz(verses, g.author, g.title)\nv.gif()\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EТут поле, на которое ходит фигура, обозначается красным, а поле, с которого она ходит, серым.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"800\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fdfd\u002F0a8\u002Fd09\u002Fdfd0a8d092fb39006a3a9676e75f4db4.gif\" data-width=\"600\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EТеперь добавим \u003Ca href=\"https:\u002F\u002Fchess-bead.readthedocs.io\u002Fen\u002Flatest\u002F\" rel=\"noopener noreferrer nofollow\"\u003Eдокументацию\u003C\u002Fa\u003E и пакет готов.\u003C\u002Fp\u003E\u003Cp\u003EЭто наш вариант игры в бисер. Разумеется, это частный случай. Нужны другие варианты знаковых систем и другие игры, помимо шахмат, но общее направление теперь различимо.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"python"},{"titleHtml":"package"},{"titleHtml":"visualization"},{"titleHtml":"chess"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F8bb\u002Fd58\u002F9aa\u002F8bbd589aadad4b8f4b0b38e951d2270a.png","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F8bb\u002Fd58\u002F9aa\u002F8bbd589aadad4b8f4b0b38e951d2270a.png","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F585142\\\u002F\"},\"headline\":\"Игра в бисер на Python\",\"datePublished\":\"2021-10-24T05:00:25+03:00\",\"dateModified\":\"2021-10-25T01:13:48+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Борис Орехов\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Давай сыграем в игру?Что вообще такое &laquo;игра в бисер&raquo;? В бытовом языке этот фразеологизм означает нечто заумное, переусложненное и бесполезное. Выражение восходит...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F585142\\\u002F#post-content-body\",\"about\":[\"h_python\",\"h_popular_science\",\"f_develop\",\"f_popsci\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F585142\\\u002F5cfce1172dd2f45cdc55bbf8753c9cae\\\u002F\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F571\\\u002F5b0\\\u002Ff89\\\u002F5715b0f893eff95e5b9e633e9502bb9f.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fdfd\\\u002F0a8\\\u002Fd09\\\u002Fdfd0a8d092fb39006a3a9676e75f4db4.gif\"]}","metaDescription":"Давай сыграем в игру?Что вообще такое «игра в бисер»? В бытовом языке этот фразеологизм означает нечто заумное, переусложненное и бесполезное. Выражение восходит к роману писателя Германа Гессе, за...","mainImageUrl":null,"amp":true},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"python,popular_science"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
