<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Простой шутер от третьего лица на Unreal Engine. Часть 2 / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/company\/otus\/blog\/585090\/"},"headline":"Простой шутер от третьего лица на Unreal Engine. Часть 2","datePublished":"2021-10-23T14:57:31+03:00","dateModified":"2021-10-24T01:44:23+03:00","author":{"@type":"Person","name":"Artem Tarasov"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"ДисклеймерДо прочтения этой статьи рекомендую прочитать первую часть.План на сегодняСегодня мы создадим простеньких противников, который будут ходить туда-сюда.","url":"https:\/\/habr.com\/ru\/company\/otus\/blog\/585090\/#post-content-body","about":["c_otus","h_gamedev","h_unreal_engine","f_develop"],"image":["https:\/\/habr.com\/share\/publication\/585090\/06ccf77beac48a6bb43d2c359d67cfa7\/","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/f05\/d0b\/4f5\/f05d0b4f50cf4fcf0793df6672562a31.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/064\/86f\/962\/06486f96222353bc5a07147eac5aaef0.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/eb3\/b07\/99e\/eb3b0799eb3cc177bddf056b28b269d0.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/3e5\/209\/470\/3e520947033b42d2fb7d5749980cef3c.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/07c\/cc4\/5cf\/07ccc45cf046fe1673b439641a663366.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/b0b\/fd5\/76f\/b0bfd576ff496fcbeec655ab9bc10bf3.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/0f6\/f9c\/a82\/0f6f9ca821648e0eecb501b596f0a80f.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/356\/019\/002\/356019002a25b05653810439e1358769.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/460\/dd4\/b89\/460dd4b8955d4397357a2b080018f1d5.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/e6b\/74e\/ca3\/e6b74eca3e30adeed5a311c5309df429.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/b41\/e96\/950\/b41e96950278cea6eaefbf476dfe1ea4.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/c26\/5ae\/168\/c265ae1688a6b68a45e73c09d2dc71bc.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/b61\/e8d\/83a\/b61e8d83a6096d61d45e70264d42c5a1.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/227\/738\/898\/2277388989bed98ed8d8ed298e1dfb37.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/c21\/176\/022\/c211760225fc662ddc8170fd513185d6.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/c4d\/2ed\/17e\/c4d2ed17e1b1daf9a34c0db25b3079d9.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/142\/496\/cf4\/142496cf4067358fe73e2deb280a6570.gif","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ee8\/39f\/829\/ee839f82929e73fa062d195929b3fa73.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d2d\/ad7\/d0f\/d2dad7d0f7bbe4cb5a649630fa6df3e8.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9e9\/dc4\/6df\/9e9dc46dfbedb19872408bb7be1c2b23.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/042\/1ba\/c15\/0421bac15e3709289fa6232858923b46.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/bca\/771\/98a\/bca77198a3df2c016ebce1c0540f04e9.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/0c7\/b26\/930\/0c7b26930dd3fa8c94f295536b8d2371.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/e74\/9fe\/27e\/e749fe27e0879937d46ecc663c89e98e.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d46\/67d\/839\/d4667d8391e18bdb2413d58547dd7496.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/429\/e5f\/cf6\/429e5fcf61930654ac4e444d6550acf9.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/0cb\/637\/e47\/0cb637e4702c3576cfb1d255ee6af62a.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/c31\/7c4\/c22\/c317c4c224ac5e2689831677c888f845.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/5f0\/d64\/6a6\/5f0d646a6c1da1b5946e3d3907ccc20f.gif"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Простой шутер от третьего лица на Unreal Engine. Часть 2" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Простой шутер от третьего лица на Unreal Engine. Часть 2" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Простой шутер от третьего лица на Unreal Engine. Часть 2" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="ДисклеймерДо прочтения этой статьи рекомендую прочитать первую часть.План на сегодняСегодня мы создадим простеньких противников, который будут ходить туда-сюда. Научимся наносить им урон.Создаем..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="ДисклеймерДо прочтения этой статьи рекомендую прочитать первую часть.План на сегодняСегодня мы создадим простеньких противников, который будут ходить туда-сюда. Научимся наносить им урон.Создаем..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="ДисклеймерДо прочтения этой статьи рекомендую прочитать первую часть.План на сегодняСегодня мы создадим простеньких противников, который будут ходить туда-сюда. Научимся наносить им урон.Создаем..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="ДисклеймерДо прочтения этой статьи рекомендую прочитать первую часть.План на сегодняСегодня мы создадим простеньких противников, который будут ходить туда-сюда. Научимся наносить им урон.Создаем..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="ДисклеймерДо прочтения этой статьи рекомендую прочитать первую часть.План на сегодняСегодня мы создадим простеньких противников, который будут ходить туда-сюда. Научимся наносить им урон.Создаем..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habrastorage.org/getpro/habr/upload_files/f75/ce3/570/f75ce35706d05d2ddc5f9a75770be97d.png" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habrastorage.org/getpro/habr/upload_files/f75/ce3/570/f75ce35706d05d2ddc5f9a75770be97d.png" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habrastorage.org/getpro/habr/upload_files/f75/ce3/570/f75ce35706d05d2ddc5f9a75770be97d.png" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habrastorage.org/getpro/habr/upload_files/f75/ce3/570/f75ce35706d05d2ddc5f9a75770be97d.png" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habrastorage.org/getpro/habr/upload_files/f75/ce3/570/f75ce35706d05d2ddc5f9a75770be97d.png" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="585090" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2021-10-23T11:57:31.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/585090/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/company/otus/blog/585090/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habrastorage.org/getpro/habr/upload_files/f75/ce3/570/f75ce35706d05d2ddc5f9a75770be97d.png" data-vmid="image:href"><link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/585090/">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" companyName="otus" data-async-called="true" class="tm-page"><div class="tm-page-width"><div class="tm-page__header"><!----></div> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"><div class="tm-company-card tm-company-article__company-card"><div class="tm-company-card__info"><div class="tm-company-card__header"><a href="/ru/company/otus/profile/" class="tm-company-card__avatar"><div class="tm-entity-image"><img alt="" height="48" src="//habrastorage.org/getpro/habr/company/968/422/761/968422761136a38a89fc391fd927f903.jpg" width="48" class="tm-entity-image__pic"></div></a> <!----> <div class="tm-rating tm-company-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">407.38</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div> <div class="tm-company-card__info"><a href="/ru/company/otus/profile/" class="tm-company-card__name">
        OTUS
      </a> <div class="tm-company-card__description">Цифровые навыки от ведущих экспертов</div></div></div> <div class="tm-company-card__buttons"><!----> <!----></div></div> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/artarasov/" title="artarasov" class="tm-user-info__userpic"><div class="tm-entity-image"><svg height="24" width="24" class="tm-svg-img tm-image-placeholder tm-image-placeholder_green"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <span class="tm-user-info__user"><a href="/ru/users/artarasov/" class="tm-user-info__username">
      artarasov
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2021-10-23T11:57:31.000Z" title="2021-10-23, 14:57">23  октября   в 14:57</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Простой шутер от третьего лица на Unreal Engine. Часть 2</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/company/otus/blog/" class="tm-article-snippet__hubs-item-link router-link-active"><span>Блог компании OTUS</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/gamedev/" class="tm-article-snippet__hubs-item-link"><span>Разработка игр</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/unreal_engine/" class="tm-article-snippet__hubs-item-link"><span>Unreal Engine</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><figure class="full-width "><img src="/img/image-loader.svg" height="439" data-src="https://habrastorage.org/getpro/habr/upload_files/f05/d0b/4f5/f05d0b4f50cf4fcf0793df6672562a31.png" data-width="780"/><figcaption></figcaption></figure><h2>Дисклеймер</h2><p>До прочтения этой статьи рекомендую прочитать <a href="https://habr.com/en/company/otus/blog/580890/">первую часть</a>.</p><h2>План на сегодня</h2><p>Сегодня мы создадим простеньких противников, который будут ходить туда-сюда. Научимся наносить им урон.</p><h2>Создаем противника</h2><p>Первое, что необходимо разъяснить - это то, что создавать бота мы будем с помощью наследования. Уверен, что если вы читаете эту статью, то вы базово знакомы с этой парадигмой ООП. Если же нет, то идите прочитайте пару статей по этой теме и возвращайтесь к прочтению. </p><p>Жмем ПКМ по блупринту нашего персонажа и выбираем вот этот вариант.</p><figure class=""><img src="/img/image-loader.svg" height="650" data-src="https://habrastorage.org/getpro/habr/upload_files/064/86f/962/06486f96222353bc5a07147eac5aaef0.png" data-width="422"/><figcaption></figcaption></figure><p>После этого нужно дать блупринту название. Я назвал его <em>BP_HabrTPSBot.</em></p><p>Теперь нам необходимо создать так называемый <em>AIController</em>. В Unreal Engine есть 2 типа контроллеров. <em>PlayerController</em> и <em>AIController</em>. В дальнейшем их стоит воспринимать, как мозги, которые могут вселяться в разные тела (персонажей и <em>Pawn</em> объекты). <em>PlayerController</em> работает именно, как мозг игрока. А вот <em>AIController</em> - это мозг нашего противника, который будет говорить телу (персонажу), когда и что он должен делать. А сам персонаж будет определять, как он будет это делать.</p><p>Жмем ПКМ по пустому месту. И нажимаем <em>BlueprintClass</em>. </p><figure class=""><img src="/img/image-loader.svg" height="711" data-src="https://habrastorage.org/getpro/habr/upload_files/eb3/b07/99e/eb3b0799eb3cc177bddf056b28b269d0.png" data-width="395"/><figcaption></figcaption></figure><p>В списке ищем <em>AIController</em> и нажимаем <em>Select</em>. </p><figure class="full-width "><img src="/img/image-loader.svg" height="686" data-src="https://habrastorage.org/getpro/habr/upload_files/3e5/209/470/3e520947033b42d2fb7d5749980cef3c.png" data-width="589"/><figcaption></figcaption></figure><p>Я дам ему название <em>BP_HabrTPSBot_AI</em>.</p><p>После этого нам необходимо открыть блупринт персонажа. И открыть вкладку Class Defaults.</p><figure class="full-width "><img src="/img/image-loader.svg" height="941" data-src="https://habrastorage.org/getpro/habr/upload_files/07c/cc4/5cf/07ccc45cf046fe1673b439641a663366.png" data-width="1672"/><figcaption></figcaption></figure><p>В панели Details ищем переменную <em>AIControllerClass</em>. Устанавливаем туда наш новый контроллер, который мы создали в предыдущем пункте.</p><figure class=""><img src="/img/image-loader.svg" height="196" data-src="https://habrastorage.org/getpro/habr/upload_files/b0b/fd5/76f/b0bfd576ff496fcbeec655ab9bc10bf3.png" data-width="412"/><figcaption></figcaption></figure><p>После этого просто DragNDrop перносим персонаж нашего бота в мир.</p><figure class=""><img src="/img/image-loader.svg" height="522" data-src="https://habrastorage.org/getpro/habr/upload_files/0f6/f9c/a82/0f6f9ca821648e0eecb501b596f0a80f.png" data-width="395"/><figcaption></figcaption></figure><h2>Учим бот ходить по случайным точкам</h2><p>Для этого заходим в AIController. Заходим в EventGraph.</p><figure class="full-width "><img src="/img/image-loader.svg" height="853" data-src="https://habrastorage.org/getpro/habr/upload_files/356/019/002/356019002a25b05653810439e1358769.png" data-width="1182"/><figcaption></figcaption></figure><p>Нам нужен именно BeginPlay. Напомню, это ивент, который вызывается в тот момент, когда игра стартует (или когда персонаж появляется в мире).</p><p>Кликаем ПКМ и ищем вот такую ноду.</p><figure class="full-width "><img src="/img/image-loader.svg" height="347" data-src="https://habrastorage.org/getpro/habr/upload_files/460/dd4/b89/460dd4b8955d4397357a2b080018f1d5.png" data-width="563"/><figcaption></figcaption></figure><p>В нее нам нужно указать следующие вещи. Кого мы хотим отправить на точку, точку на которую мы хотим отправить его, остальные поля оставим пока без внимания.</p><p>В качестве того, кого мы будем отправлять на точку мы выберем <em>Pawn</em> (персонажа), которым управляет <em>AIController</em>. Мы можем его легко получить вот такой нодой.</p><figure class="full-width "><img src="/img/image-loader.svg" height="299" data-src="https://habrastorage.org/getpro/habr/upload_files/e6b/74e/ca3/e6b74eca3e30adeed5a311c5309df429.png" data-width="727"/><figcaption></figcaption></figure><p>Далее нам необходимо указать куда мы двигаемся. </p><p>Для того, чтобы выстроить навигацию, основанную на алгоритмах поиска кратчайших путей в Unreal Engine есть такая сущность, как NavMesh. Его необходимо добавить на карту, чтобы движок запек навигационную карту. Это нам небходимо, чтобы бот научился ходить к определенным точкам, которые находятся на этом самом NavMesh.</p><figure class="full-width "><img src="/img/image-loader.svg" height="701" data-src="https://habrastorage.org/getpro/habr/upload_files/b41/e96/950/b41e96950278cea6eaefbf476dfe1ea4.png" data-width="1527"/><figcaption></figcaption></figure><p>Открываем менюшку <em>PlaceActors</em> и ищем там <em>NavMeshBoundsVolume</em>. Перетаскиваем его на нашу карту. Теперь если мы нажмем латинскую кнопку P на клавиатуре, то мы увидим нам NavMesh.</p><figure class=""><img src="/img/image-loader.svg" height="427" data-src="https://habrastorage.org/getpro/habr/upload_files/c26/5ae/168/c265ae1688a6b68a45e73c09d2dc71bc.png" data-width="408"/><figcaption></figcaption></figure><p>Нам необходимо заскейлить NavMesh на размеры всей карты, чтобы персонаж понимал как ходить по всей карте, а не только по ее маленькому кусочку. Для этого просто меняем масштаб, как мы это уже умеем делать. По итогу мы должны увидеть нечто вот такое.</p><figure class="full-width "><img src="/img/image-loader.svg" height="569" data-src="https://habrastorage.org/getpro/habr/upload_files/b61/e8d/83a/b61e8d83a6096d61d45e70264d42c5a1.png" data-width="1196"/><figcaption></figcaption></figure><p>Чтобы отключить NavMesh - необходимо еще раз нажать на кнопку P на клавиатуре.</p><p>Возвращаемся к блупринту <em>AIController</em>. С помощью вот такой ноды найдем рандомную точку определенном радиусе от персонажа.</p><figure class="full-width "><img src="/img/image-loader.svg" height="470" data-src="https://habrastorage.org/getpro/habr/upload_files/227/738/898/2277388989bed98ed8d8ed298e1dfb37.png" data-width="922"/><figcaption></figcaption></figure><p>Остается всего-ничего. Зациклить хождение по точкам, а также добавить логику задержки на этих точках. Для этого на OnSuccess вешаем Delay (ноду, которая ждем определенное количество времени, а после этого продолжает вызовы всего, что на нее подвязано).</p><figure class="full-width "><img src="/img/image-loader.svg" height="459" data-src="https://habrastorage.org/getpro/habr/upload_files/c21/176/022/c211760225fc662ddc8170fd513185d6.png" data-width="928"/><figcaption></figcaption></figure><p>После чего нам необходимо прокинуть исполнение с ноды Delay но входного исполнительного пина ноды AIMoveTo. Также это необходимо сделать с пином OnFail, чтобы в случае ошибки бот нашел новую точку и начал движение к ней. В блупринтах нельзя втыкать выходящие пины с ноды в входящий пин этой же ноды, поэтому я воспользуюсь небольшой хитростью и сделаю это через еще одну ноду Sequence (она последовательно выполняет команды, которые на нее подвязаны, поэтому она не принесет никах дополнительных вызовов). </p><figure class="full-width "><img src="/img/image-loader.svg" height="483" data-src="https://habrastorage.org/getpro/habr/upload_files/c4d/2ed/17e/c4d2ed17e1b1daf9a34c0db25b3079d9.png" data-width="816"/><figcaption></figcaption></figure><p>Теперь просто необходимо подключить это к ивенту BeginPlay и оно заработает.</p><figure class=""><img src="/img/image-loader.svg" height="500" data-src="https://habrastorage.org/getpro/habr/upload_files/142/496/cf4/142496cf4067358fe73e2deb280a6570.gif" data-width="381"/><figcaption></figcaption></figure><h2>Наносим урон</h2><p>В UnrealEngine уже есть встроенная система урона, поэтому все будет достаточно просто.</p><p>Заходим внутрь нашего игрового персонажа и там, где мы делали LineTraceByChannel находим OutHit пин. Нажимаем по нему ПКМ и нажимаем SplitStructPin. Результат должен получиться следующим.</p><figure class=""><img src="/img/image-loader.svg" height="513" data-src="https://habrastorage.org/getpro/habr/upload_files/ee8/39f/829/ee839f82929e73fa062d195929b3fa73.png" data-width="397"/><figcaption></figcaption></figure><p>Далее необходимо найти ноду ApplyDamage и в качестве Actor, которому мы наносим Damage указать того Actor, в которого мы попали. В поле BaseDamage вписываем количество урона, которое мы хотим нанести.</p><figure class="full-width "><img src="/img/image-loader.svg" height="617" data-src="https://habrastorage.org/getpro/habr/upload_files/d2d/ad7/d0f/d2dad7d0f7bbe4cb5a649630fa6df3e8.png" data-width="893"/><figcaption></figcaption></figure><p>Также нам необходимо включить канал Visibility у капсулы персонажа, по которой мы будем попадать. Для этого выделаем капсулу и в Details ставим следующие настройки.</p><figure class=""><img src="/img/image-loader.svg" height="510" data-src="https://habrastorage.org/getpro/habr/upload_files/9e9/dc4/6df/9e9dc46dfbedb19872408bb7be1c2b23.png" data-width="457"/><figcaption></figcaption></figure><p>Теперь нужно создать жизни. Для этого кликаем + в разделе Variables.</p><figure class=""><img src="/img/image-loader.svg" height="103" data-src="https://habrastorage.org/getpro/habr/upload_files/042/1ba/c15/0421bac15e3709289fa6232858923b46.png" data-width="287"/><figcaption></figcaption></figure><figure class="full-width "><img src="/img/image-loader.svg" height="822" data-src="https://habrastorage.org/getpro/habr/upload_files/bca/771/98a/bca77198a3df2c016ebce1c0540f04e9.png" data-width="1877"/><figcaption></figcaption></figure><p>Новую переменную называем Health и делаем ее типа Float. Компилируем Blueprint и выставляем значение по умолчанию 100.0</p><figure class=""><img src="/img/image-loader.svg" height="487" data-src="https://habrastorage.org/getpro/habr/upload_files/0c7/b26/930/0c7b26930dd3fa8c94f295536b8d2371.png" data-width="459"/><figcaption></figcaption></figure><p>Теперь нам нужно подвязать логику, которая будет отнимать у текущего запаса жизней урон и проверять умел ли наш персонаж после получения урона.</p><p>Для этого наводим на раздел Functions. Появляется выпадашка <em>Override</em> и там выбираем AnyDamage. </p><figure class=""><img src="/img/image-loader.svg" height="387" data-src="https://habrastorage.org/getpro/habr/upload_files/e74/9fe/27e/e749fe27e0879937d46ecc663c89e98e.png" data-width="425"/><figcaption></figcaption></figure><p>У нас появился ивент, который вызывается всякий раз, когда наш персонаж получает урон. Теперь нам необходимо отнять от текущего здоровья урон.</p><p>Если сделать <em>DragNDrop</em> переменной на <em>EventGraph</em>, то нам предложат 2 типа действий с переменной. Прочитать значение (get) и записать значение (set). </p><figure class=""><img src="/img/image-loader.svg" height="112" data-src="https://habrastorage.org/getpro/habr/upload_files/d46/67d/839/d4667d8391e18bdb2413d58547dd7496.png" data-width="138"/><figcaption></figcaption></figure><p>Нам нужно будет использовать оба. Делаем вычитание следующим образом.</p><figure class="full-width "><img src="/img/image-loader.svg" height="310" data-src="https://habrastorage.org/getpro/habr/upload_files/429/e5f/cf6/429e5fcf61930654ac4e444d6550acf9.png" data-width="816"/><figcaption></figcaption></figure><p>Однако эта реализация не идеальна, потому что наше здоровье может уйти в отрицательное значение. Чтобы это предотвратить, добавим следующую конструкцию.</p><figure class="full-width "><img src="/img/image-loader.svg" height="294" data-src="https://habrastorage.org/getpro/habr/upload_files/0cb/637/e47/0cb637e4702c3576cfb1d255ee6af62a.png" data-width="757"/><figcaption></figcaption></figure><p>Таким образом значение <em>Health</em> никогда не будет уходить в отрицательные значения.</p><p>Далее нам необходимо добавить проверку на смерть персонажа. Делаем это при помощи следующей конструкции, используя ноду <em>Branch</em> (аналог IF в блупринтах).</p><figure class="full-width "><img src="/img/image-loader.svg" height="323" data-src="https://habrastorage.org/getpro/habr/upload_files/c31/7c4/c22/c317c4c224ac5e2689831677c888f845.png" data-width="1110"/><figcaption></figcaption></figure><p>В случае смерти мы будем просто уничтожать <em>Actor</em>.</p><h2>Проверка функционала</h2><figure class="full-width "><img src="/img/image-loader.svg" height="500" data-src="https://habrastorage.org/getpro/habr/upload_files/5f0/d64/6a6/5f0d646a6c1da1b5946e3d3907ccc20f.gif" data-width="674"/><figcaption></figcaption></figure><h2>Что дальше</h2><p>Мы сделали самую базовую реализацию урона. Ее можно совершенствовать еще много как. Добавлять отображения попаданий, добавлять различные модификаторы урона. Более подробно мы рассматриваем это на курсе <a href="https://otus.pw/DuRj/">Технический Game Designer Unreal Engine</a>, на котором я преподаю в Otus. </p></div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bgamedev%5D" class="tm-tags-list__link">gamedev</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B8%D0%B3%D1%80%D1%8B%5D" class="tm-tags-list__link">игры</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bunreal%5D" class="tm-tags-list__link">unreal</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bunreal%20engine%5D" class="tm-tags-list__link">unreal engine</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/company/otus/blog/" class="tm-hubs-list__link router-link-active">
    Блог компании OTUS
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/gamedev/" class="tm-hubs-list__link">
    Разработка игр
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/unreal_engine/" class="tm-hubs-list__link">
    Unreal Engine
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 4: ↑4 и ↓0</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 4: ↑4 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+4</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">3.9K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    32
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"><div class="tm-article-author__company"><div class="tm-article-author__company-card"><div class="tm-company-snippet"><a href="/ru/company/otus/profile/" class="tm-company-snippet__logo-link"><div class="tm-entity-image"><img alt="" height="40" src="//habrastorage.org/getpro/habr/company/968/422/761/968422761136a38a89fc391fd927f903.jpg" width="40" class="tm-entity-image__pic"></div></a> <div class="tm-company-snippet__info"><a href="/ru/company/otus/profile/" class="tm-company-snippet__title">OTUS</a> <div class="tm-company-snippet__description">Цифровые навыки от ведущих экспертов</div></div></div> <div class="tm-article-author__buttons"><!----> <!----></div></div> <div class="tm-article-author__company-contacts"><a href="https://otus.ru" rel="noopener" target="_blank" class="tm-article-author__contact">
      Сайт
    </a><a href="https://facebook.com/otus.ru" rel="noopener" target="_blank" class="tm-article-author__contact">
      Facebook
    </a><a href="https://vk.com/club145052891" rel="noopener" target="_blank" class="tm-article-author__contact">
      ВКонтакте
    </a><a href="https://telegram.me/Otusjava" rel="noopener" target="_blank" class="tm-article-author__contact">
      Telegram
    </a></div> <div class="tm-article-author__separator"></div></div> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/artarasov/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><svg class="tm-svg-img tm-image-placeholder tm-image-placeholder_green"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <div class="tm-user-card__meta"><div title=" 10 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    10
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">32</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Artem Tarasov</span> <a href="/ru/users/artarasov/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @artarasov
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Unreal Engine C++ Developer</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/company/otus/blog/585090/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 3 
    </span></a> <!----></div></div></div>  <!---->  <!----> <!----></div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__placeholder_initial"></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <section class="tm-block tm-block_spacing-bottom"><header class="tm-block__header"><h2 class="tm-block__title">Информация</h2> <!----></header> <div class="tm-block__body"><div class="tm-company-basic-info"><dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Дата основания</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><time datetime="2017-03-31T21:00:00.000Z" title="2017-04-01, 00:00">1  апреля  2017</time></dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Местоположение</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
    Россия
  </dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Сайт</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><a href="https://otus.ru" target="_blank" class="tm-company-basic-info__link">
      otus.ru
    </a></dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Численность</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
    51–100 человек
  </dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Дата регистрации</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><time datetime="2017-03-22T08:17:26.000Z" title="2017-03-22, 11:17">22  марта  2017</time></dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Представитель</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><a href="/ru/users/MaxRokatansky/" class="tm-company-basic-info__link">
      OTUS
    </a></dd></dl></div></div> <!----></section> <div class="tm-company-widgets"></div> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/company/otus/blog/585090/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/company/otus/blog/585090/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"585090":{"id":"585090","timePublished":"2021-10-23T11:57:31+00:00","isCorporative":true,"lang":"ru","titleHtml":"Простой шутер от третьего лица на Unreal Engine. Часть 2","leadData":{"textHtml":"\u003Cp\u003EДо прочтения этой статьи рекомендую прочитать \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fen\u002Fcompany\u002Fotus\u002Fblog\u002F580890\u002F\"\u003Eпервую часть\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Cp\u003EПлан на сегодня:\u003C\u002Fp\u003E\u003Cp\u003EСегодня мы создадим простеньких противников, который будут ходить туда-сюда. Научимся наносить им урон.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff75\u002Fce3\u002F570\u002Ff75ce35706d05d2ddc5f9a75770be97d.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff75\u002Fce3\u002F570\u002Ff75ce35706d05d2ddc5f9a75770be97d.png","fit":"cover","positionY":0,"positionX":0}},"editorVersion":"2.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":10,"votesCount":10},"rating":32,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"2795725","alias":"artarasov","fullname":"Artem Tarasov","avatarUrl":null,"speciality":"Unreal Engine C++ Developer"},"statistics":{"commentsCount":3,"favoritesCount":32,"readingCount":3928,"score":4,"votesCount":4},"hubs":[{"relatedData":null,"id":"21052","alias":"otus","type":"corporative","title":"Блог компании OTUS","titleHtml":"Блог компании OTUS","isProfiled":false},{"relatedData":null,"id":"7773","alias":"gamedev","type":"collective","title":"Разработка игр","titleHtml":"Разработка игр","isProfiled":true},{"relatedData":null,"id":"19367","alias":"unreal_engine","type":"collective","title":"Unreal Engine","titleHtml":"Unreal Engine","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"439\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff05\u002Fd0b\u002F4f5\u002Ff05d0b4f50cf4fcf0793df6672562a31.png\" data-width=\"780\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Ch2\u003EДисклеймер\u003C\u002Fh2\u003E\u003Cp\u003EДо прочтения этой статьи рекомендую прочитать \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fen\u002Fcompany\u002Fotus\u002Fblog\u002F580890\u002F\"\u003Eпервую часть\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Ch2\u003EПлан на сегодня\u003C\u002Fh2\u003E\u003Cp\u003EСегодня мы создадим простеньких противников, который будут ходить туда-сюда. Научимся наносить им урон.\u003C\u002Fp\u003E\u003Ch2\u003EСоздаем противника\u003C\u002Fh2\u003E\u003Cp\u003EПервое, что необходимо разъяснить - это то, что создавать бота мы будем с помощью наследования. Уверен, что если вы читаете эту статью, то вы базово знакомы с этой парадигмой ООП. Если же нет, то идите прочитайте пару статей по этой теме и возвращайтесь к прочтению. \u003C\u002Fp\u003E\u003Cp\u003EЖмем ПКМ по блупринту нашего персонажа и выбираем вот этот вариант.\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"650\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F064\u002F86f\u002F962\u002F06486f96222353bc5a07147eac5aaef0.png\" data-width=\"422\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EПосле этого нужно дать блупринту название. Я назвал его \u003Cem\u003EBP_HabrTPSBot.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003Cp\u003EТеперь нам необходимо создать так называемый \u003Cem\u003EAIController\u003C\u002Fem\u003E. В Unreal Engine есть 2 типа контроллеров. \u003Cem\u003EPlayerController\u003C\u002Fem\u003E и \u003Cem\u003EAIController\u003C\u002Fem\u003E. В дальнейшем их стоит воспринимать, как мозги, которые могут вселяться в разные тела (персонажей и \u003Cem\u003EPawn\u003C\u002Fem\u003E объекты). \u003Cem\u003EPlayerController\u003C\u002Fem\u003E работает именно, как мозг игрока. А вот \u003Cem\u003EAIController\u003C\u002Fem\u003E - это мозг нашего противника, который будет говорить телу (персонажу), когда и что он должен делать. А сам персонаж будет определять, как он будет это делать.\u003C\u002Fp\u003E\u003Cp\u003EЖмем ПКМ по пустому месту. И нажимаем \u003Cem\u003EBlueprintClass\u003C\u002Fem\u003E. \u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"711\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Feb3\u002Fb07\u002F99e\u002Feb3b0799eb3cc177bddf056b28b269d0.png\" data-width=\"395\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EВ списке ищем \u003Cem\u003EAIController\u003C\u002Fem\u003E и нажимаем \u003Cem\u003ESelect\u003C\u002Fem\u003E. \u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"686\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F3e5\u002F209\u002F470\u002F3e520947033b42d2fb7d5749980cef3c.png\" data-width=\"589\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EЯ дам ему название \u003Cem\u003EBP_HabrTPSBot_AI\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\u003Cp\u003EПосле этого нам необходимо открыть блупринт персонажа. И открыть вкладку Class Defaults.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"941\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F07c\u002Fcc4\u002F5cf\u002F07ccc45cf046fe1673b439641a663366.png\" data-width=\"1672\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EВ панели Details ищем переменную \u003Cem\u003EAIControllerClass\u003C\u002Fem\u003E. Устанавливаем туда наш новый контроллер, который мы создали в предыдущем пункте.\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"196\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb0b\u002Ffd5\u002F76f\u002Fb0bfd576ff496fcbeec655ab9bc10bf3.png\" data-width=\"412\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EПосле этого просто DragNDrop перносим персонаж нашего бота в мир.\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"522\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F0f6\u002Ff9c\u002Fa82\u002F0f6f9ca821648e0eecb501b596f0a80f.png\" data-width=\"395\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Ch2\u003EУчим бот ходить по случайным точкам\u003C\u002Fh2\u003E\u003Cp\u003EДля этого заходим в AIController. Заходим в EventGraph.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"853\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F356\u002F019\u002F002\u002F356019002a25b05653810439e1358769.png\" data-width=\"1182\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EНам нужен именно BeginPlay. Напомню, это ивент, который вызывается в тот момент, когда игра стартует (или когда персонаж появляется в мире).\u003C\u002Fp\u003E\u003Cp\u003EКликаем ПКМ и ищем вот такую ноду.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"347\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F460\u002Fdd4\u002Fb89\u002F460dd4b8955d4397357a2b080018f1d5.png\" data-width=\"563\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EВ нее нам нужно указать следующие вещи. Кого мы хотим отправить на точку, точку на которую мы хотим отправить его, остальные поля оставим пока без внимания.\u003C\u002Fp\u003E\u003Cp\u003EВ качестве того, кого мы будем отправлять на точку мы выберем \u003Cem\u003EPawn\u003C\u002Fem\u003E (персонажа), которым управляет \u003Cem\u003EAIController\u003C\u002Fem\u003E. Мы можем его легко получить вот такой нодой.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"299\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe6b\u002F74e\u002Fca3\u002Fe6b74eca3e30adeed5a311c5309df429.png\" data-width=\"727\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EДалее нам необходимо указать куда мы двигаемся. \u003C\u002Fp\u003E\u003Cp\u003EДля того, чтобы выстроить навигацию, основанную на алгоритмах поиска кратчайших путей в Unreal Engine есть такая сущность, как NavMesh. Его необходимо добавить на карту, чтобы движок запек навигационную карту. Это нам небходимо, чтобы бот научился ходить к определенным точкам, которые находятся на этом самом NavMesh.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"701\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb41\u002Fe96\u002F950\u002Fb41e96950278cea6eaefbf476dfe1ea4.png\" data-width=\"1527\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EОткрываем менюшку \u003Cem\u003EPlaceActors\u003C\u002Fem\u003E и ищем там \u003Cem\u003ENavMeshBoundsVolume\u003C\u002Fem\u003E. Перетаскиваем его на нашу карту. Теперь если мы нажмем латинскую кнопку P на клавиатуре, то мы увидим нам NavMesh.\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"427\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc26\u002F5ae\u002F168\u002Fc265ae1688a6b68a45e73c09d2dc71bc.png\" data-width=\"408\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EНам необходимо заскейлить NavMesh на размеры всей карты, чтобы персонаж понимал как ходить по всей карте, а не только по ее маленькому кусочку. Для этого просто меняем масштаб, как мы это уже умеем делать. По итогу мы должны увидеть нечто вот такое.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"569\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb61\u002Fe8d\u002F83a\u002Fb61e8d83a6096d61d45e70264d42c5a1.png\" data-width=\"1196\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EЧтобы отключить NavMesh - необходимо еще раз нажать на кнопку P на клавиатуре.\u003C\u002Fp\u003E\u003Cp\u003EВозвращаемся к блупринту \u003Cem\u003EAIController\u003C\u002Fem\u003E. С помощью вот такой ноды найдем рандомную точку определенном радиусе от персонажа.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"470\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F227\u002F738\u002F898\u002F2277388989bed98ed8d8ed298e1dfb37.png\" data-width=\"922\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EОстается всего-ничего. Зациклить хождение по точкам, а также добавить логику задержки на этих точках. Для этого на OnSuccess вешаем Delay (ноду, которая ждем определенное количество времени, а после этого продолжает вызовы всего, что на нее подвязано).\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"459\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc21\u002F176\u002F022\u002Fc211760225fc662ddc8170fd513185d6.png\" data-width=\"928\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EПосле чего нам необходимо прокинуть исполнение с ноды Delay но входного исполнительного пина ноды AIMoveTo. Также это необходимо сделать с пином OnFail, чтобы в случае ошибки бот нашел новую точку и начал движение к ней. В блупринтах нельзя втыкать выходящие пины с ноды в входящий пин этой же ноды, поэтому я воспользуюсь небольшой хитростью и сделаю это через еще одну ноду Sequence (она последовательно выполняет команды, которые на нее подвязаны, поэтому она не принесет никах дополнительных вызовов). \u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"483\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc4d\u002F2ed\u002F17e\u002Fc4d2ed17e1b1daf9a34c0db25b3079d9.png\" data-width=\"816\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EТеперь просто необходимо подключить это к ивенту BeginPlay и оно заработает.\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"500\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F142\u002F496\u002Fcf4\u002F142496cf4067358fe73e2deb280a6570.gif\" data-width=\"381\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Ch2\u003EНаносим урон\u003C\u002Fh2\u003E\u003Cp\u003EВ UnrealEngine уже есть встроенная система урона, поэтому все будет достаточно просто.\u003C\u002Fp\u003E\u003Cp\u003EЗаходим внутрь нашего игрового персонажа и там, где мы делали LineTraceByChannel находим OutHit пин. Нажимаем по нему ПКМ и нажимаем SplitStructPin. Результат должен получиться следующим.\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"513\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fee8\u002F39f\u002F829\u002Fee839f82929e73fa062d195929b3fa73.png\" data-width=\"397\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EДалее необходимо найти ноду ApplyDamage и в качестве Actor, которому мы наносим Damage указать того Actor, в которого мы попали. В поле BaseDamage вписываем количество урона, которое мы хотим нанести.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"617\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd2d\u002Fad7\u002Fd0f\u002Fd2dad7d0f7bbe4cb5a649630fa6df3e8.png\" data-width=\"893\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EТакже нам необходимо включить канал Visibility у капсулы персонажа, по которой мы будем попадать. Для этого выделаем капсулу и в Details ставим следующие настройки.\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"510\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F9e9\u002Fdc4\u002F6df\u002F9e9dc46dfbedb19872408bb7be1c2b23.png\" data-width=\"457\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EТеперь нужно создать жизни. Для этого кликаем + в разделе Variables.\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"103\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F042\u002F1ba\u002Fc15\u002F0421bac15e3709289fa6232858923b46.png\" data-width=\"287\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"822\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fbca\u002F771\u002F98a\u002Fbca77198a3df2c016ebce1c0540f04e9.png\" data-width=\"1877\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EНовую переменную называем Health и делаем ее типа Float. Компилируем Blueprint и выставляем значение по умолчанию 100.0\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"487\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F0c7\u002Fb26\u002F930\u002F0c7b26930dd3fa8c94f295536b8d2371.png\" data-width=\"459\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EТеперь нам нужно подвязать логику, которая будет отнимать у текущего запаса жизней урон и проверять умел ли наш персонаж после получения урона.\u003C\u002Fp\u003E\u003Cp\u003EДля этого наводим на раздел Functions. Появляется выпадашка \u003Cem\u003EOverride\u003C\u002Fem\u003E и там выбираем AnyDamage. \u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"387\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe74\u002F9fe\u002F27e\u002Fe749fe27e0879937d46ecc663c89e98e.png\" data-width=\"425\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EУ нас появился ивент, который вызывается всякий раз, когда наш персонаж получает урон. Теперь нам необходимо отнять от текущего здоровья урон.\u003C\u002Fp\u003E\u003Cp\u003EЕсли сделать \u003Cem\u003EDragNDrop\u003C\u002Fem\u003E переменной на \u003Cem\u003EEventGraph\u003C\u002Fem\u003E, то нам предложат 2 типа действий с переменной. Прочитать значение (get) и записать значение (set). \u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"112\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd46\u002F67d\u002F839\u002Fd4667d8391e18bdb2413d58547dd7496.png\" data-width=\"138\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EНам нужно будет использовать оба. Делаем вычитание следующим образом.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"310\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F429\u002Fe5f\u002Fcf6\u002F429e5fcf61930654ac4e444d6550acf9.png\" data-width=\"816\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EОднако эта реализация не идеальна, потому что наше здоровье может уйти в отрицательное значение. Чтобы это предотвратить, добавим следующую конструкцию.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"294\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F0cb\u002F637\u002Fe47\u002F0cb637e4702c3576cfb1d255ee6af62a.png\" data-width=\"757\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EТаким образом значение \u003Cem\u003EHealth\u003C\u002Fem\u003E никогда не будет уходить в отрицательные значения.\u003C\u002Fp\u003E\u003Cp\u003EДалее нам необходимо добавить проверку на смерть персонажа. Делаем это при помощи следующей конструкции, используя ноду \u003Cem\u003EBranch\u003C\u002Fem\u003E (аналог IF в блупринтах).\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"323\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc31\u002F7c4\u002Fc22\u002Fc317c4c224ac5e2689831677c888f845.png\" data-width=\"1110\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EВ случае смерти мы будем просто уничтожать \u003Cem\u003EActor\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\u003Ch2\u003EПроверка функционала\u003C\u002Fh2\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"500\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5f0\u002Fd64\u002F6a6\u002F5f0d646a6c1da1b5946e3d3907ccc20f.gif\" data-width=\"674\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Ch2\u003EЧто дальше\u003C\u002Fh2\u003E\u003Cp\u003EМы сделали самую базовую реализацию урона. Ее можно совершенствовать еще много как. Добавлять отображения попаданий, добавлять различные модификаторы урона. Более подробно мы рассматриваем это на курсе \u003Ca href=\"https:\u002F\u002Fotus.pw\u002FDuRj\u002F\"\u003EТехнический Game Designer Unreal Engine\u003C\u002Fa\u003E, на котором я преподаю в Otus. \u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"gamedev"},{"titleHtml":"игры"},{"titleHtml":"unreal"},{"titleHtml":"unreal engine"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff75\u002Fce3\u002F570\u002Ff75ce35706d05d2ddc5f9a75770be97d.png","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff75\u002Fce3\u002F570\u002Ff75ce35706d05d2ddc5f9a75770be97d.png","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompany\\\u002Fotus\\\u002Fblog\\\u002F585090\\\u002F\"},\"headline\":\"Простой шутер от третьего лица на Unreal Engine. Часть 2\",\"datePublished\":\"2021-10-23T14:57:31+03:00\",\"dateModified\":\"2021-10-24T01:44:23+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Artem Tarasov\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"ДисклеймерДо прочтения этой статьи рекомендую прочитать первую часть.План на сегодняСегодня мы создадим простеньких противников, который будут ходить туда-сюда.\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompany\\\u002Fotus\\\u002Fblog\\\u002F585090\\\u002F#post-content-body\",\"about\":[\"c_otus\",\"h_gamedev\",\"h_unreal_engine\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F585090\\\u002F06ccf77beac48a6bb43d2c359d67cfa7\\\u002F\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Ff05\\\u002Fd0b\\\u002F4f5\\\u002Ff05d0b4f50cf4fcf0793df6672562a31.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F064\\\u002F86f\\\u002F962\\\u002F06486f96222353bc5a07147eac5aaef0.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Feb3\\\u002Fb07\\\u002F99e\\\u002Feb3b0799eb3cc177bddf056b28b269d0.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F3e5\\\u002F209\\\u002F470\\\u002F3e520947033b42d2fb7d5749980cef3c.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F07c\\\u002Fcc4\\\u002F5cf\\\u002F07ccc45cf046fe1673b439641a663366.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fb0b\\\u002Ffd5\\\u002F76f\\\u002Fb0bfd576ff496fcbeec655ab9bc10bf3.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F0f6\\\u002Ff9c\\\u002Fa82\\\u002F0f6f9ca821648e0eecb501b596f0a80f.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F356\\\u002F019\\\u002F002\\\u002F356019002a25b05653810439e1358769.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F460\\\u002Fdd4\\\u002Fb89\\\u002F460dd4b8955d4397357a2b080018f1d5.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fe6b\\\u002F74e\\\u002Fca3\\\u002Fe6b74eca3e30adeed5a311c5309df429.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fb41\\\u002Fe96\\\u002F950\\\u002Fb41e96950278cea6eaefbf476dfe1ea4.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fc26\\\u002F5ae\\\u002F168\\\u002Fc265ae1688a6b68a45e73c09d2dc71bc.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fb61\\\u002Fe8d\\\u002F83a\\\u002Fb61e8d83a6096d61d45e70264d42c5a1.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F227\\\u002F738\\\u002F898\\\u002F2277388989bed98ed8d8ed298e1dfb37.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fc21\\\u002F176\\\u002F022\\\u002Fc211760225fc662ddc8170fd513185d6.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fc4d\\\u002F2ed\\\u002F17e\\\u002Fc4d2ed17e1b1daf9a34c0db25b3079d9.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F142\\\u002F496\\\u002Fcf4\\\u002F142496cf4067358fe73e2deb280a6570.gif\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fee8\\\u002F39f\\\u002F829\\\u002Fee839f82929e73fa062d195929b3fa73.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fd2d\\\u002Fad7\\\u002Fd0f\\\u002Fd2dad7d0f7bbe4cb5a649630fa6df3e8.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F9e9\\\u002Fdc4\\\u002F6df\\\u002F9e9dc46dfbedb19872408bb7be1c2b23.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F042\\\u002F1ba\\\u002Fc15\\\u002F0421bac15e3709289fa6232858923b46.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fbca\\\u002F771\\\u002F98a\\\u002Fbca77198a3df2c016ebce1c0540f04e9.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F0c7\\\u002Fb26\\\u002F930\\\u002F0c7b26930dd3fa8c94f295536b8d2371.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fe74\\\u002F9fe\\\u002F27e\\\u002Fe749fe27e0879937d46ecc663c89e98e.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fd46\\\u002F67d\\\u002F839\\\u002Fd4667d8391e18bdb2413d58547dd7496.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F429\\\u002Fe5f\\\u002Fcf6\\\u002F429e5fcf61930654ac4e444d6550acf9.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F0cb\\\u002F637\\\u002Fe47\\\u002F0cb637e4702c3576cfb1d255ee6af62a.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fc31\\\u002F7c4\\\u002Fc22\\\u002Fc317c4c224ac5e2689831677c888f845.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F5f0\\\u002Fd64\\\u002F6a6\\\u002F5f0d646a6c1da1b5946e3d3907ccc20f.gif\"]}","metaDescription":"ДисклеймерДо прочтения этой статьи рекомендую прочитать первую часть.План на сегодняСегодня мы создадим простеньких противников, который будут ходить туда-сюда. Научимся наносить им урон.Создаем...","mainImageUrl":null,"amp":true},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":""},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{"otus":{"alias":"otus","imageUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fcompany\u002F968\u002F422\u002F761\u002F968422761136a38a89fc391fd927f903.jpg","titleHtml":"OTUS","descriptionHtml":"Цифровые навыки от ведущих экспертов","relatedData":null,"statistics":{"postsCount":1483,"newsCount":2,"vacanciesCount":0,"employeesCount":46,"careerRating":null,"subscribersCount":66839,"rating":407.38,"invest":null},"foundationDate":{"year":"2017","month":"04","day":"01"},"location":{"city":{"id":"447159","title":"Москва"},"region":{"id":"1885","title":"Москва и Московская обл."},"country":{"id":"168","title":"Россия"}},"siteUrl":"https:\u002F\u002Fotus.ru","staffNumber":"51–100 человек","registrationDate":"2017-03-22T08:17:26+00:00","representativeUser":{"alias":"MaxRokatansky","fullname":"OTUS"},"contacts":[{"title":"Сайт","url":"https:\u002F\u002Fotus.ru"},{"title":"Facebook","url":"https:\u002F\u002Ffacebook.com\u002Fotus.ru"},{"title":"ВКонтакте","url":"https:\u002F\u002Fvk.com\u002Fclub145052891"},{"title":"Telegram","url":"https:\u002F\u002Ftelegram.me\u002FOtusjava"}],"settings":{"analyticsSettings":[],"branding":null,"status":"active"},"metadata":{"titleHtml":"OTUS, Москва - Цифровые навыки от ведущих экспертов с 1 апреля 2017 г.","title":"OTUS, Москва - Цифровые навыки от ведущих экспертов с 1 апреля 2017 г.","keywords":["Программирование","Python","Java","Информационная безопасность","Машинное обучение"],"descriptionHtml":"1 483 статьи от авторов компании OTUS","description":"1 483 статьи от авторов компании OTUS"},"aDeskSettings":null,"careerAlias":"otus","maxCustomTrackerLinks":0}},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
