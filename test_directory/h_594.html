<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Заметки о дельта-роботе. Часть 3. Рабочая зона. Выбор длин звеньев / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/583190\/"},"headline":"Заметки о дельта-роботе. Часть 3. Рабочая зона. Выбор длин звеньев","datePublished":"2021-10-13T13:00:55+03:00","dateModified":"2021-10-14T00:57:09+03:00","author":{"@type":"Person","name":"multiengineer"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"В прошлых статьях мы познакомились с механизмом, узнали его историю, решили, пожалуй, главную для дельта-робота задачу &ndash; задачу о положениях, но так и не получил...","url":"https:\/\/habr.com\/ru\/post\/583190\/#post-content-body","about":["h_robo_dev","h_robot","f_develop","f_popsci"],"image":["https:\/\/habr.com\/share\/publication\/583190\/eda2fdfd98667554c663f0dd08e7f7b8\/","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d02\/0fa\/dda\/d020faddad20aff2ce8c8d600efb1eb9.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/5fa\/e5f\/ee8\/5fae5fee8b5def6ec7dadc3752d8bce5.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/c1e\/aa2\/22f\/c1eaa222f2a99613a5717de060b6aa4a.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/fe6\/0c2\/1cc\/fe60c21cc5ff14bc3711fa2a15baf4cb.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/1bd\/4a7\/209\/1bd4a72093aeacbd144a2d33f862b767.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/25c\/49a\/827\/25c49a82763f4962c89e3783340b8ff0.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/869\/5f5\/c26\/8695f5c26e8ac1f787f07a483c98f529.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/aca\/545\/7cc\/aca5457cc2d6d772c072b8c5a92dbf19.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/8d8\/651\/0ea\/8d86510ea417d8f0aa369b710a9d0ce2.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/88f\/1ca\/f5a\/88f1caf5a3ca8b6aaf6498b1b4345607.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/093\/6a5\/d2a\/0936a5d2a9fb71dfda0ae3e136bd4b32.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/651\/ec0\/317\/651ec03175968327474f039b51243f2e.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/326\/9b7\/947\/3269b794728736412bd01f136d9bb16a.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/391\/7ee\/fd4\/3917eefd4a2dd42975d52d442eaab1b1.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/a60\/b61\/c74\/a60b61c7419d8252f9990627e5b4a766.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d4a\/8e3\/a38\/d4a8e3a3846476419da3c60b7a29ae6c.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/cc1\/f37\/de0\/cc1f37de090e1fe7b301ab38f2e9b87e.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/c9d\/65a\/707\/c9d65a707991b97fb418595a09d8506c.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/746\/e9d\/1dd\/746e9d1ddc820dba1cb704c97032fb9a.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ffc\/4e4\/29c\/ffc4e429c7977ab093c6c27a63dbe0e5.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/4b3\/1da\/77b\/4b31da77b7d71632436300f4a9f7c8b5.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/e71\/dcd\/47e\/e71dcd47e8c60ba9d2e825050212d702.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/219\/df9\/3ea\/219df93ea33c6c0d573ab67788cac3f5.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/bd1\/95c\/6a0\/bd195c6a001f3632ea3b58d1507ac554.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/354\/723\/8bc\/3547238bc8a42328fb00fb3a7bfbef01.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/e76\/6b4\/dfb\/e766b4dfbb34d479b85caa665e05a75c.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/a26\/c02\/c13\/a26c02c1325d1c6a5f180669437d6ca1.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/cb3\/a18\/bbe\/cb3a18bbe40bbbe5c6defb8cc619e26e.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/655\/e5a\/94d\/655e5a94d8eed7ab1a24e28df71d4006.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/6ae\/780\/993\/6ae780993a4fe1b88d662b9f32ca7f4c.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/f58\/846\/c47\/f58846c47b2db941a49ce12c7586ed0f.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/64f\/24a\/5fb\/64f24a5fbf8895affe4063501040eb40.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/917\/ce5\/bc5\/917ce5bc532275d0662937dc4bd4c2b5.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/105\/f6e\/b02\/105f6eb02a028fbe1e5716e5449b29fe.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/3bd\/71b\/fb7\/3bd71bfb70a8192b4ac90d907cceb6f8.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/417\/14e\/80e\/41714e80eda7326457611f5f5e914ad1.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/7e7\/b0f\/b7a\/7e7b0fb7a668d15fb8fd0096fcb8890d.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/e65\/f34\/1a8\/e65f341a81b7f9e110f66375a0e5639a.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/11c\/9ba\/030\/11c9ba030351d86cb9fd83c8bc106ce0.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/866\/5a7\/f52\/8665a7f52fb189e7ed527c30bf205c35.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9b8\/caa\/423\/9b8caa4239fae53cd8fad237d4f6c59b.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/162\/8a1\/d11\/1628a1d11d12cb802bdfac8d493cd49d.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/197\/d3a\/2e5\/197d3a2e5843d045c8f3dba849ab0b44.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/3dd\/a52\/413\/3dda52413a1b03d1455e9c04ac239483.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/df5\/7d3\/901\/df57d39016e8ce2744693d1b8bf28ee2.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/c9c\/d64\/dd1\/c9cd64dd1759a43b6a2cb9883d902e80.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/ef0\/db6\/ea2\/ef0db6ea2a90ea7a037bdb70cb73166f.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/d44\/1f7\/f4a\/d441f7f4aedbd2a3e9ea90928205ac8d.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/a16\/347\/480\/a1634748086e6f81f43eefb2c4ffac98.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/9ee\/8b3\/314\/9ee8b331449b83845c12175cfe52804f.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/63a\/d41\/02e\/63ad4102e9acce1538803d3e64b82e0a.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/821\/742\/292\/8217422924dcca01e55fd5f3de6b5d2d.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/6c2\/ed8\/185\/6c2ed81850466d3d3f95639801faadd9.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/bd5\/b07\/b03\/bd5b07b034dd0e6c5f8702dcd49df0af.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/e9b\/757\/ce7\/e9b757ce7af64b2c864b2c96b9b60486.svg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/f1b\/b54\/21d\/f1bb5421d3060c762c0982ced2ebf510.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Заметки о дельта-роботе. Часть 3. Рабочая зона. Выбор длин звеньев" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Заметки о дельта-роботе. Часть 3. Рабочая зона. Выбор длин звеньев" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Заметки о дельта-роботе. Часть 3. Рабочая зона. Выбор длин звеньев" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="В прошлых статьях мы познакомились с механизмом, узнали его историю, решили, пожалуй, главную для дельта-робота задачу – задачу о положениях, но так и не получили никаких данных, необходимых для..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="В прошлых статьях мы познакомились с механизмом, узнали его историю, решили, пожалуй, главную для дельта-робота задачу – задачу о положениях, но так и не получили никаких данных, необходимых для..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="В прошлых статьях мы познакомились с механизмом, узнали его историю, решили, пожалуй, главную для дельта-робота задачу – задачу о положениях, но так и не получили никаких данных, необходимых для..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="В прошлых статьях мы познакомились с механизмом, узнали его историю, решили, пожалуй, главную для дельта-робота задачу – задачу о положениях, но так и не получили никаких данных, необходимых для..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="В прошлых статьях мы познакомились с механизмом, узнали его историю, решили, пожалуй, главную для дельта-робота задачу – задачу о положениях, но так и не получили никаких данных, необходимых для..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habrastorage.org/getpro/habr/upload_files/0de/69e/27f/0de69e27f3d8f407ac2bd60c407e8da8.png" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habrastorage.org/getpro/habr/upload_files/0de/69e/27f/0de69e27f3d8f407ac2bd60c407e8da8.png" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habrastorage.org/getpro/habr/upload_files/0de/69e/27f/0de69e27f3d8f407ac2bd60c407e8da8.png" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habrastorage.org/getpro/habr/upload_files/0de/69e/27f/0de69e27f3d8f407ac2bd60c407e8da8.png" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habrastorage.org/getpro/habr/upload_files/0de/69e/27f/0de69e27f3d8f407ac2bd60c407e8da8.png" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="583190" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2021-10-13T10:00:55.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/583190/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/583190/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habrastorage.org/getpro/habr/upload_files/0de/69e/27f/0de69e27f3d8f407ac2bd60c407e8da8.png" data-vmid="image:href"><link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/583190/">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/multiengineer/" title="multiengineer" class="tm-user-info__userpic"><div class="tm-entity-image"><svg height="24" width="24" class="tm-svg-img tm-image-placeholder tm-image-placeholder_blue"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <span class="tm-user-info__user"><a href="/ru/users/multiengineer/" class="tm-user-info__username">
      multiengineer
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2021-10-13T10:00:55.000Z" title="2021-10-13, 13:00">13  октября   в 13:00</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Заметки о дельта-роботе. Часть 3. Рабочая зона. Выбор длин звеньев</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/robo_dev/" class="tm-article-snippet__hubs-item-link"><span>Разработка робототехники</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/robot/" class="tm-article-snippet__hubs-item-link"><span>Робототехника</span> <!----></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><p>В прошлых статьях мы познакомились с механизмом, узнали его историю, решили, пожалуй, главную для дельта-робота задачу – задачу о положениях, но так и не получили никаких данных, необходимых для проектирования этого манипулятора. Сегодня, используя ранее полученные зависимости, мы начнём это делать. Построим рабочую зону этого механизма, порассуждаем о том, что влияет на её размер и форму, а также обсудим вопрос выбора длин звеньев этого робота.</p><p>Как и в предыдущей статье, если какой-то символ в формулах означает непонятно что, поднимаемся сюда и нажимаем на спойлер.</p><details class="spoiler"><summary>Список обозначений</summary><div class="spoiler__content"><p><img class="formula inline" source="n" alt="n" src="https://habrastorage.org/getpro/habr/upload_files/d02/0fa/dda/d020faddad20aff2ce8c8d600efb1eb9.svg"/>– число подвижных звеньев;</p><p><img class="formula inline" source="p_1" alt="p_1" src="https://habrastorage.org/getpro/habr/upload_files/5fa/e5f/ee8/5fae5fee8b5def6ec7dadc3752d8bce5.svg"/>– число одноподвижных кинематических пар;</p><p> <img class="formula inline" source="p_2" alt="p_2" src="https://habrastorage.org/getpro/habr/upload_files/c1e/aa2/22f/c1eaa222f2a99613a5717de060b6aa4a.svg"/>– число двухподвижных кинематических пар;</p><p> <img class="formula inline" source="p_3" alt="p_3" src="https://habrastorage.org/getpro/habr/upload_files/fe6/0c2/1cc/fe60c21cc5ff14bc3711fa2a15baf4cb.svg"/>– число трёхподвижных кинематических пар;</p><p> <img class="formula inline" source="p_4" alt="p_4" src="https://habrastorage.org/getpro/habr/upload_files/1bd/4a7/209/1bd4a72093aeacbd144a2d33f862b767.svg"/>– число четырёхподвижных кинематических пар;</p><p><img class="formula inline" source="p_5" alt="p_5" src="https://habrastorage.org/getpro/habr/upload_files/25c/49a/827/25c49a82763f4962c89e3783340b8ff0.svg"/>– число пятиподвижных кинематических пар;</p><p><img class="formula inline" source="z_L" alt="z_L" src="https://habrastorage.org/getpro/habr/upload_files/869/5f5/c26/8695f5c26e8ac1f787f07a483c98f529.svg"/>– координата точки <em>L</em> по оси <em>Z</em>;</p><p><img class="formula inline" source="y_Q" alt="y_Q" src="https://habrastorage.org/getpro/habr/upload_files/aca/545/7cc/aca5457cc2d6d772c072b8c5a92dbf19.svg"/>– координата точки Q по оси y;</p><p>и т. д. по той же логике здесь и далее я буду обозначать координаты точек;</p><p><img class="formula inline" source="F" alt="F" src="https://habrastorage.org/getpro/habr/upload_files/8d8/651/0ea/8d86510ea417d8f0aa369b710a9d0ce2.svg"/>– длина стороны треугольника основания;</p><p><img class="formula inline" source="f" alt="f" src="https://habrastorage.org/getpro/habr/upload_files/88f/1ca/f5a/88f1caf5a3ca8b6aaf6498b1b4345607.svg"/>– длина стороны треугольника платформы;</p><p><img class="formula inline" source="R_l" alt="R_l" src="https://habrastorage.org/getpro/habr/upload_files/093/6a5/d2a/0936a5d2a9fb71dfda0ae3e136bd4b32.svg"/>– длина рычага;</p><p><img class="formula inline" source="R_r" alt="R_r" src="https://habrastorage.org/getpro/habr/upload_files/651/ec0/317/651ec03175968327474f039b51243f2e.svg"/>– длина штанги;</p><p><img class="formula inline" source="\theta_1, \theta_2" alt="\theta_1, \theta_2" src="https://habrastorage.org/getpro/habr/upload_files/326/9b7/947/3269b794728736412bd01f136d9bb16a.svg"/>и <img class="formula inline" source=" \theta_3" alt=" \theta_3" src="https://habrastorage.org/getpro/habr/upload_files/391/7ee/fd4/3917eefd4a2dd42975d52d442eaab1b1.svg"/>– углы поворота рычагов, отсчитываемые от плоскости основания;</p><p><em>QG</em> – вынос основания;</p><p><img class="formula inline" source="φ_{max}" alt="φ_{max}" src="https://habrastorage.org/getpro/habr/upload_files/a60/b61/c74/a60b61c7419d8252f9990627e5b4a766.svg"/>– максимальный угол в шаровом шарнире;</p><p><img class="formula inline" source="ϑ" alt="ϑ" src="https://habrastorage.org/getpro/habr/upload_files/d4a/8e3/a38/d4a8e3a3846476419da3c60b7a29ae6c.svg"/> – угол давления.</p></div></details><h2>Рабочая зона</h2><p>Согласно  ГОСТ 25686-85 рабочей зоной (РЗ) называю пространство, в котором может находиться рабочий орган при функционировании манипулятора (или промышленного робота).</p><p>Для роботов с декартовой кинематикой, например, портальных манипуляторов вопрос с размерами и формой рабочей зоны решается довольно быстро. Это параллелепипед с размерами, определяемыми конструктивом механизма.</p><p>Определение размеров и формы рабочей зоны механизмов параллельной структуры задача не самая простая. Здесь можно выделить два подхода.</p><p>Первый, графический метод, основан на построении поверхностей, которые описывают звенья и шарниры механизма в процессе движения, и определении их пересечения <abbr title="Антонов А.В. Разработка механизмов параллельной структуры с двигателями, установленными на основании вне рабочей зоны: диссертация … кандидата технических наук. М. 2018 (всё есть в моей папке с литературой; см. 1-ую часть)">🕮</abbr>.</p><details class="spoiler"><summary>Попробуем применить его для нахождения РЗ дельта-робота</summary><div class="spoiler__content"><p>Сначала рисунок:</p><figure class="full-width "><img src="/img/image-loader.svg" height="320" data-src="https://habrastorage.org/getpro/habr/upload_files/cc1/f37/de0/cc1f37de090e1fe7b301ab38f2e9b87e.png" data-width="634"/><figcaption></figcaption></figure><p>Звено <em>QL</em>, или рычаг, может вращаться в плоскости <em>YOZ</em>, то есть его конец описывает часть окружности. На этой окружности располагается трёхподвижный шарнир <em>L</em>, к которому прикреплено звено <em>LM</em>, или штанга, которая своим концом описывает уже сферу. Таким образом, вращая сферу по окружности получаем часть тора. На картинке выше я ограничил минимальный угол между штангой и рычагом 180-ю градусами, поэтому части торов заканчиваются сферическими поверхностями. </p><p>Далее, получив части торов для всех трёх плеч робота, первые необходимо сместить в плоскости <em>XOY</em> к оси <em>Z</em>, чтобы механизм принял такой вид, при котором все три штанги соединяются в одном шарнире. Пересечение этих частей торов и будет рабочей зоной дельта-робота.</p><p>Я уже говорил, что ограничил минимальный угол между штангой и рычагом. А ведь, по-хорошему, ограничений должно быть больше. Есть максимальные углы в шаровых шарнирах, конструктивные ограничения по перемещению, ограничение на максимальный угол давления <img class="formula inline" source="ϑ_{max}" alt="ϑ_{max}" src="https://habrastorage.org/getpro/habr/upload_files/c9d/65a/707/c9d65a707991b97fb418595a09d8506c.svg"/>(обо всём этом написано ниже).</p><p>Добавляя лишь одно ограничение на угол давления, получаем задачу трудноформализуемую с математической точки зрения. Штанга своим концом теперь описывает не сферу, а её сегмент, ограниченный максимальным углом давления между штангой и рычагом <img class="formula inline" source="ϑ_{max}" alt="ϑ_{max}" src="https://habrastorage.org/getpro/habr/upload_files/746/e9d/1dd/746e9d1ddc820dba1cb704c97032fb9a.svg"/>. Вращая этот сегмент вокруг точки <em>Q</em>, то есть вместе с рычагом, получим некое тело вращения. Пересечение этих тел (смещённых у центру платформы) для трёх рычагов и будет, в данном случае, рабочей зоной. Дальнейшие ограничения накладывать не будем в связи с возникшими трудностями уже на этом этапе и перейдём к дискретному методу.</p></div></details><p>Дискретный метод заключается в разбиении всего пространства на отдельные точки, решении обратной или прямой задачи кинематики в них и проверке этого решения на нарушение ограничений. Иными словами, в контексте применения к дельта-роботу на первом этапе задаются заведомо слишком большие диапазоны изменения углов поворота рычагов. Потом итерационно изменяется угол одного из рычагов на небольшой шаг. Далее изменяется угол другого рычага на также небольшой шаг и повторяется перебирание углов первого рычага. Таким образом, перебираются все возможные комбинации углов трёх рычагов. На каждой итерации осуществляется проверка, есть ли какие-то ограничения для перемещения каретки механизма в точку, соответствующую этим углам, и, если есть, то эта итерация прерывается и добавления получившейся точки в итоговый массив, описывающий рабочую зону, не происходит. В конечном счёте, для механизма можно найти набор точек, в которые рабочий орган может переместиться, а граничная поверхность, поострённая по крайним точкам этого набора, характеризует форму и размеры получившейся зоны.</p><h3>Ограничения</h3><p>Существование решений обратной или прямой задач кинематики для конкретной точки совсем не означает того, что исполнительное звено механизма может оказаться в этом месте. На движение механизма накладывается ряд ограничений. Рассмотрим их.</p><p>Главное ограничение заключается в том, что поворот рычагов на заданный угол не должен приводить к пересечению конструктивных элементов робота. </p><figure class="full-width "><img src="/img/image-loader.svg" height="582" data-src="https://habrastorage.org/getpro/habr/upload_files/ffc/4e4/29c/ffc4e429c7977ab093c6c27a63dbe0e5.png" data-width="1672"/><figcaption></figcaption></figure><p>Ограничение движения конструктивными особенностями будем оценивать исходя из предполагаемого значения длины отрезка <em>QG</em> и минимально возможного угла <em><img class="formula inline" source="θ_{min}" alt="θ_{min}" src="https://habrastorage.org/getpro/habr/upload_files/4b3/1da/77b/4b31da77b7d71632436300f4a9f7c8b5.svg"/></em>:</p><figure class="full-width "><img src="/img/image-loader.svg" height="660" data-src="https://habrastorage.org/getpro/habr/upload_files/e71/dcd/47e/e71dcd47e8c60ba9d2e825050212d702.png" data-width="1480"/><figcaption></figcaption></figure><p>Расстояние <em>QG</em> представляет собой сумму радиуса штанги и радиуса окружности (трубы), в которую можно вписать все приводные элементы (двигатель, редуктор, крепёж).</p><p>Угол <em><img class="formula inline" source="θ_{min}" alt="θ_{min}" src="https://habrastorage.org/getpro/habr/upload_files/219/df9/3ea/219df93ea33c6c0d573ab67788cac3f5.svg"/></em> потребуется примерно оценить по предполагаемой конструкции основания и элементов крепления приводов. Этот угол в алгоритме построения учесть легко – просто начнём перебор углов рычагов с этого значения.</p><p>Не приблизилась ли штанга к приводу можно оценить по углу <img class="formula inline" source="γ" alt="γ" src="https://habrastorage.org/getpro/habr/upload_files/bd1/95c/6a0/bd195c6a001f3632ea3b58d1507ac554.svg"/>. С одной стороны этот угол не должен быть меньше некоторого минимально значения <img class="formula inline" source="γ_{min}" alt="γ_{min}" src="https://habrastorage.org/getpro/habr/upload_files/354/723/8bc/3547238bc8a42328fb00fb3a7bfbef01.svg"/>зависящего от <em>QG</em>. С другой стороны, этот угол не может быть больше 180°.</p><figure class="full-width "><img src="/img/image-loader.svg" height="728" data-src="https://habrastorage.org/getpro/habr/upload_files/e76/6b4/dfb/e766b4dfbb34d479b85caa665e05a75c.png" data-width="1452"/><figcaption></figcaption></figure><p>Решая прямую задачу кинематики, мы определим координаты точек <em>Q</em>, <em>L</em>, <em>M</em> и легко можем узнать координаты точки <em>N</em> – проекции точки <em>M</em> на плоскость вращения рычага. Тогда искомый угол <img class="formula inline" source="γ" alt="γ" src="https://habrastorage.org/getpro/habr/upload_files/a26/c02/c13/a26c02c1325d1c6a5f180669437d6ca1.svg"/> найдем по формуле:</p><figure class=""><img src="/img/image-loader.svg" alt="(1)" title="(1)" height="47" data-src="https://habrastorage.org/getpro/habr/upload_files/cb3/a18/bbe/cb3a18bbe40bbbe5c6defb8cc619e26e.png" data-width="286"/><figcaption>(1)</figcaption></figure><p>где <img class="formula inline" source="Y_{N }=Y_{M }" alt="Y_{N }=Y_{M }" src="https://habrastorage.org/getpro/habr/upload_files/655/e5a/94d/655e5a94d8eed7ab1a24e28df71d4006.svg"/></p><p>Формулу необходимо применять в системе координат, в которой рычаг вращается в плоскости <em>YOZ</em>. Минимальный угол <img class="formula inline" source="γ_{min}" alt="γ_{min}" src="https://habrastorage.org/getpro/habr/upload_files/6ae/780/993/6ae780993a4fe1b88d662b9f32ca7f4c.svg"/> определим из прямоугольного треугольника <em>QL'G</em>, в котором сторона <em>L'G</em> является касательной к окружности с центром в точке <em>Q</em> и радиусом <em>QG</em>. Зная также длину рычага <img class="formula inline" source="R_l" alt="R_l" src="https://habrastorage.org/getpro/habr/upload_files/f58/846/c47/f58846c47b2db941a49ce12c7586ed0f.svg"/> легко найдем <img class="formula inline" source="γ_{min}" alt="γ_{min}" src="https://habrastorage.org/getpro/habr/upload_files/64f/24a/5fb/64f24a5fbf8895affe4063501040eb40.svg"/> по формуле:</p><figure class=""><img src="/img/image-loader.svg" alt="(2)" title="(2)" height="47" data-src="https://habrastorage.org/getpro/habr/upload_files/917/ce5/bc5/917ce5bc532275d0662937dc4bd4c2b5.png" data-width="135"/><figcaption>(2)</figcaption></figure><p>Следующие ограничение связано с трёхподвижными шаровыми шарнирами. Все они имеют предельный угол поворота как минимум вокруг двух осей. При использовании шаровых магнитных шарниров, зачастую, можно считать, что прочие используемые ограничения, не позволят шаровому шарниру дойти до крайнего положения. В случае использования других шарниров угол между штангой и рычагом будет ограничен максимальным углом поворота шара в обойме. Тогда, чтобы убедиться, что это ограничение не нарушается, нужно найти угол <img class="formula inline" source="φ" alt="φ" src="https://habrastorage.org/getpro/habr/upload_files/105/f6e/b02/105f6eb02a028fbe1e5716e5449b29fe.svg"/> между штангой и плоскостью вращения рычага и проверить, чтобы он не был больше, чем <img class="formula inline" source="φ_{max}" alt="φ_{max}" src="https://habrastorage.org/getpro/habr/upload_files/3bd/71b/fb7/3bd71bfb70a8192b4ac90d907cceb6f8.svg"/> для каждого плеча. Это легко сделать из треугольника <em>LMN</em> (рисунок ниже).</p><figure class="full-width "><img src="/img/image-loader.svg" height="665" data-src="https://habrastorage.org/getpro/habr/upload_files/417/14e/80e/41714e80eda7326457611f5f5e914ad1.png" data-width="1336"/><figcaption></figcaption></figure><p>Сторона <em>LM</em> известна и равна длине штанги <img class="formula inline" source="R_r" alt="R_r" src="https://habrastorage.org/getpro/habr/upload_files/7e7/b0f/b7a/7e7b0fb7a668d15fb8fd0096fcb8890d.svg"/>, а сторона <em>MN</em> равна координате точки <em>V</em> по оси <em>X</em>. Тогда угол <img class="formula inline" source="φ" alt="φ" src="https://habrastorage.org/getpro/habr/upload_files/e65/f34/1a8/e65f341a81b7f9e110f66375a0e5639a.svg"/> можно найти по формуле:</p><figure class=""><img src="/img/image-loader.svg" alt="(3)" title="(3)" height="48" data-src="https://habrastorage.org/getpro/habr/upload_files/11c/9ba/030/11c9ba030351d86cb9fd83c8bc106ce0.png" data-width="120"/><figcaption>(3)</figcaption></figure><p>Модуль в формуле обусловлен тем фактом, что центр каретки может отклоняться от плоскости <em>ZOY</em> как вправо, так и влево. Заметим также, что данные вычисления для каждого плеча, как и ранее, нужно проводить в системах координат, повёрнутых на 120° и 240°.</p><p>Последним ограничением выделим допустимое значение угла давления, превышение которого может привести к заклиниванию и самоторможению <abbr title="Теория механизмов и машин Тимофеев Г. А. 3-ие издание (книжка есть в моей библиотеке, ссылку давал в первой статье)">🕮</abbr>. В исследуемом механизме можно выделить несколько углов давления, но мы остановимся на наложении ограничений на один из них – угол между касательной к траектории движения конца рычага, вдоль которой направлена скорость, и штангой, вдоль которой направлена сила. Наглядно угол давления <img class="formula inline" source="ϑ" alt="ϑ" src="https://habrastorage.org/getpro/habr/upload_files/866/5a7/f52/8665a7f52fb189e7ed527c30bf205c35.svg"/> показан на рисунке:</p><figure class="full-width "><img src="/img/image-loader.svg" height="756" data-src="https://habrastorage.org/getpro/habr/upload_files/9b8/caa/423/9b8caa4239fae53cd8fad237d4f6c59b.png" data-width="1357"/><figcaption></figcaption></figure><p>Для его определения найдём координаты двух векторов <img inline="true" class="image image-inline" src="/img/image-loader.svg" height="23" data-src="https://habrastorage.org/getpro/habr/upload_files/162/8a1/d11/1628a1d11d12cb802bdfac8d493cd49d.png" data-width="10"/> и <img inline="true" class="image image-inline" src="/img/image-loader.svg" height="23" data-src="https://habrastorage.org/getpro/habr/upload_files/197/d3a/2e5/197d3a2e5843d045c8f3dba849ab0b44.png" data-width="10"/>. Если координаты первого вектора легко найти через координаты точек <em>M</em> и <em>L</em>, то для поиска второго вектора сначала нужно найти координаты точки <em>Q'</em>, повернув отрезок <em>QL</em> на 90° относительно точки <em>L</em>, чтобы получить касательную. В итоге, координаты векторов <img inline="true" class="image image-inline" src="/img/image-loader.svg" height="23" data-src="https://habrastorage.org/getpro/habr/upload_files/3dd/a52/413/3dda52413a1b03d1455e9c04ac239483.png" data-width="10"/>и <img inline="true" class="image image-inline" src="/img/image-loader.svg" height="23" data-src="https://habrastorage.org/getpro/habr/upload_files/df5/7d3/901/df57d39016e8ce2744693d1b8bf28ee2.png" data-width="10"/> найдём по формулам:</p><figure class=""><img src="/img/image-loader.svg" alt="(4)" title="(4)" height="68" data-src="https://habrastorage.org/getpro/habr/upload_files/c9c/d64/dd1/c9cd64dd1759a43b6a2cb9883d902e80.png" data-width="478"/><figcaption>(4)</figcaption></figure><p>Теперь угол давления найдём как угол между векторами <img inline="true" class="image image-inline" src="/img/image-loader.svg" height="23" data-src="https://habrastorage.org/getpro/habr/upload_files/ef0/db6/ea2/ef0db6ea2a90ea7a037bdb70cb73166f.png" data-width="10"/> и <img inline="true" class="image image-inline" src="/img/image-loader.svg" height="23" data-src="https://habrastorage.org/getpro/habr/upload_files/d44/1f7/f4a/d441f7f4aedbd2a3e9ea90928205ac8d.png" data-width="10"/> по формуле:</p><figure class=""><img src="/img/image-loader.svg" alt="(5)" title="(5)" height="75" data-src="https://habrastorage.org/getpro/habr/upload_files/a16/347/480/a1634748086e6f81f43eefb2c4ffac98.png" data-width="330"/><figcaption>(5)</figcaption></figure><p>Забегая вперёд, следует отметить, что введённые ограничения делают форму рабочей области иной, чем во многих работах (<abbr title="Закиров Р.И., Алиев М.И., Морозов А.И. ОПРЕДЕЛЕНИЕ КИНЕМАТИЧЕСКИХ ХАРАКТЕРИСТИК ДЕЛЬТА-РОБОТА ПО ЗАДАННЫМ ПАРАМЕТРАМ РАБОЧЕЙ ОБЛАСТИ // Электротехнические и информационные комплексы и системы, Т. 14, № 4, 2018. С. 11-16.">🕮</abbr>, <abbr title="Opl M., Holub M., Pavlík J., Bradáč F., Blecha P., Kozubík J., Coufal J. DELTA - Robot with Parallel Kinematics // Mechatronics, Jan 2012. pp. 445-452.">🕮</abbr>, <abbr title="Gharahsofloo A., Rahmani A. An Efficient Algorithm for Workspace Generation of Delta Robot // International Journal of Robotics, Vol. 5, No. 2, 2015. pp. 48-53.">🕮</abbr> и пр.). Эта особенность обусловлена тем, что очень часто авторы не накладывают никаких ограничений, а просто при построении варьируют углы рычагов в некотором диапазоне. А между тем, разница в форме и размерах получается существенная:</p><figure class="full-width "><img src="/img/image-loader.svg" height="742" data-src="https://habrastorage.org/getpro/habr/upload_files/9ee/8b3/314/9ee8b331449b83845c12175cfe52804f.png" data-width="1474"/><figcaption></figcaption></figure><h3>Реальная и требуемая рабочие зоны</h3><p>Реальная рабочая зона дельта-робота имеет сложную форму, которую не ясно, как описать. Пример такой зоны представлен на рисунке ниже. Не менее затруднительно понять, подходит ли данная рабочая зона под конкретную задачу.</p><figure class="full-width "><img src="/img/image-loader.svg" height="729" data-src="https://habrastorage.org/getpro/habr/upload_files/63a/d41/02e/63ad4102e9acce1538803d3e64b82e0a.png" data-width="1475"/><figcaption></figcaption></figure><p>В связи с этим форму рабочей зоны, которая будет фигурировать в документации на робота, выбирают более простой (желаемая или требуемая РЗ). Имея дело с рабочей зоной в виде кругового цилиндра или параллелепипеда, легко понять, подходит ли робот с такими параметрами под конкретную задачу. Довольно часто с целью минимизации участков неиспользованной реальной рабочей зоны желаемую рабочую зону представляют в виде совокупности простых фигур: цилиндра и усечённого конуса или цилиндра и части сферы.</p><figure class="full-width "><img src="/img/image-loader.svg" height="344" data-src="https://habrastorage.org/getpro/habr/upload_files/821/742/292/8217422924dcca01e55fd5f3de6b5d2d.png" data-width="1549"/><figcaption></figcaption></figure><p>Выбор цилиндрической рабочей зоны также обоснован её «экономичностью». Иными словами, при наложении шарнирных ограничений, форма реальной рабочей зоны, зачастую, напоминает шестиугольную призму, ограниченную снизу и сверху сложными поверхностями. Цилиндр же в шестиугольную призму вписывается так, что оставшийся неиспользуемый объём реальной рабочей зоны остаётся мал.</p><h2>Размерный синтез</h2><p>Одним из ключевых вопросов при проектировании дельта-робота является вопрос выбора длин звеньев. Иногда его называют <em>задачей метрического синтеза</em> или <em>размерного синтеза</em>.</p><p>Выбирая размеры звеньев механизма, можно брать в расчёт массу различных критериев. Не случайно перед этим вопросом мы рассмотрели вопрос построения рабочей зоны. Ведь, прежде всего, нам хотелось бы, чтобы выбранные размеры звеньев позволили роботу обслуживать желаемую рабочую зону. Потом, было бы здорово, чтобы габариты самого робота при этом были минимальными. Хорошо, чтобы при выбранной конфигурации ещё и моменты на приводах были поменьше, деформации элементов конструкции от высоких ускорений и перемещения полезной нагрузки тоже были незначительны.</p><p>Так и вырастает задача метрического синтеза в задачу многокритериальной оптимизации, и люди пишут диссертации на эту тему <abbr title="Brinker J. Optimal design of functionally extended parallel robots with Delta-like architecture. Dissertation, RWTH Aachen University, 2018 (а вот её я найти не смог, с автором связаться тоже не получилось)">🕮</abbr>. И даже здесь авторы отмечают, что алгоритм выдаёт лишь ряд наиболее подходящих конфигурации, а выбирать конкретную всё равно приходится руководствуясь своим опытом и инженерной интуицией. Я формулировал задачу размерного синтеза как задачу оптимизации, в которой критерием оптимальности было достижение алгоритмом такой комбинации длин звеньев, при котором габариты робота будут минимальны, то есть минимизировал объём габаритного цилиндра:</p><figure class="full-width "><img src="/img/image-loader.svg" height="722" data-src="https://habrastorage.org/getpro/habr/upload_files/6c2/ed8/185/6c2ed81850466d3d3f95639801faadd9.png" data-width="957"/><figcaption></figcaption></figure><p>Но этот подход не имеет никакой ценности, так как все остальные характеристики (динамическое, характеристики точности и пр.) дельта-робота не рассматривались.</p><p>Поэтому здесь я расскажу о более простом методе выбора длин звеньев – методе подбора.</p><p>Мы будим сами задавать размеры звеньев и запускать алгоритм, который будет проверять, подходит ли данная конфигурация для обслуживания дельта-роботом желаемой рабочей зоны. Визуально можно будет оценить, насколько реальная рабочая зона больше требуемой, алгоритм также будет выдавать и итоговые габариты получившегося устройства. Найдя подходящую конфигурацию, можно будет оценить, насколько робот отличается по размерным пропорциям от предложенных на рынке. А потом, в следующих статьях, мы ещё и напишем алгоритм силового расчёта, который позволит оценить нагрузки на приводы и равномерность динамических характеристик по всему объёму рабочей зоны. Если нас что-то не устраивает – задаём другие размеры, запускаем алгоритм заново. Так повторяем, пока нас всё не устроит.</p><p>Итак, по приведённому выше алгоритму можно построить реальную рабочую зону. Но как определить, помещается ли в неё желаемая зона?</p><p>Для начала стоит решить, какую рабочую зону мы хотим видеть (выше я привёл три варианта). Далее нужно будет задать размеры этой зоны (они тоже отмечены на рисунках). Помимо этого, нужно указать координату дна цилиндра по оси <em>Z</em>. </p><p>Тогда, имея все входные данные, можно построить желаемую зону и распределить по ней точки для анализа:</p><figure class="full-width "><img src="/img/image-loader.svg" height="578" data-src="https://habrastorage.org/getpro/habr/upload_files/bd5/b07/b03/bd5b07b034dd0e6c5f8702dcd49df0af.png" data-width="1232"/><figcaption></figcaption></figure><p>Точки для анализа распределяются по поверхности рабочей зоны. Теперь для каждой точки можно решить обратную задачу кинематики (заодно и проверить существование этого решения) и проверить все условия, которые проверялись для точек рабочей зоны при построении последней. Если все точки этим условиям удовлетворят, то можно сделать вывод, что данная желаемая рабочая зона в реальную вписывается.</p><p>Можно заметить, что точки распределены не по всей поверхности, а по 1/6 её части. Это связанно с симметрией робота. При любом анализе можно рассматривать лишь 1/6 часть, отсчитываемую от плоскости <em>YOZ</em> в любую сторону на 60°.</p><p>Также в процессе расчёта полезно будет найти максимальный и минимальный углы <img class="formula inline" source="θ" alt="θ" src="https://habrastorage.org/getpro/habr/upload_files/e9b/757/ce7/e9b757ce7af64b2c864b2c96b9b60486.svg"/>, на который поворачивается рычаг. Это позволит нам при проектировании, возможно, смоделировать какие-то детали более массивными, где-то сэкономить, а также выбрать место для концевых выключателей, срабатывание которых будет давать системе управления информацию о текущем положении входных звеньев.</p><h2>Реализация алгоритмов</h2><p>Я реализовал алгоритм построения рабочей области в MATLAB. Алгоритм состоит из двух файлов. В первом вводятся все исходные данные и запускается функция построения и расчётов.</p><details class="spoiler"><summary>Файл, где задаются входные данные и запускается алгоритм</summary><div class="spoiler__content"><pre><code class="matlab">%Объявляем глобальные переменные характерных размеров робота и констант
global R_l R_r VM OQ cos120 sin120 cos240 sin240 %Размеры и константы
global minTheta QG phiMax varthetaMax %Ограничения
global WZ_D WZ_H WZ_Z WZ_a WZ_d WZ_h %Рабочая зона
global stepTheta %Шаг изменения углов
global minTheta_real maxTheta_real %Максимальный и минимальный углы рычагов
%при движении в реальной рабочей области
global minTheta_wish maxTheta_wish %Максимальный и минимальный углы рычагов
%при движении в желаемой рабочей области
global addSeg %Переменная, показывающая необходимость дополнительного
%сегмента в рабочей зоне
global status %Флаг свидетельствующий об удовлетворении условия нахождения
%желаемой рабочей зоны в реальной рабочей зоне
%поворота рычагов, которые могут быть с учёном ограничений
global Dg Hg hg %Габаритные размеры почившегося робота

%Вычисляем константы
cos120 = cosd(120);
sin120 = sind(120);
cos240 = cosd(240);
sin240 = sind(240);

%Задаём размеры робота [мм]
F = 270; %Длина стороны треугольника основания
f = 80; %Длина стороны треугольника платформы
R_l = 170;  %Длина рычагов (по осям)
R_r = 320;  %Длина штанг (по осям)

%Вычисляем радиусы вписанных окружностей
OQ = F*sqrt(3)/6; %Радиус окружности осей шарниров
VM = f*sqrt(3)/6; %Радиус окружности осей рычагов
%Задаём ограничения
minTheta = 135; %Минимальный угол поворота рычага
QG = 50; %Вынос основания
phiMax = 30; %Максимальный шарнирный угол
varthetaMax = 45; %Максимальный угол давления

%Задаём характеристики желаемой рабочей зоны
addSeg = 0; %Добавляемый к рабочей зоне сегмент. 0 - ничего; 1 - усечённый
%конус; %2 - часть сферы
WZ_D = 320; %Диаметр цилиндра рабочей зоны
WZ_H = 150; %Высота цилиндра рабочей зоны
WZ_Z = -390; %Координаты дна цилиндра рабочей зоны
WZ_a = WZ_D*sqrt(2)/2 %Сторона вписанного в основание цилиндра квадрата
WZ_d = 100; %Диаметр нижней окружности усечённого конуса
WZ_h = 50; %Высота добавляемой к РЗ части

%Шаг изменения угла при расчётах (рекомендуется от 1 до 8
stepTheta = 5;

%Вызываем функцию построения и расчётов
zoneBuilder;

%Выводим рассчитанные перемепенные
status %Если = 1, то желаемая РЗ вписывается в реальную
minTheta_real %Минимальный угол рычага в реальной РЗ
maxTheta_real %Максимальный угол рычага в реальной РЗ
if status
minTheta_wish %Минимальный угол рычага в желаемой РЗ
maxTheta_wish %Максимальный угол рычага в желаемой РЗ
Dg %Диаметр габаритного цилиндра
Hg %Высота габаритного цилиндра
end
hg %Растояние от основания до верха габаритного цилиндра</code></pre></div></details><p>Второй файл – это сам алгоритм расчётов и построения. Он получился довольно объёмным, но тот, кому это очень нужно, разберётся, где там что благодаря комментариям.</p><details class="spoiler"><summary>Алгоритм расчётов и построения</summary><div class="spoiler__content"><pre><code class="matlab">%Функция построения реальной и желаемой рабочих областей
%дельта-робота
function [] = zoneBuilder()
global R_l R_r VM OQ cos120 sin120 cos240 sin240 %Размеры и константы
global minTheta QG phiMax varthetaMax %Ограничения
global WZ_D WZ_H WZ_Z WZ_a WZ_d WZ_h %Рабочая зона
global stepTheta %Шаг изменения углов
global minTheta_real maxTheta_real %Максимальный и минимальный углы рычагов
%при движении в реальной рабочей области
global minTheta_wish maxTheta_wish %Максимальный и минимальный углы рычагов
%при движении в желаемой рабочей области
global addSeg %Переменная, показывающая необходимость дополнительного
%сегмента в рабочей зоне
global status %Флаг свидетельствующий об удовлетворении условия нахождения
%желаемой рабочей зоны в реальной рабочей зоне
%поворота рычагов, которые могут быть с учёном ограничений
global Dg Hg hg %Габаритные размеры почившегося робота
maxTheta = 270; %Максимальный угол для перебора

%Задаём переменные максимальных и минимальных углов поворота рычагов,
%которые могут быть с учёном ограничений
minTheta_real = maxTheta;
maxTheta_real = minTheta;

minTheta_wish = maxTheta;
maxTheta_wish = minTheta;


%Подготовительные вычисления
gammaMin = asind(QG/R_l);
gammaMax = 180;
%Создаём вектор с одной нулевой точкой (потом её удалим)
V_RZ = [0, 0, 0];

%Создаём цикл перебора всех возможных комбинаций углов поворота рычагов
for Theta1 = minTheta:stepTheta:maxTheta
    for Theta2 = minTheta:stepTheta:maxTheta
        for Theta3 = minTheta:stepTheta:maxTheta
            %Вызываем функцию, решающую ПЗК
            [V] = PZK(Theta1, Theta2, Theta3);
            X_V = V(1); Y_V = V(2); Z_V = V(3);
            %Вычисляем координаты точек в системах координат XOY
            %X120Y120Z120 и X240Y240Z240
            X_Q1 = 0;
            Y_Q1 = -OQ;
            Z_Q1 = 0;
            X_L1 = 0;
            Y_L1 = -(OQ + R_l*sind(Theta1-90));
            Z_L1 =  R_l*cosd(Theta1-90);
            X_M1 = X_V;
            Y_M1 = Y_V - VM;
            Z_M1 = Z_V;
                X_V_120 = X_V*cos120 - Y_V*sin120;
                Y_V_120 = X_V*sin120 + Y_V*cos120;
                Z_V_120 = Z_V;
                X_Q2_120 = 0;
                Y_Q2_120 = -OQ;
                Z_Q2_120 = 0;
                X_L2_120 = 0;
                Y_L2_120 = -(OQ + R_l*sind(Theta2-90));
                Z_L2_120 =  R_l*cosd(Theta2-90);
                X_M2_120 = X_V_120;
                Y_M2_120 = Y_V_120 - VM;
                Z_M2_120 = Z_V_120;
                    X_V_240 = X_V*cos240 - Y_V*sin240;
                    Y_V_240 = X_V*sin240 + Y_V*cos240;
                    Z_V_240 = Z_V;
                    X_Q3_240 = 0;
                    Y_Q3_240 = -OQ;
                    Z_Q3_240 = 0;
                    X_L3_240 = 0;
                    Y_L3_240 = -(OQ + R_l*sind(Theta3-90));
                    Z_L3_240 =  R_l*cosd(Theta3-90);
                    X_M3_240 = X_V_240;
                    Y_M3_240 = Y_V_240 - VM;
                    Z_M3_240 = Z_V_240;
            %Собираем это в вектора
            Q1 = [X_Q1, Y_Q1, Z_Q1];
            L1 = [X_L1, Y_L1, Z_L1];
            M1 = [X_M1, Y_M1, Z_M1];
            V_120 = [X_V_120, Y_V_120, Z_V_120];
            Q2_120 = [X_Q2_120, Y_Q2_120, Z_Q2_120];
            L2_120 = [X_L2_120, Y_L2_120, Z_L2_120];
            M2_120 = [X_M2_120, Y_M2_120, Z_M2_120];
            V_240 = [X_V_240, Y_V_240, Z_V_240];
            Q3_240 = [X_Q3_240, Y_Q3_240, Z_Q3_240];
            L3_240 = [X_L3_240, Y_L3_240, Z_L3_240];
            M3_240 = [X_M3_240, Y_M3_240, Z_M3_240];
            %Вычисляем координаты точек N1 N2 N3
            N1 = [L1(1); M1(2); V(3)];
            N2_120 = [L2_120(1); M2_120(2); V_120(3)];
            N3_240 = [L3_240(1); M3_240(2); V_240(3)];
            %------Проверяем ограничения------%
            % 1 Проверяем отсутствие пересечений
            gamma1 = 180-acosd(-L1(3)/R_l)-asind((N1(2)-L1(2))/R_r);
            gamma2 = 180-acosd(-L2_120(3)/R_l)-asind((N2_120(2)-L2_120(2))/R_r);
            gamma3 = 180-acosd(-L3_240(3)/R_l)-asind((N3_240(2)-L3_240(2))/R_r);
            if (gamma1 &lt; gammaMax) &amp;&amp; (gamma1 > gammaMin) &amp;&amp; (gamma2 &lt; gammaMax) &amp;&amp; (gamma2 > gammaMin) &amp;&amp; (gamma3 &lt; gammaMax) &amp;&amp; (gamma3 > gammaMin)
                % 2 Проверяем, могут ли трёхподвижные шарниры позволить механизму принять
                % такое положение
                varphi1 = asind(abs(V(1))/R_r);
                varphi2 = asind(abs(V_120(1))/R_r);
                varphi3 = asind(abs(V_240(1))/R_r);
                if (varphi1&lt;phiMax) &amp;&amp; (varphi2&lt;phiMax) &amp;&amp; (varphi3&lt;phiMax)
                    % 3 Проверяем, не превышают ли углы давления заданное
                    % максимальное значение
                    p1 = [M1(1)-L1(1); M1(2)-L1(2); M1(3)-L1(3)];
                    q1 = [0; L1(3)-Q1(3); Q1(2)-L1(2)];
                    vartheta1 = acosd(abs(p1(1)*q1(1)+p1(2)*q1(2)+p1(3)*q1(3))/(sqrt(p1(1)^2+p1(2)^2+p1(3)^2)*sqrt(q1(1)^2+q1(2)^2+q1(3)^2)));
                    p2 = [M2_120(1)-L2_120(1); M2_120(2)-L2_120(2); M2_120(3)-L2_120(3)];
                    q2 = [0; L2_120(3)-Q2_120(3); Q2_120(2)-L2_120(2)];
                    vartheta2 = acosd(abs(p2(1)*q2(1)+p2(2)*q2(2)+p2(3)*q2(3))/(sqrt(p2(1)^2+p2(2)^2+p2(3)^2)*sqrt(q2(1)^2+q2(2)^2+q2(3)^2)));
                    p3 = [M3_240(1)-L3_240(1); M3_240(2)-L3_240(2); M3_240(3)-L3_240(3)];
                    q3 = [0; L3_240(3)-Q3_240(3); Q3_240(2)-L3_240(2)];
                    vartheta3 = acosd(abs(p3(1)*q3(1)+p3(2)*q3(2)+p3(3)*q3(3))/(sqrt(p3(1)^2+p3(2)^2+p3(3)^2)*sqrt(q3(1)^2+q3(2)^2+q3(3)^2)));
                    if (vartheta1&lt;varthetaMax) &amp;&amp; (vartheta2&lt;varthetaMax) &amp;&amp; (vartheta3&lt;varthetaMax)
                        %Если все условия выполнены - добавляем точку в
                        %вектор облака точек реальной РЗ
                        V_RZ = cat(1, V_RZ, V);
                        %Находим максимальный и минимальный углы поворота рычагов,
                        %которые могут быть с учёном ограничений
                        minTheta_real = min([minTheta_real, Theta1, Theta2, Theta3]);
                        maxTheta_real = max([maxTheta_real, Theta1, Theta2, Theta3]);
                    end
                end
            end
        end
    end
end

%Удаляем первую нулевую точку
V_RZ(1,:) = [];
%Находим какие точки в нашем облаке являются граничными и создаём
%группы по 3 точки, которые будем соединять треугольниками (для
%образования поверхности)
[K] = boundary(V_RZ);

%Находим точки для построения цилиндра
%Крышка
t = linspace(0, 2*pi, 50);
Xo1 = (WZ_D/2) * cos(t);
Yo1 = (WZ_D/2) * sin(t);
Zo1 = ones(1, 50)*(WZ_Z+WZ_H);
Zo2 = ones(1, 50)*WZ_Z;
%Цилиндрическая поверхность
[Xc,Yc,Zc] = cylinder((WZ_D/2), 50);
Zc = Zc*WZ_H+WZ_Z;

%Находим точки для построения параллелепипеда
Xp = [0 WZ_a WZ_a 0 0 WZ_a WZ_a 0];
Yp = [0 0 WZ_a WZ_a 0 0 WZ_a WZ_a] ;
Zp = Xp'*Xp*Yp'*Yp/WZ_a^2/WZ_a^2*WZ_H/2 + WZ_Z;
Xp = Xp - WZ_a/2;
Yp = Yp - WZ_a/2;

%Отрисовка рабочих зон

%Отображаем реальную РЗ
p1 = trisurf(K,V_RZ(:,1),V_RZ(:,2),V_RZ(:,3),'Facecolor','red', 'FaceAlpha',0.2);
hold('on');
%Отображаем крышку и боковую поверхность цилиндра
p2 = patch(Xo1, Yo1, Zo1, 'c', 'FaceAlpha',0.5);
p3 = surf(Xc,Yc,Zc, 'FaceColor', 'c',  'FaceAlpha',0.5);
%Отображаем параллелепипед
p4 = surf(Xp, Yp, Zp, 'FaceColor', 'g', 'FaceAlpha', 0.2);
p4.Visible = 0; %Скрываем
%Отображаем дополнительные сегменты, если нужно
if addSeg == 0
    %Дно цилиндра
    p5 = patch(Xo1, Yo1, Zo2, 'c', 'FaceAlpha',0.5);
end
if addSeg == 1
    %Дно усечённого конуса
    t = linspace(0, 2*pi, 50);
    Xo2 = (WZ_d/2) * cos(t);
    Yo2 = (WZ_d/2) * sin(t);
    p6 = patch(Xo2, Yo2, Zo2-WZ_h, 'c', 'FaceAlpha',0.5);
    %Коническая поверхность
    [Xco,Yco,Zco] = cylinder([(WZ_d/2), (WZ_D/2)], 50);
    Zco = Zco*WZ_h+WZ_Z-WZ_h;
    p7 = surf(Xco,Yco,Zco, 'FaceColor', 'c',  'FaceAlpha',0.5);
end
if addSeg == 2
    %Сферическая поверхность
    thetta = linspace(pi-asin((WZ_D/2)/(WZ_d/2)), pi, 50);
    phi = linspace(0, 2*pi, 50);
    [THETTA, PHI] = meshgrid(thetta, phi);
    Xsph = (WZ_d/2)*sin(THETTA).*cos(PHI);
    Ysph = (WZ_d/2)*sin(THETTA).*sin(PHI);
    Zsph = (WZ_Z+(WZ_d/2-WZ_h))+(WZ_d/2)*cos(THETTA);
    p8 = surf(Xsph,Ysph,Zsph, 'FaceColor', 'c',  'FaceAlpha',0.5);
end
%Настраиваем отображение
hold('off');
axis('equal');
xlabel('x, мм');
ylabel('y, мм');
zlabel('z, мм');
title('Рабочие зоны механизма');
%legend('Реальная РЗ', 'Требуемая РЗ');
view([-30 , 20]);
grid('on');

%Проверяем, подходит ли данная конфигурация робота под желаемую рабочую
%зону
%Формируем массив точек для проверки
%Точки крышки цилиндра
[t, r] = meshgrid(linspace(-pi/2, -pi/2-pi/3, 10), linspace(0, WZ_D/2,10));
[Xtc, Ytc] = pol2cart(t,r);
Ztc = ones(10, 10)*(WZ_Z+WZ_H);
%Точки боковой поверхности цилиндра
[t,r] = meshgrid(linspace(-pi/2, -pi/2-pi/3, 10), WZ_D/2);
[Xmv, Ymv] = pol2cart(t,r);
mv = linspace(WZ_Z, WZ_Z+WZ_H, 10);
for k = 2:9
    Xss((k-1)*10-9:(k-1)*10) = Xmv;
    Yss((k-1)*10-9:(k-1)*10) = Ymv;
    Zss((k-1)*10-9:(k-1)*10) = ones(1, 10)*mv(k);
end
if addSeg == 0
    %Точки дна цилиндра
    [t, r] = meshgrid(linspace(-pi/2, -pi/2-pi/3, 10), linspace(0, WZ_D/2,10));
    [Xbc, Ybc] = pol2cart(t,r);
    Zbc = ones(10, 10)*(WZ_Z);
    %Формируем итоговый вектор точек
    PointsToBeChecked_X = [reshape(Xtc',1,[]), reshape(Xss',1,[]), reshape(Xbc',1,[])];
    PointsToBeChecked_Y = [reshape(Ytc',1,[]), reshape(Yss',1,[]), reshape(Ybc',1,[])];
    PointsToBeChecked_Z = [reshape(Ztc',1,[]), reshape(Zss',1,[]), reshape(Zbc',1,[])];
end
if addSeg == 1
    %Точки дна конуса
    [t, r] = meshgrid(linspace(-pi/2, -pi/2-pi/3, 10), linspace(0, WZ_d/2,10));
    [Xbco, Ybco] = pol2cart(t,r);
    Zbco = ones(10, 10)*(WZ_Z-WZ_h);
    %Точки боковой поверхности конуса
    mv = linspace(WZ_Z-WZ_h, WZ_Z, 10);
    mvD = linspace(WZ_d, WZ_D, 10);
    for k = 2:10
        [t,r] = meshgrid(linspace(-pi/2, -pi/2-pi/3, 10), mvD(k)/2);
        [Xmv, Ymv] = pol2cart(t,r);
        Xssco((k-1)*10-9:(k-1)*10) = Xmv;
        Yssco((k-1)*10-9:(k-1)*10) = Ymv;
        Zssco((k-1)*10-9:(k-1)*10) = ones(1, 10)*mv(k);
    end
    %Формируем итоговый вектор точек
    PointsToBeChecked_X = [reshape(Xtc',1,[]), reshape(Xss',1,[]), reshape(Xbco',1,[]), reshape(Xssco',1,[])];
    PointsToBeChecked_Y = [reshape(Ytc',1,[]), reshape(Yss',1,[]), reshape(Ybco',1,[]), reshape(Yssco',1,[])];
    PointsToBeChecked_Z = [reshape(Ztc',1,[]), reshape(Zss',1,[]), reshape(Zbco',1,[]), reshape(Zssco',1,[])];
end
if addSeg == 2
    %Точки сферы
    thetta = linspace(pi-asin((WZ_D/2)/(WZ_d/2)), pi, 10);
    phi = linspace(-pi/2, -pi/2-pi/3, 10);
    [THETTA, PHI] = meshgrid(thetta, phi);
    Xsph = (WZ_d/2)*sin(THETTA).*cos(PHI);
    Ysph = (WZ_d/2)*sin(THETTA).*sin(PHI);
    Zsph = (WZ_Z+(WZ_d/2-WZ_h))+(WZ_d/2)*cos(THETTA);
    %Формируем итоговый вектор точек
    PointsToBeChecked_X = [reshape(Xtc',1,[]), reshape(Xss',1,[]), reshape(Xsph',1,[])];
    PointsToBeChecked_Y = [reshape(Ytc',1,[]), reshape(Yss',1,[]), reshape(Ysph',1,[])];
    PointsToBeChecked_Z = [reshape(Ztc',1,[]), reshape(Zss',1,[]), reshape(Zsph',1,[])];
end

% %Показываем точки для анализа
% hold('on');
% plot3(PointsToBeChecked_X,PointsToBeChecked_Y, PointsToBeChecked_Z, '.r');
% hold('off');
    
%Проверяем каждую точку на условие нахождения её в реальной рабочей зоне
%Задаём начальный вектор статуса (ни одна точка не подходит)
stt(1:size(PointsToBeChecked_X, 2)) = 0;
for k=1:size(PointsToBeChecked_X, 2)
    %Вызываем функцию, решающую ПЗК
    [vectTheta] = OZK(PointsToBeChecked_X(k), PointsToBeChecked_Y(k), PointsToBeChecked_Z(k));
    Theta1 = vectTheta(1); Theta2 = vectTheta(2); Theta3 = vectTheta(3);
    X_V = PointsToBeChecked_X(k); Y_V = PointsToBeChecked_Y(k); Z_V = PointsToBeChecked_Z(k);
    if imag(vectTheta) == [0, 0, 0]
        %Вычисляем координаты точек в системах координат XOY
        %X120Y120Z120 и X240Y240Z240
        X_Q1 = 0;
        Y_Q1 = -OQ;
        Z_Q1 = 0;
        X_L1 = 0;
        Y_L1 = -(OQ + R_l*sind(Theta1-90));
        Z_L1 =  R_l*cosd(Theta1-90);
        X_M1 = X_V;
        Y_M1 = Y_V - VM;
        Z_M1 = Z_V;
        X_V_120 = X_V*cos120 - Y_V*sin120;
        Y_V_120 = X_V*sin120 + Y_V*cos120;
        Z_V_120 = Z_V;
        X_Q2_120 = 0;
        Y_Q2_120 = -OQ;
        Z_Q2_120 = 0;
        X_L2_120 = 0;
        Y_L2_120 = -(OQ + R_l*sind(Theta2-90));
        Z_L2_120 =  R_l*cosd(Theta2-90);
        X_M2_120 = X_V_120;
        Y_M2_120 = Y_V_120 - VM;
        Z_M2_120 = Z_V_120;
        X_V_240 = X_V*cos240 - Y_V*sin240;
        Y_V_240 = X_V*sin240 + Y_V*cos240;
        Z_V_240 = Z_V;
        X_Q3_240 = 0;
        Y_Q3_240 = -OQ;
        Z_Q3_240 = 0;
        X_L3_240 = 0;
        Y_L3_240 = -(OQ + R_l*sind(Theta3-90));
        Z_L3_240 =  R_l*cosd(Theta3-90);
        X_M3_240 = X_V_240;
        Y_M3_240 = Y_V_240 - VM;
        Z_M3_240 = Z_V_240;
        %Собираем это в вектора
        Q1 = [X_Q1, Y_Q1, Z_Q1];
        L1 = [X_L1, Y_L1, Z_L1];
        M1 = [X_M1, Y_M1, Z_M1];
        V_120 = [X_V_120, Y_V_120, Z_V_120];
        Q2_120 = [X_Q2_120, Y_Q2_120, Z_Q2_120];
        L2_120 = [X_L2_120, Y_L2_120, Z_L2_120];
        M2_120 = [X_M2_120, Y_M2_120, Z_M2_120];
        V_240 = [X_V_240, Y_V_240, Z_V_240];
        Q3_240 = [X_Q3_240, Y_Q3_240, Z_Q3_240];
        L3_240 = [X_L3_240, Y_L3_240, Z_L3_240];
        M3_240 = [X_M3_240, Y_M3_240, Z_M3_240];
        %Вычисляем координаты точек N1 N2 N3
        N1 = [L1(1); M1(2); V(3)];
        N2_120 = [L2_120(1); M2_120(2); V_120(3)];
        N3_240 = [L3_240(1); M3_240(2); V_240(3)];
        %------Проверяем ограничения------%
        % 1 Проверяем отсутствие пересечений
        gamma1 = 180-acosd(-L1(3)/R_l)-asind((N1(2)-L1(2))/R_r);
        gamma2 = 180-acosd(-L2_120(3)/R_l)-asind((N2_120(2)-L2_120(2))/R_r);
        gamma3 = 180-acosd(-L3_240(3)/R_l)-asind((N3_240(2)-L3_240(2))/R_r);
        if (gamma1 &lt; gammaMax) &amp;&amp; (gamma1 > gammaMin) &amp;&amp; (gamma2 &lt; gammaMax) &amp;&amp; (gamma2 > gammaMin) &amp;&amp; (gamma3 &lt; gammaMax) &amp;&amp; (gamma3 > gammaMin)
            % 2 Проверяем, могут ли трёхподвижные шарниры позволить механизму принять
            % такое положение
            varphi1 = asind(abs(V(1))/R_r);
            varphi2 = asind(abs(V_120(1))/R_r);
            varphi3 = asind(abs(V_240(1))/R_r);
            if (varphi1&lt;phiMax) &amp;&amp; (varphi2&lt;phiMax) &amp;&amp; (varphi3&lt;phiMax)
                % 3 Проверяем, не превышают ли углы давления заданное
                % максимальное значение
                p1 = [M1(1)-L1(1); M1(2)-L1(2); M1(3)-L1(3)];
                q1 = [0; L1(3)-Q1(3); Q1(2)-L1(2)];
                vartheta1 = acosd(abs(p1(1)*q1(1)+p1(2)*q1(2)+p1(3)*q1(3))/(sqrt(p1(1)^2+p1(2)^2+p1(3)^2)*sqrt(q1(1)^2+q1(2)^2+q1(3)^2)));
                p2 = [M2_120(1)-L2_120(1); M2_120(2)-L2_120(2); M2_120(3)-L2_120(3)];
                q2 = [0; L2_120(3)-Q2_120(3); Q2_120(2)-L2_120(2)];
                vartheta2 = acosd(abs(p2(1)*q2(1)+p2(2)*q2(2)+p2(3)*q2(3))/(sqrt(p2(1)^2+p2(2)^2+p2(3)^2)*sqrt(q2(1)^2+q2(2)^2+q2(3)^2)));
                p3 = [M3_240(1)-L3_240(1); M3_240(2)-L3_240(2); M3_240(3)-L3_240(3)];
                q3 = [0; L3_240(3)-Q3_240(3); Q3_240(2)-L3_240(2)];
                vartheta3 = acosd(abs(p3(1)*q3(1)+p3(2)*q3(2)+p3(3)*q3(3))/(sqrt(p3(1)^2+p3(2)^2+p3(3)^2)*sqrt(q3(1)^2+q3(2)^2+q3(3)^2)));
                if (vartheta1&lt;varthetaMax) &amp;&amp; (vartheta2&lt;varthetaMax) &amp;&amp; (vartheta3&lt;varthetaMax)
                    %Если все условия выполнены - добавляем точку в
                    %вектор облака точек реальной РЗ
                    stt(k) = 1;
                    %Находим максимальный и минимальный углы поворота рычагов,
                    %которые могут быть с учёном ограничений
                    minTheta_wish = min([minTheta_wish, Theta1, Theta2, Theta3]);
                    maxTheta_wish = max([maxTheta_wish, Theta1, Theta2, Theta3]);
                end
            end
        end
    end
end
if min(stt) == 1
    status = 1;
    Dg = (OQ+R_l)*2;
    hg = R_l*sind(180-minTheta_wish);
    if hg &lt; 0
        hg = 0;
    end
    Hg = hg - WZ_Z;
else
    status = 0;
end
end</code></pre></div></details><p>Показать максимально наглядно рабочую зону помогает встроенная функция «boundary», которая среди предложенных точек выберет только те, которые являются граничными для трёхмерной области. Достоинством данной функции является возможность определять не только выпуклые, но и вогнутые участки граничной поверхности, что в рамках решаемой задачи необходимо.</p><p>Также, в расчётах используются функции, которые я давал в предыдущей статье. Так что их нужно "упаковать" в файлы и расположить в директории с этим алгоритмом.</p><p>Бонусом накинем алгоритм для построения робота:</p><details class="spoiler"><summary>Вот он</summary><div class="spoiler__content"><pre><code class="matlab">%Строит схаматично дельта-робота на графике
function [] = drawDelta(dim, V, Theta)
f = dim(1);    %Длина стороны треугольника платформы
F = dim(2);    %Длина стороны треугольника основания
R_l = dim(3);  %Длина рычагов (по осям)
R_r = dim(4);  %Длина штанг (по осям)
X_V = V(1); Y_V = V(2); Z_V = V(3); %Координаты точки V
Theta1 = Theta(1); Theta2 = Theta(2); Theta3 = Theta(3); %Углы поворота рычагов

%Находим все точки для построения механизма
%Подготовительные действия
global cos120 sin120 cos240 sin240
VM = f*sqrt(3)/6;
OQ = F*sqrt(3)/6;
%Находим крайние точки рычагов и плеч
X_Q1 = 0;
Y_Q1 = -OQ;
Z_Q1 = 0;
X_L1 = 0;
Y_L1 = -(OQ + R_l*sind(Theta1-90));
Z_L1 =  R_l*cosd(Theta1-90);
X_M1 = X_V;
Y_M1 = Y_V - VM;
Z_M1 = Z_V;
    X_Q2 = -Y_Q1*sin120;
    Y_Q2 = Y_Q1*cos120;
    Z_Q2 = 0;
    X_L2 = (OQ + R_l*sind(Theta2-90))*sin120;
    Y_L2 = -(OQ + R_l*sind(Theta2-90))*cos120;
    Z_L2 =  R_l*cosd(Theta2-90);
    X_M2 = X_V - (-VM)*sin120;
    Y_M2 = Y_V + (-VM)*cos120;
    Z_M2 = Z_V;
        X_Q3 = -Y_Q1*sin240;
        Y_Q3 = Y_Q1*cos240;
        Z_Q3 = 0;
        X_L3 = (OQ + R_l*sind(Theta3-90))*sin240;
        Y_L3 = -(OQ + R_l*sind(Theta3-90))*cos240;
        Z_L3 =  R_l*cosd(Theta3-90);
        X_M3 = X_V - (-VM)*sin240;
        Y_M3 = Y_V + (-VM)*cos240;
        Z_M3 = Z_V;
%Находим точки треугольника основания
A = [-F/2, -OQ, 0];
B = [F/2, A(2), 0];
C = [0, F/sqrt(3), 0];
%Находим точки треугольника каретки
An = [X_V-(f/2), Y_V-VM, Z_V];
Bn = [X_V+(f/2), Y_V-VM, Z_V];
Cn = [X_V, Y_V+f/sqrt(3), Z_V];
%Формирование выходных векторов для построения
BaseTri = [A(1) B(1) C(1); A(2) B(2) C(2); A(3) B(3) C(3)];
CarTri = [An(1) Bn(1) Cn(1); An(2) Bn(2) Cn(2); An(3) Bn(3) Cn(3)];
Pl1 = [X_Q1 X_L1 X_M1; Y_Q1 Y_L1 Y_M1; Z_Q1 Z_L1 Z_M1];
Pl2 = [X_Q2 X_L2 X_M2; Y_Q2 Y_L2 Y_M2; Z_Q2 Z_L2 Z_M2];
Pl3 = [X_Q3 X_L3 X_M3; Y_Q3 Y_L3 Y_M3; Z_Q3 Z_L3 Z_M3];

%Построение робота
cla;
patch(BaseTri(1, :), BaseTri(2, :), BaseTri(3, :), 'c', 'FaceAlpha',0.7);
hold('on');
patch(CarTri(1, :), CarTri(2, :), CarTri(3, :), 'm', 'FaceAlpha',0.7);
plot3(Pl1(1, :), Pl1(2, :), Pl1(3, :), 'LineWidth', 1.5, 'Color', 'b');
plot3(Pl2(1, :), Pl2(2, :), Pl2(3, :), 'LineWidth', 1.5, 'Color', 'b');
plot3(Pl3(1, :), Pl3(2, :), Pl3(3, :), 'LineWidth', 1.5, 'Color', 'b');
xlabel('x, мм');
ylabel('y, мм');
zlabel('z, мм');
title('Вид робота');
view([ -30 , 20 ]);
axis('equal');
grid('on');
hold('off');
end</code></pre></div></details><p>Ему на вход нужна дать размеры работа, координаты центра исполнительно звена и углы, соответствующие этому положению (решение обратной задачи кинематики).</p><p>Можно, конечно, обернуть всё это дело в приложение с графическим интерфейсом:</p><figure class="full-width "><img src="/img/image-loader.svg" height="814" data-src="https://habrastorage.org/getpro/habr/upload_files/f1b/b54/21d/f1bb5421d3060c762c0982ced2ebf510.png" data-width="1352"/><figcaption></figcaption></figure><p>Но его я пока дать не готов.</p><h2>Итог</h2><p>Я постарался изложить свой взгляд на построение рабочей зоны дельта-робота, свой взгляд на выбор длин звеньев этого механизма. Жалующие легко соберут (но небольшой навык работы в MATLAB всё же нужен) все алгоритмы, которые я дал, в комплект файлов для расчётов и построений.</p><p>В следующей статье будем разбирать вопрос выбора приводов. Будет не очень приятная математика, но я постараюсь сгладить это своими пояснениями. До новых встреч.</p></div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B4%D0%B5%D0%BB%D1%8C%D1%82%D0%B0-%D1%80%D0%BE%D0%B1%D0%BE%D1%82%5D" class="tm-tags-list__link">дельта-робот</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%80%D0%B0%D0%B1%D0%BE%D1%87%D0%B0%D1%8F%20%D0%B7%D0%BE%D0%BD%D0%B0%5D" class="tm-tags-list__link">рабочая зона</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BC%D0%B0%D0%BD%D0%B8%D0%BF%D1%83%D0%BB%D1%8F%D1%82%D0%BE%D1%80%5D" class="tm-tags-list__link">манипулятор</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BC%D0%B5%D1%82%D1%80%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9%20%D1%81%D0%B8%D0%BD%D1%82%D0%B5%D0%B7%5D" class="tm-tags-list__link">метрический синтез</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B2%D1%8B%D0%B1%D0%BE%D1%80%20%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%80%D0%BE%D0%B2%20%D0%B7%D0%B2%D0%B5%D0%BD%D1%8C%D0%B5%D0%B2%20%D1%80%D0%BE%D0%B1%D0%BE%D1%82%D0%B0%5D" class="tm-tags-list__link">выбор размеров звеньев робота</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/robo_dev/" class="tm-hubs-list__link">
    Разработка робототехники
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/robot/" class="tm-hubs-list__link">
    Робототехника
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 7: ↑7 и ↓0</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 7: ↑7 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+7</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">1.1K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    25
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/multiengineer/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><svg class="tm-svg-img tm-image-placeholder tm-image-placeholder_blue"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <div class="tm-user-card__meta"><div title=" 19 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    19
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">61</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><!----> <a href="/ru/users/multiengineer/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @multiengineer
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/583190/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 4 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/583190/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/583190/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"583190":{"id":"583190","timePublished":"2021-10-13T10:00:55+00:00","isCorporative":false,"lang":"ru","titleHtml":"Заметки о дельта-роботе. Часть 3. Рабочая зона. Выбор длин звеньев","leadData":{"textHtml":"\u003Cp\u003EВ прошлых статьях мы познакомились с механизмом, узнали его историю, решили, пожалуй, главную для дельта-робота задачу – задачу о положениях, но так и не получили никаких данных, необходимых для проектирования этого манипулятора. Сегодня, используя ранее полученные зависимости, мы начнём это делать. Построим рабочую зону этого механизма, порассуждаем о том, что влияет на её размер и форму, а также обсудим вопрос выбора длин звеньев робота.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F0de\u002F69e\u002F27f\u002F0de69e27f3d8f407ac2bd60c407e8da8.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F0de\u002F69e\u002F27f\u002F0de69e27f3d8f407ac2bd60c407e8da8.png","fit":"cover","positionY":0,"positionX":34.615384615385}},"editorVersion":"2.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":19,"votesCount":19},"rating":61,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"2647083","alias":"multiengineer","fullname":null,"avatarUrl":null,"speciality":null},"statistics":{"commentsCount":4,"favoritesCount":25,"readingCount":1147,"score":7,"votesCount":7},"hubs":[{"relatedData":null,"id":"19735","alias":"robo_dev","type":"collective","title":"Разработка робототехники","titleHtml":"Разработка робототехники","isProfiled":true},{"relatedData":null,"id":"21902","alias":"robot","type":"collective","title":"Робототехника","titleHtml":"Робототехника","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EВ прошлых статьях мы познакомились с механизмом, узнали его историю, решили, пожалуй, главную для дельта-робота задачу – задачу о положениях, но так и не получили никаких данных, необходимых для проектирования этого манипулятора. Сегодня, используя ранее полученные зависимости, мы начнём это делать. Построим рабочую зону этого механизма, порассуждаем о том, что влияет на её размер и форму, а также обсудим вопрос выбора длин звеньев этого робота.\u003C\u002Fp\u003E\u003Cp\u003EКак и в предыдущей статье, если какой-то символ в формулах означает непонятно что, поднимаемся сюда и нажимаем на спойлер.\u003C\u002Fp\u003E\u003Cdetails class=\"spoiler\"\u003E\u003Csummary\u003EСписок обозначений\u003C\u002Fsummary\u003E\u003Cdiv class=\"spoiler__content\"\u003E\u003Cp\u003E\u003Cimg class=\"formula inline\" source=\"n\" alt=\"n\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd02\u002F0fa\u002Fdda\u002Fd020faddad20aff2ce8c8d600efb1eb9.svg\"\u002F\u003E– число подвижных звеньев;\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg class=\"formula inline\" source=\"p_1\" alt=\"p_1\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5fa\u002Fe5f\u002Fee8\u002F5fae5fee8b5def6ec7dadc3752d8bce5.svg\"\u002F\u003E– число одноподвижных кинематических пар;\u003C\u002Fp\u003E\u003Cp\u003E \u003Cimg class=\"formula inline\" source=\"p_2\" alt=\"p_2\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc1e\u002Faa2\u002F22f\u002Fc1eaa222f2a99613a5717de060b6aa4a.svg\"\u002F\u003E– число двухподвижных кинематических пар;\u003C\u002Fp\u003E\u003Cp\u003E \u003Cimg class=\"formula inline\" source=\"p_3\" alt=\"p_3\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ffe6\u002F0c2\u002F1cc\u002Ffe60c21cc5ff14bc3711fa2a15baf4cb.svg\"\u002F\u003E– число трёхподвижных кинематических пар;\u003C\u002Fp\u003E\u003Cp\u003E \u003Cimg class=\"formula inline\" source=\"p_4\" alt=\"p_4\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F1bd\u002F4a7\u002F209\u002F1bd4a72093aeacbd144a2d33f862b767.svg\"\u002F\u003E– число четырёхподвижных кинематических пар;\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg class=\"formula inline\" source=\"p_5\" alt=\"p_5\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F25c\u002F49a\u002F827\u002F25c49a82763f4962c89e3783340b8ff0.svg\"\u002F\u003E– число пятиподвижных кинематических пар;\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg class=\"formula inline\" source=\"z_L\" alt=\"z_L\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F869\u002F5f5\u002Fc26\u002F8695f5c26e8ac1f787f07a483c98f529.svg\"\u002F\u003E– координата точки \u003Cem\u003EL\u003C\u002Fem\u003E по оси \u003Cem\u003EZ\u003C\u002Fem\u003E;\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg class=\"formula inline\" source=\"y_Q\" alt=\"y_Q\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Faca\u002F545\u002F7cc\u002Faca5457cc2d6d772c072b8c5a92dbf19.svg\"\u002F\u003E– координата точки Q по оси y;\u003C\u002Fp\u003E\u003Cp\u003Eи т. д. по той же логике здесь и далее я буду обозначать координаты точек;\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg class=\"formula inline\" source=\"F\" alt=\"F\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F8d8\u002F651\u002F0ea\u002F8d86510ea417d8f0aa369b710a9d0ce2.svg\"\u002F\u003E– длина стороны треугольника основания;\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg class=\"formula inline\" source=\"f\" alt=\"f\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F88f\u002F1ca\u002Ff5a\u002F88f1caf5a3ca8b6aaf6498b1b4345607.svg\"\u002F\u003E– длина стороны треугольника платформы;\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg class=\"formula inline\" source=\"R_l\" alt=\"R_l\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F093\u002F6a5\u002Fd2a\u002F0936a5d2a9fb71dfda0ae3e136bd4b32.svg\"\u002F\u003E– длина рычага;\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg class=\"formula inline\" source=\"R_r\" alt=\"R_r\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F651\u002Fec0\u002F317\u002F651ec03175968327474f039b51243f2e.svg\"\u002F\u003E– длина штанги;\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg class=\"formula inline\" source=\"\\theta_1, \\theta_2\" alt=\"\\theta_1, \\theta_2\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F326\u002F9b7\u002F947\u002F3269b794728736412bd01f136d9bb16a.svg\"\u002F\u003Eи \u003Cimg class=\"formula inline\" source=\" \\theta_3\" alt=\" \\theta_3\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F391\u002F7ee\u002Ffd4\u002F3917eefd4a2dd42975d52d442eaab1b1.svg\"\u002F\u003E– углы поворота рычагов, отсчитываемые от плоскости основания;\u003C\u002Fp\u003E\u003Cp\u003E\u003Cem\u003EQG\u003C\u002Fem\u003E – вынос основания;\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg class=\"formula inline\" source=\"φ_{max}\" alt=\"φ_{max}\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa60\u002Fb61\u002Fc74\u002Fa60b61c7419d8252f9990627e5b4a766.svg\"\u002F\u003E– максимальный угол в шаровом шарнире;\u003C\u002Fp\u003E\u003Cp\u003E\u003Cimg class=\"formula inline\" source=\"ϑ\" alt=\"ϑ\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd4a\u002F8e3\u002Fa38\u002Fd4a8e3a3846476419da3c60b7a29ae6c.svg\"\u002F\u003E – угол давления.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdetails\u003E\u003Ch2\u003EРабочая зона\u003C\u002Fh2\u003E\u003Cp\u003EСогласно  ГОСТ 25686-85 рабочей зоной (РЗ) называю пространство, в котором может находиться рабочий орган при функционировании манипулятора (или промышленного робота).\u003C\u002Fp\u003E\u003Cp\u003EДля роботов с декартовой кинематикой, например, портальных манипуляторов вопрос с размерами и формой рабочей зоны решается довольно быстро. Это параллелепипед с размерами, определяемыми конструктивом механизма.\u003C\u002Fp\u003E\u003Cp\u003EОпределение размеров и формы рабочей зоны механизмов параллельной структуры задача не самая простая. Здесь можно выделить два подхода.\u003C\u002Fp\u003E\u003Cp\u003EПервый, графический метод, основан на построении поверхностей, которые описывают звенья и шарниры механизма в процессе движения, и определении их пересечения \u003Cabbr title=\"Антонов А.В. Разработка механизмов параллельной структуры с двигателями, установленными на основании вне рабочей зоны: диссертация … кандидата технических наук. М. 2018 (всё есть в моей папке с литературой; см. 1-ую часть)\"\u003E🕮\u003C\u002Fabbr\u003E.\u003C\u002Fp\u003E\u003Cdetails class=\"spoiler\"\u003E\u003Csummary\u003EПопробуем применить его для нахождения РЗ дельта-робота\u003C\u002Fsummary\u003E\u003Cdiv class=\"spoiler__content\"\u003E\u003Cp\u003EСначала рисунок:\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"320\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fcc1\u002Ff37\u002Fde0\u002Fcc1f37de090e1fe7b301ab38f2e9b87e.png\" data-width=\"634\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EЗвено \u003Cem\u003EQL\u003C\u002Fem\u003E, или рычаг, может вращаться в плоскости \u003Cem\u003EYOZ\u003C\u002Fem\u003E, то есть его конец описывает часть окружности. На этой окружности располагается трёхподвижный шарнир \u003Cem\u003EL\u003C\u002Fem\u003E, к которому прикреплено звено \u003Cem\u003ELM\u003C\u002Fem\u003E, или штанга, которая своим концом описывает уже сферу. Таким образом, вращая сферу по окружности получаем часть тора. На картинке выше я ограничил минимальный угол между штангой и рычагом 180-ю градусами, поэтому части торов заканчиваются сферическими поверхностями. \u003C\u002Fp\u003E\u003Cp\u003EДалее, получив части торов для всех трёх плеч робота, первые необходимо сместить в плоскости \u003Cem\u003EXOY\u003C\u002Fem\u003E к оси \u003Cem\u003EZ\u003C\u002Fem\u003E, чтобы механизм принял такой вид, при котором все три штанги соединяются в одном шарнире. Пересечение этих частей торов и будет рабочей зоной дельта-робота.\u003C\u002Fp\u003E\u003Cp\u003EЯ уже говорил, что ограничил минимальный угол между штангой и рычагом. А ведь, по-хорошему, ограничений должно быть больше. Есть максимальные углы в шаровых шарнирах, конструктивные ограничения по перемещению, ограничение на максимальный угол давления \u003Cimg class=\"formula inline\" source=\"ϑ_{max}\" alt=\"ϑ_{max}\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc9d\u002F65a\u002F707\u002Fc9d65a707991b97fb418595a09d8506c.svg\"\u002F\u003E(обо всём этом написано ниже).\u003C\u002Fp\u003E\u003Cp\u003EДобавляя лишь одно ограничение на угол давления, получаем задачу трудноформализуемую с математической точки зрения. Штанга своим концом теперь описывает не сферу, а её сегмент, ограниченный максимальным углом давления между штангой и рычагом \u003Cimg class=\"formula inline\" source=\"ϑ_{max}\" alt=\"ϑ_{max}\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F746\u002Fe9d\u002F1dd\u002F746e9d1ddc820dba1cb704c97032fb9a.svg\"\u002F\u003E. Вращая этот сегмент вокруг точки \u003Cem\u003EQ\u003C\u002Fem\u003E, то есть вместе с рычагом, получим некое тело вращения. Пересечение этих тел (смещённых у центру платформы) для трёх рычагов и будет, в данном случае, рабочей зоной. Дальнейшие ограничения накладывать не будем в связи с возникшими трудностями уже на этом этапе и перейдём к дискретному методу.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdetails\u003E\u003Cp\u003EДискретный метод заключается в разбиении всего пространства на отдельные точки, решении обратной или прямой задачи кинематики в них и проверке этого решения на нарушение ограничений. Иными словами, в контексте применения к дельта-роботу на первом этапе задаются заведомо слишком большие диапазоны изменения углов поворота рычагов. Потом итерационно изменяется угол одного из рычагов на небольшой шаг. Далее изменяется угол другого рычага на также небольшой шаг и повторяется перебирание углов первого рычага. Таким образом, перебираются все возможные комбинации углов трёх рычагов. На каждой итерации осуществляется проверка, есть ли какие-то ограничения для перемещения каретки механизма в точку, соответствующую этим углам, и, если есть, то эта итерация прерывается и добавления получившейся точки в итоговый массив, описывающий рабочую зону, не происходит. В конечном счёте, для механизма можно найти набор точек, в которые рабочий орган может переместиться, а граничная поверхность, поострённая по крайним точкам этого набора, характеризует форму и размеры получившейся зоны.\u003C\u002Fp\u003E\u003Ch3\u003EОграничения\u003C\u002Fh3\u003E\u003Cp\u003EСуществование решений обратной или прямой задач кинематики для конкретной точки совсем не означает того, что исполнительное звено механизма может оказаться в этом месте. На движение механизма накладывается ряд ограничений. Рассмотрим их.\u003C\u002Fp\u003E\u003Cp\u003EГлавное ограничение заключается в том, что поворот рычагов на заданный угол не должен приводить к пересечению конструктивных элементов робота. \u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"582\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fffc\u002F4e4\u002F29c\u002Fffc4e429c7977ab093c6c27a63dbe0e5.png\" data-width=\"1672\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EОграничение движения конструктивными особенностями будем оценивать исходя из предполагаемого значения длины отрезка \u003Cem\u003EQG\u003C\u002Fem\u003E и минимально возможного угла \u003Cem\u003E\u003Cimg class=\"formula inline\" source=\"θ_{min}\" alt=\"θ_{min}\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4b3\u002F1da\u002F77b\u002F4b31da77b7d71632436300f4a9f7c8b5.svg\"\u002F\u003E\u003C\u002Fem\u003E:\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"660\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe71\u002Fdcd\u002F47e\u002Fe71dcd47e8c60ba9d2e825050212d702.png\" data-width=\"1480\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EРасстояние \u003Cem\u003EQG\u003C\u002Fem\u003E представляет собой сумму радиуса штанги и радиуса окружности (трубы), в которую можно вписать все приводные элементы (двигатель, редуктор, крепёж).\u003C\u002Fp\u003E\u003Cp\u003EУгол \u003Cem\u003E\u003Cimg class=\"formula inline\" source=\"θ_{min}\" alt=\"θ_{min}\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F219\u002Fdf9\u002F3ea\u002F219df93ea33c6c0d573ab67788cac3f5.svg\"\u002F\u003E\u003C\u002Fem\u003E потребуется примерно оценить по предполагаемой конструкции основания и элементов крепления приводов. Этот угол в алгоритме построения учесть легко – просто начнём перебор углов рычагов с этого значения.\u003C\u002Fp\u003E\u003Cp\u003EНе приблизилась ли штанга к приводу можно оценить по углу \u003Cimg class=\"formula inline\" source=\"γ\" alt=\"γ\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fbd1\u002F95c\u002F6a0\u002Fbd195c6a001f3632ea3b58d1507ac554.svg\"\u002F\u003E. С одной стороны этот угол не должен быть меньше некоторого минимально значения \u003Cimg class=\"formula inline\" source=\"γ_{min}\" alt=\"γ_{min}\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F354\u002F723\u002F8bc\u002F3547238bc8a42328fb00fb3a7bfbef01.svg\"\u002F\u003Eзависящего от \u003Cem\u003EQG\u003C\u002Fem\u003E. С другой стороны, этот угол не может быть больше 180°.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"728\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe76\u002F6b4\u002Fdfb\u002Fe766b4dfbb34d479b85caa665e05a75c.png\" data-width=\"1452\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EРешая прямую задачу кинематики, мы определим координаты точек \u003Cem\u003EQ\u003C\u002Fem\u003E, \u003Cem\u003EL\u003C\u002Fem\u003E, \u003Cem\u003EM\u003C\u002Fem\u003E и легко можем узнать координаты точки \u003Cem\u003EN\u003C\u002Fem\u003E – проекции точки \u003Cem\u003EM\u003C\u002Fem\u003E на плоскость вращения рычага. Тогда искомый угол \u003Cimg class=\"formula inline\" source=\"γ\" alt=\"γ\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa26\u002Fc02\u002Fc13\u002Fa26c02c1325d1c6a5f180669437d6ca1.svg\"\u002F\u003E найдем по формуле:\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"(1)\" title=\"(1)\" height=\"47\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fcb3\u002Fa18\u002Fbbe\u002Fcb3a18bbe40bbbe5c6defb8cc619e26e.png\" data-width=\"286\"\u002F\u003E\u003Cfigcaption\u003E(1)\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003Eгде \u003Cimg class=\"formula inline\" source=\"Y_{N }=Y_{M }\" alt=\"Y_{N }=Y_{M }\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F655\u002Fe5a\u002F94d\u002F655e5a94d8eed7ab1a24e28df71d4006.svg\"\u002F\u003E\u003C\u002Fp\u003E\u003Cp\u003EФормулу необходимо применять в системе координат, в которой рычаг вращается в плоскости \u003Cem\u003EYOZ\u003C\u002Fem\u003E. Минимальный угол \u003Cimg class=\"formula inline\" source=\"γ_{min}\" alt=\"γ_{min}\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6ae\u002F780\u002F993\u002F6ae780993a4fe1b88d662b9f32ca7f4c.svg\"\u002F\u003E определим из прямоугольного треугольника \u003Cem\u003EQL'G\u003C\u002Fem\u003E, в котором сторона \u003Cem\u003EL'G\u003C\u002Fem\u003E является касательной к окружности с центром в точке \u003Cem\u003EQ\u003C\u002Fem\u003E и радиусом \u003Cem\u003EQG\u003C\u002Fem\u003E. Зная также длину рычага \u003Cimg class=\"formula inline\" source=\"R_l\" alt=\"R_l\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff58\u002F846\u002Fc47\u002Ff58846c47b2db941a49ce12c7586ed0f.svg\"\u002F\u003E легко найдем \u003Cimg class=\"formula inline\" source=\"γ_{min}\" alt=\"γ_{min}\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F64f\u002F24a\u002F5fb\u002F64f24a5fbf8895affe4063501040eb40.svg\"\u002F\u003E по формуле:\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"(2)\" title=\"(2)\" height=\"47\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F917\u002Fce5\u002Fbc5\u002F917ce5bc532275d0662937dc4bd4c2b5.png\" data-width=\"135\"\u002F\u003E\u003Cfigcaption\u003E(2)\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EСледующие ограничение связано с трёхподвижными шаровыми шарнирами. Все они имеют предельный угол поворота как минимум вокруг двух осей. При использовании шаровых магнитных шарниров, зачастую, можно считать, что прочие используемые ограничения, не позволят шаровому шарниру дойти до крайнего положения. В случае использования других шарниров угол между штангой и рычагом будет ограничен максимальным углом поворота шара в обойме. Тогда, чтобы убедиться, что это ограничение не нарушается, нужно найти угол \u003Cimg class=\"formula inline\" source=\"φ\" alt=\"φ\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F105\u002Ff6e\u002Fb02\u002F105f6eb02a028fbe1e5716e5449b29fe.svg\"\u002F\u003E между штангой и плоскостью вращения рычага и проверить, чтобы он не был больше, чем \u003Cimg class=\"formula inline\" source=\"φ_{max}\" alt=\"φ_{max}\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F3bd\u002F71b\u002Ffb7\u002F3bd71bfb70a8192b4ac90d907cceb6f8.svg\"\u002F\u003E для каждого плеча. Это легко сделать из треугольника \u003Cem\u003ELMN\u003C\u002Fem\u003E (рисунок ниже).\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"665\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F417\u002F14e\u002F80e\u002F41714e80eda7326457611f5f5e914ad1.png\" data-width=\"1336\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EСторона \u003Cem\u003ELM\u003C\u002Fem\u003E известна и равна длине штанги \u003Cimg class=\"formula inline\" source=\"R_r\" alt=\"R_r\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F7e7\u002Fb0f\u002Fb7a\u002F7e7b0fb7a668d15fb8fd0096fcb8890d.svg\"\u002F\u003E, а сторона \u003Cem\u003EMN\u003C\u002Fem\u003E равна координате точки \u003Cem\u003EV\u003C\u002Fem\u003E по оси \u003Cem\u003EX\u003C\u002Fem\u003E. Тогда угол \u003Cimg class=\"formula inline\" source=\"φ\" alt=\"φ\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe65\u002Ff34\u002F1a8\u002Fe65f341a81b7f9e110f66375a0e5639a.svg\"\u002F\u003E можно найти по формуле:\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"(3)\" title=\"(3)\" height=\"48\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F11c\u002F9ba\u002F030\u002F11c9ba030351d86cb9fd83c8bc106ce0.png\" data-width=\"120\"\u002F\u003E\u003Cfigcaption\u003E(3)\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EМодуль в формуле обусловлен тем фактом, что центр каретки может отклоняться от плоскости \u003Cem\u003EZOY\u003C\u002Fem\u003E как вправо, так и влево. Заметим также, что данные вычисления для каждого плеча, как и ранее, нужно проводить в системах координат, повёрнутых на 120° и 240°.\u003C\u002Fp\u003E\u003Cp\u003EПоследним ограничением выделим допустимое значение угла давления, превышение которого может привести к заклиниванию и самоторможению \u003Cabbr title=\"Теория механизмов и машин Тимофеев Г. А. 3-ие издание (книжка есть в моей библиотеке, ссылку давал в первой статье)\"\u003E🕮\u003C\u002Fabbr\u003E. В исследуемом механизме можно выделить несколько углов давления, но мы остановимся на наложении ограничений на один из них – угол между касательной к траектории движения конца рычага, вдоль которой направлена скорость, и штангой, вдоль которой направлена сила. Наглядно угол давления \u003Cimg class=\"formula inline\" source=\"ϑ\" alt=\"ϑ\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F866\u002F5a7\u002Ff52\u002F8665a7f52fb189e7ed527c30bf205c35.svg\"\u002F\u003E показан на рисунке:\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"756\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F9b8\u002Fcaa\u002F423\u002F9b8caa4239fae53cd8fad237d4f6c59b.png\" data-width=\"1357\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EДля его определения найдём координаты двух векторов \u003Cimg inline=\"true\" class=\"image image-inline\" src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"23\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F162\u002F8a1\u002Fd11\u002F1628a1d11d12cb802bdfac8d493cd49d.png\" data-width=\"10\"\u002F\u003E и \u003Cimg inline=\"true\" class=\"image image-inline\" src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"23\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F197\u002Fd3a\u002F2e5\u002F197d3a2e5843d045c8f3dba849ab0b44.png\" data-width=\"10\"\u002F\u003E. Если координаты первого вектора легко найти через координаты точек \u003Cem\u003EM\u003C\u002Fem\u003E и \u003Cem\u003EL\u003C\u002Fem\u003E, то для поиска второго вектора сначала нужно найти координаты точки \u003Cem\u003EQ'\u003C\u002Fem\u003E, повернув отрезок \u003Cem\u003EQL\u003C\u002Fem\u003E на 90° относительно точки \u003Cem\u003EL\u003C\u002Fem\u003E, чтобы получить касательную. В итоге, координаты векторов \u003Cimg inline=\"true\" class=\"image image-inline\" src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"23\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F3dd\u002Fa52\u002F413\u002F3dda52413a1b03d1455e9c04ac239483.png\" data-width=\"10\"\u002F\u003Eи \u003Cimg inline=\"true\" class=\"image image-inline\" src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"23\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fdf5\u002F7d3\u002F901\u002Fdf57d39016e8ce2744693d1b8bf28ee2.png\" data-width=\"10\"\u002F\u003E найдём по формулам:\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"(4)\" title=\"(4)\" height=\"68\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fc9c\u002Fd64\u002Fdd1\u002Fc9cd64dd1759a43b6a2cb9883d902e80.png\" data-width=\"478\"\u002F\u003E\u003Cfigcaption\u003E(4)\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EТеперь угол давления найдём как угол между векторами \u003Cimg inline=\"true\" class=\"image image-inline\" src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"23\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fef0\u002Fdb6\u002Fea2\u002Fef0db6ea2a90ea7a037bdb70cb73166f.png\" data-width=\"10\"\u002F\u003E и \u003Cimg inline=\"true\" class=\"image image-inline\" src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"23\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fd44\u002F1f7\u002Ff4a\u002Fd441f7f4aedbd2a3e9ea90928205ac8d.png\" data-width=\"10\"\u002F\u003E по формуле:\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"(5)\" title=\"(5)\" height=\"75\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fa16\u002F347\u002F480\u002Fa1634748086e6f81f43eefb2c4ffac98.png\" data-width=\"330\"\u002F\u003E\u003Cfigcaption\u003E(5)\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EЗабегая вперёд, следует отметить, что введённые ограничения делают форму рабочей области иной, чем во многих работах (\u003Cabbr title=\"Закиров Р.И., Алиев М.И., Морозов А.И. ОПРЕДЕЛЕНИЕ КИНЕМАТИЧЕСКИХ ХАРАКТЕРИСТИК ДЕЛЬТА-РОБОТА ПО ЗАДАННЫМ ПАРАМЕТРАМ РАБОЧЕЙ ОБЛАСТИ \u002F\u002F Электротехнические и информационные комплексы и системы, Т. 14, № 4, 2018. С. 11-16.\"\u003E🕮\u003C\u002Fabbr\u003E, \u003Cabbr title=\"Opl M., Holub M., Pavlík J., Bradáč F., Blecha P., Kozubík J., Coufal J. DELTA - Robot with Parallel Kinematics \u002F\u002F Mechatronics, Jan 2012. pp. 445-452.\"\u003E🕮\u003C\u002Fabbr\u003E, \u003Cabbr title=\"Gharahsofloo A., Rahmani A. An Efficient Algorithm for Workspace Generation of Delta Robot \u002F\u002F International Journal of Robotics, Vol. 5, No. 2, 2015. pp. 48-53.\"\u003E🕮\u003C\u002Fabbr\u003E и пр.). Эта особенность обусловлена тем, что очень часто авторы не накладывают никаких ограничений, а просто при построении варьируют углы рычагов в некотором диапазоне. А между тем, разница в форме и размерах получается существенная:\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"742\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F9ee\u002F8b3\u002F314\u002F9ee8b331449b83845c12175cfe52804f.png\" data-width=\"1474\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Ch3\u003EРеальная и требуемая рабочие зоны\u003C\u002Fh3\u003E\u003Cp\u003EРеальная рабочая зона дельта-робота имеет сложную форму, которую не ясно, как описать. Пример такой зоны представлен на рисунке ниже. Не менее затруднительно понять, подходит ли данная рабочая зона под конкретную задачу.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"729\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F63a\u002Fd41\u002F02e\u002F63ad4102e9acce1538803d3e64b82e0a.png\" data-width=\"1475\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EВ связи с этим форму рабочей зоны, которая будет фигурировать в документации на робота, выбирают более простой (желаемая или требуемая РЗ). Имея дело с рабочей зоной в виде кругового цилиндра или параллелепипеда, легко понять, подходит ли робот с такими параметрами под конкретную задачу. Довольно часто с целью минимизации участков неиспользованной реальной рабочей зоны желаемую рабочую зону представляют в виде совокупности простых фигур: цилиндра и усечённого конуса или цилиндра и части сферы.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"344\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F821\u002F742\u002F292\u002F8217422924dcca01e55fd5f3de6b5d2d.png\" data-width=\"1549\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EВыбор цилиндрической рабочей зоны также обоснован её «экономичностью». Иными словами, при наложении шарнирных ограничений, форма реальной рабочей зоны, зачастую, напоминает шестиугольную призму, ограниченную снизу и сверху сложными поверхностями. Цилиндр же в шестиугольную призму вписывается так, что оставшийся неиспользуемый объём реальной рабочей зоны остаётся мал.\u003C\u002Fp\u003E\u003Ch2\u003EРазмерный синтез\u003C\u002Fh2\u003E\u003Cp\u003EОдним из ключевых вопросов при проектировании дельта-робота является вопрос выбора длин звеньев. Иногда его называют \u003Cem\u003Eзадачей метрического синтеза\u003C\u002Fem\u003E или \u003Cem\u003Eразмерного синтеза\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\u003Cp\u003EВыбирая размеры звеньев механизма, можно брать в расчёт массу различных критериев. Не случайно перед этим вопросом мы рассмотрели вопрос построения рабочей зоны. Ведь, прежде всего, нам хотелось бы, чтобы выбранные размеры звеньев позволили роботу обслуживать желаемую рабочую зону. Потом, было бы здорово, чтобы габариты самого робота при этом были минимальными. Хорошо, чтобы при выбранной конфигурации ещё и моменты на приводах были поменьше, деформации элементов конструкции от высоких ускорений и перемещения полезной нагрузки тоже были незначительны.\u003C\u002Fp\u003E\u003Cp\u003EТак и вырастает задача метрического синтеза в задачу многокритериальной оптимизации, и люди пишут диссертации на эту тему \u003Cabbr title=\"Brinker J. Optimal design of functionally extended parallel robots with Delta-like architecture. Dissertation, RWTH Aachen University, 2018 (а вот её я найти не смог, с автором связаться тоже не получилось)\"\u003E🕮\u003C\u002Fabbr\u003E. И даже здесь авторы отмечают, что алгоритм выдаёт лишь ряд наиболее подходящих конфигурации, а выбирать конкретную всё равно приходится руководствуясь своим опытом и инженерной интуицией. Я формулировал задачу размерного синтеза как задачу оптимизации, в которой критерием оптимальности было достижение алгоритмом такой комбинации длин звеньев, при котором габариты робота будут минимальны, то есть минимизировал объём габаритного цилиндра:\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"722\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6c2\u002Fed8\u002F185\u002F6c2ed81850466d3d3f95639801faadd9.png\" data-width=\"957\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EНо этот подход не имеет никакой ценности, так как все остальные характеристики (динамическое, характеристики точности и пр.) дельта-робота не рассматривались.\u003C\u002Fp\u003E\u003Cp\u003EПоэтому здесь я расскажу о более простом методе выбора длин звеньев – методе подбора.\u003C\u002Fp\u003E\u003Cp\u003EМы будим сами задавать размеры звеньев и запускать алгоритм, который будет проверять, подходит ли данная конфигурация для обслуживания дельта-роботом желаемой рабочей зоны. Визуально можно будет оценить, насколько реальная рабочая зона больше требуемой, алгоритм также будет выдавать и итоговые габариты получившегося устройства. Найдя подходящую конфигурацию, можно будет оценить, насколько робот отличается по размерным пропорциям от предложенных на рынке. А потом, в следующих статьях, мы ещё и напишем алгоритм силового расчёта, который позволит оценить нагрузки на приводы и равномерность динамических характеристик по всему объёму рабочей зоны. Если нас что-то не устраивает – задаём другие размеры, запускаем алгоритм заново. Так повторяем, пока нас всё не устроит.\u003C\u002Fp\u003E\u003Cp\u003EИтак, по приведённому выше алгоритму можно построить реальную рабочую зону. Но как определить, помещается ли в неё желаемая зона?\u003C\u002Fp\u003E\u003Cp\u003EДля начала стоит решить, какую рабочую зону мы хотим видеть (выше я привёл три варианта). Далее нужно будет задать размеры этой зоны (они тоже отмечены на рисунках). Помимо этого, нужно указать координату дна цилиндра по оси \u003Cem\u003EZ\u003C\u002Fem\u003E. \u003C\u002Fp\u003E\u003Cp\u003EТогда, имея все входные данные, можно построить желаемую зону и распределить по ней точки для анализа:\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"578\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fbd5\u002Fb07\u002Fb03\u002Fbd5b07b034dd0e6c5f8702dcd49df0af.png\" data-width=\"1232\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EТочки для анализа распределяются по поверхности рабочей зоны. Теперь для каждой точки можно решить обратную задачу кинематики (заодно и проверить существование этого решения) и проверить все условия, которые проверялись для точек рабочей зоны при построении последней. Если все точки этим условиям удовлетворят, то можно сделать вывод, что данная желаемая рабочая зона в реальную вписывается.\u003C\u002Fp\u003E\u003Cp\u003EМожно заметить, что точки распределены не по всей поверхности, а по 1\u002F6 её части. Это связанно с симметрией робота. При любом анализе можно рассматривать лишь 1\u002F6 часть, отсчитываемую от плоскости \u003Cem\u003EYOZ\u003C\u002Fem\u003E в любую сторону на 60°.\u003C\u002Fp\u003E\u003Cp\u003EТакже в процессе расчёта полезно будет найти максимальный и минимальный углы \u003Cimg class=\"formula inline\" source=\"θ\" alt=\"θ\" src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fe9b\u002F757\u002Fce7\u002Fe9b757ce7af64b2c864b2c96b9b60486.svg\"\u002F\u003E, на который поворачивается рычаг. Это позволит нам при проектировании, возможно, смоделировать какие-то детали более массивными, где-то сэкономить, а также выбрать место для концевых выключателей, срабатывание которых будет давать системе управления информацию о текущем положении входных звеньев.\u003C\u002Fp\u003E\u003Ch2\u003EРеализация алгоритмов\u003C\u002Fh2\u003E\u003Cp\u003EЯ реализовал алгоритм построения рабочей области в MATLAB. Алгоритм состоит из двух файлов. В первом вводятся все исходные данные и запускается функция построения и расчётов.\u003C\u002Fp\u003E\u003Cdetails class=\"spoiler\"\u003E\u003Csummary\u003EФайл, где задаются входные данные и запускается алгоритм\u003C\u002Fsummary\u003E\u003Cdiv class=\"spoiler__content\"\u003E\u003Cpre\u003E\u003Ccode class=\"matlab\"\u003E%Объявляем глобальные переменные характерных размеров робота и констант\nglobal R_l R_r VM OQ cos120 sin120 cos240 sin240 %Размеры и константы\nglobal minTheta QG phiMax varthetaMax %Ограничения\nglobal WZ_D WZ_H WZ_Z WZ_a WZ_d WZ_h %Рабочая зона\nglobal stepTheta %Шаг изменения углов\nglobal minTheta_real maxTheta_real %Максимальный и минимальный углы рычагов\n%при движении в реальной рабочей области\nglobal minTheta_wish maxTheta_wish %Максимальный и минимальный углы рычагов\n%при движении в желаемой рабочей области\nglobal addSeg %Переменная, показывающая необходимость дополнительного\n%сегмента в рабочей зоне\nglobal status %Флаг свидетельствующий об удовлетворении условия нахождения\n%желаемой рабочей зоны в реальной рабочей зоне\n%поворота рычагов, которые могут быть с учёном ограничений\nglobal Dg Hg hg %Габаритные размеры почившегося робота\n\n%Вычисляем константы\ncos120 = cosd(120);\nsin120 = sind(120);\ncos240 = cosd(240);\nsin240 = sind(240);\n\n%Задаём размеры робота [мм]\nF = 270; %Длина стороны треугольника основания\nf = 80; %Длина стороны треугольника платформы\nR_l = 170;  %Длина рычагов (по осям)\nR_r = 320;  %Длина штанг (по осям)\n\n%Вычисляем радиусы вписанных окружностей\nOQ = F*sqrt(3)\u002F6; %Радиус окружности осей шарниров\nVM = f*sqrt(3)\u002F6; %Радиус окружности осей рычагов\n%Задаём ограничения\nminTheta = 135; %Минимальный угол поворота рычага\nQG = 50; %Вынос основания\nphiMax = 30; %Максимальный шарнирный угол\nvarthetaMax = 45; %Максимальный угол давления\n\n%Задаём характеристики желаемой рабочей зоны\naddSeg = 0; %Добавляемый к рабочей зоне сегмент. 0 - ничего; 1 - усечённый\n%конус; %2 - часть сферы\nWZ_D = 320; %Диаметр цилиндра рабочей зоны\nWZ_H = 150; %Высота цилиндра рабочей зоны\nWZ_Z = -390; %Координаты дна цилиндра рабочей зоны\nWZ_a = WZ_D*sqrt(2)\u002F2 %Сторона вписанного в основание цилиндра квадрата\nWZ_d = 100; %Диаметр нижней окружности усечённого конуса\nWZ_h = 50; %Высота добавляемой к РЗ части\n\n%Шаг изменения угла при расчётах (рекомендуется от 1 до 8\nstepTheta = 5;\n\n%Вызываем функцию построения и расчётов\nzoneBuilder;\n\n%Выводим рассчитанные перемепенные\nstatus %Если = 1, то желаемая РЗ вписывается в реальную\nminTheta_real %Минимальный угол рычага в реальной РЗ\nmaxTheta_real %Максимальный угол рычага в реальной РЗ\nif status\nminTheta_wish %Минимальный угол рычага в желаемой РЗ\nmaxTheta_wish %Максимальный угол рычага в желаемой РЗ\nDg %Диаметр габаритного цилиндра\nHg %Высота габаритного цилиндра\nend\nhg %Растояние от основания до верха габаритного цилиндра\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdetails\u003E\u003Cp\u003EВторой файл – это сам алгоритм расчётов и построения. Он получился довольно объёмным, но тот, кому это очень нужно, разберётся, где там что благодаря комментариям.\u003C\u002Fp\u003E\u003Cdetails class=\"spoiler\"\u003E\u003Csummary\u003EАлгоритм расчётов и построения\u003C\u002Fsummary\u003E\u003Cdiv class=\"spoiler__content\"\u003E\u003Cpre\u003E\u003Ccode class=\"matlab\"\u003E%Функция построения реальной и желаемой рабочих областей\n%дельта-робота\nfunction [] = zoneBuilder()\nglobal R_l R_r VM OQ cos120 sin120 cos240 sin240 %Размеры и константы\nglobal minTheta QG phiMax varthetaMax %Ограничения\nglobal WZ_D WZ_H WZ_Z WZ_a WZ_d WZ_h %Рабочая зона\nglobal stepTheta %Шаг изменения углов\nglobal minTheta_real maxTheta_real %Максимальный и минимальный углы рычагов\n%при движении в реальной рабочей области\nglobal minTheta_wish maxTheta_wish %Максимальный и минимальный углы рычагов\n%при движении в желаемой рабочей области\nglobal addSeg %Переменная, показывающая необходимость дополнительного\n%сегмента в рабочей зоне\nglobal status %Флаг свидетельствующий об удовлетворении условия нахождения\n%желаемой рабочей зоны в реальной рабочей зоне\n%поворота рычагов, которые могут быть с учёном ограничений\nglobal Dg Hg hg %Габаритные размеры почившегося робота\nmaxTheta = 270; %Максимальный угол для перебора\n\n%Задаём переменные максимальных и минимальных углов поворота рычагов,\n%которые могут быть с учёном ограничений\nminTheta_real = maxTheta;\nmaxTheta_real = minTheta;\n\nminTheta_wish = maxTheta;\nmaxTheta_wish = minTheta;\n\n\n%Подготовительные вычисления\ngammaMin = asind(QG\u002FR_l);\ngammaMax = 180;\n%Создаём вектор с одной нулевой точкой (потом её удалим)\nV_RZ = [0, 0, 0];\n\n%Создаём цикл перебора всех возможных комбинаций углов поворота рычагов\nfor Theta1 = minTheta:stepTheta:maxTheta\n    for Theta2 = minTheta:stepTheta:maxTheta\n        for Theta3 = minTheta:stepTheta:maxTheta\n            %Вызываем функцию, решающую ПЗК\n            [V] = PZK(Theta1, Theta2, Theta3);\n            X_V = V(1); Y_V = V(2); Z_V = V(3);\n            %Вычисляем координаты точек в системах координат XOY\n            %X120Y120Z120 и X240Y240Z240\n            X_Q1 = 0;\n            Y_Q1 = -OQ;\n            Z_Q1 = 0;\n            X_L1 = 0;\n            Y_L1 = -(OQ + R_l*sind(Theta1-90));\n            Z_L1 =  R_l*cosd(Theta1-90);\n            X_M1 = X_V;\n            Y_M1 = Y_V - VM;\n            Z_M1 = Z_V;\n                X_V_120 = X_V*cos120 - Y_V*sin120;\n                Y_V_120 = X_V*sin120 + Y_V*cos120;\n                Z_V_120 = Z_V;\n                X_Q2_120 = 0;\n                Y_Q2_120 = -OQ;\n                Z_Q2_120 = 0;\n                X_L2_120 = 0;\n                Y_L2_120 = -(OQ + R_l*sind(Theta2-90));\n                Z_L2_120 =  R_l*cosd(Theta2-90);\n                X_M2_120 = X_V_120;\n                Y_M2_120 = Y_V_120 - VM;\n                Z_M2_120 = Z_V_120;\n                    X_V_240 = X_V*cos240 - Y_V*sin240;\n                    Y_V_240 = X_V*sin240 + Y_V*cos240;\n                    Z_V_240 = Z_V;\n                    X_Q3_240 = 0;\n                    Y_Q3_240 = -OQ;\n                    Z_Q3_240 = 0;\n                    X_L3_240 = 0;\n                    Y_L3_240 = -(OQ + R_l*sind(Theta3-90));\n                    Z_L3_240 =  R_l*cosd(Theta3-90);\n                    X_M3_240 = X_V_240;\n                    Y_M3_240 = Y_V_240 - VM;\n                    Z_M3_240 = Z_V_240;\n            %Собираем это в вектора\n            Q1 = [X_Q1, Y_Q1, Z_Q1];\n            L1 = [X_L1, Y_L1, Z_L1];\n            M1 = [X_M1, Y_M1, Z_M1];\n            V_120 = [X_V_120, Y_V_120, Z_V_120];\n            Q2_120 = [X_Q2_120, Y_Q2_120, Z_Q2_120];\n            L2_120 = [X_L2_120, Y_L2_120, Z_L2_120];\n            M2_120 = [X_M2_120, Y_M2_120, Z_M2_120];\n            V_240 = [X_V_240, Y_V_240, Z_V_240];\n            Q3_240 = [X_Q3_240, Y_Q3_240, Z_Q3_240];\n            L3_240 = [X_L3_240, Y_L3_240, Z_L3_240];\n            M3_240 = [X_M3_240, Y_M3_240, Z_M3_240];\n            %Вычисляем координаты точек N1 N2 N3\n            N1 = [L1(1); M1(2); V(3)];\n            N2_120 = [L2_120(1); M2_120(2); V_120(3)];\n            N3_240 = [L3_240(1); M3_240(2); V_240(3)];\n            %------Проверяем ограничения------%\n            % 1 Проверяем отсутствие пересечений\n            gamma1 = 180-acosd(-L1(3)\u002FR_l)-asind((N1(2)-L1(2))\u002FR_r);\n            gamma2 = 180-acosd(-L2_120(3)\u002FR_l)-asind((N2_120(2)-L2_120(2))\u002FR_r);\n            gamma3 = 180-acosd(-L3_240(3)\u002FR_l)-asind((N3_240(2)-L3_240(2))\u002FR_r);\n            if (gamma1 &lt; gammaMax) &amp;&amp; (gamma1 \u003E gammaMin) &amp;&amp; (gamma2 &lt; gammaMax) &amp;&amp; (gamma2 \u003E gammaMin) &amp;&amp; (gamma3 &lt; gammaMax) &amp;&amp; (gamma3 \u003E gammaMin)\n                % 2 Проверяем, могут ли трёхподвижные шарниры позволить механизму принять\n                % такое положение\n                varphi1 = asind(abs(V(1))\u002FR_r);\n                varphi2 = asind(abs(V_120(1))\u002FR_r);\n                varphi3 = asind(abs(V_240(1))\u002FR_r);\n                if (varphi1&lt;phiMax) &amp;&amp; (varphi2&lt;phiMax) &amp;&amp; (varphi3&lt;phiMax)\n                    % 3 Проверяем, не превышают ли углы давления заданное\n                    % максимальное значение\n                    p1 = [M1(1)-L1(1); M1(2)-L1(2); M1(3)-L1(3)];\n                    q1 = [0; L1(3)-Q1(3); Q1(2)-L1(2)];\n                    vartheta1 = acosd(abs(p1(1)*q1(1)+p1(2)*q1(2)+p1(3)*q1(3))\u002F(sqrt(p1(1)^2+p1(2)^2+p1(3)^2)*sqrt(q1(1)^2+q1(2)^2+q1(3)^2)));\n                    p2 = [M2_120(1)-L2_120(1); M2_120(2)-L2_120(2); M2_120(3)-L2_120(3)];\n                    q2 = [0; L2_120(3)-Q2_120(3); Q2_120(2)-L2_120(2)];\n                    vartheta2 = acosd(abs(p2(1)*q2(1)+p2(2)*q2(2)+p2(3)*q2(3))\u002F(sqrt(p2(1)^2+p2(2)^2+p2(3)^2)*sqrt(q2(1)^2+q2(2)^2+q2(3)^2)));\n                    p3 = [M3_240(1)-L3_240(1); M3_240(2)-L3_240(2); M3_240(3)-L3_240(3)];\n                    q3 = [0; L3_240(3)-Q3_240(3); Q3_240(2)-L3_240(2)];\n                    vartheta3 = acosd(abs(p3(1)*q3(1)+p3(2)*q3(2)+p3(3)*q3(3))\u002F(sqrt(p3(1)^2+p3(2)^2+p3(3)^2)*sqrt(q3(1)^2+q3(2)^2+q3(3)^2)));\n                    if (vartheta1&lt;varthetaMax) &amp;&amp; (vartheta2&lt;varthetaMax) &amp;&amp; (vartheta3&lt;varthetaMax)\n                        %Если все условия выполнены - добавляем точку в\n                        %вектор облака точек реальной РЗ\n                        V_RZ = cat(1, V_RZ, V);\n                        %Находим максимальный и минимальный углы поворота рычагов,\n                        %которые могут быть с учёном ограничений\n                        minTheta_real = min([minTheta_real, Theta1, Theta2, Theta3]);\n                        maxTheta_real = max([maxTheta_real, Theta1, Theta2, Theta3]);\n                    end\n                end\n            end\n        end\n    end\nend\n\n%Удаляем первую нулевую точку\nV_RZ(1,:) = [];\n%Находим какие точки в нашем облаке являются граничными и создаём\n%группы по 3 точки, которые будем соединять треугольниками (для\n%образования поверхности)\n[K] = boundary(V_RZ);\n\n%Находим точки для построения цилиндра\n%Крышка\nt = linspace(0, 2*pi, 50);\nXo1 = (WZ_D\u002F2) * cos(t);\nYo1 = (WZ_D\u002F2) * sin(t);\nZo1 = ones(1, 50)*(WZ_Z+WZ_H);\nZo2 = ones(1, 50)*WZ_Z;\n%Цилиндрическая поверхность\n[Xc,Yc,Zc] = cylinder((WZ_D\u002F2), 50);\nZc = Zc*WZ_H+WZ_Z;\n\n%Находим точки для построения параллелепипеда\nXp = [0 WZ_a WZ_a 0 0 WZ_a WZ_a 0];\nYp = [0 0 WZ_a WZ_a 0 0 WZ_a WZ_a] ;\nZp = Xp'*Xp*Yp'*Yp\u002FWZ_a^2\u002FWZ_a^2*WZ_H\u002F2 + WZ_Z;\nXp = Xp - WZ_a\u002F2;\nYp = Yp - WZ_a\u002F2;\n\n%Отрисовка рабочих зон\n\n%Отображаем реальную РЗ\np1 = trisurf(K,V_RZ(:,1),V_RZ(:,2),V_RZ(:,3),'Facecolor','red', 'FaceAlpha',0.2);\nhold('on');\n%Отображаем крышку и боковую поверхность цилиндра\np2 = patch(Xo1, Yo1, Zo1, 'c', 'FaceAlpha',0.5);\np3 = surf(Xc,Yc,Zc, 'FaceColor', 'c',  'FaceAlpha',0.5);\n%Отображаем параллелепипед\np4 = surf(Xp, Yp, Zp, 'FaceColor', 'g', 'FaceAlpha', 0.2);\np4.Visible = 0; %Скрываем\n%Отображаем дополнительные сегменты, если нужно\nif addSeg == 0\n    %Дно цилиндра\n    p5 = patch(Xo1, Yo1, Zo2, 'c', 'FaceAlpha',0.5);\nend\nif addSeg == 1\n    %Дно усечённого конуса\n    t = linspace(0, 2*pi, 50);\n    Xo2 = (WZ_d\u002F2) * cos(t);\n    Yo2 = (WZ_d\u002F2) * sin(t);\n    p6 = patch(Xo2, Yo2, Zo2-WZ_h, 'c', 'FaceAlpha',0.5);\n    %Коническая поверхность\n    [Xco,Yco,Zco] = cylinder([(WZ_d\u002F2), (WZ_D\u002F2)], 50);\n    Zco = Zco*WZ_h+WZ_Z-WZ_h;\n    p7 = surf(Xco,Yco,Zco, 'FaceColor', 'c',  'FaceAlpha',0.5);\nend\nif addSeg == 2\n    %Сферическая поверхность\n    thetta = linspace(pi-asin((WZ_D\u002F2)\u002F(WZ_d\u002F2)), pi, 50);\n    phi = linspace(0, 2*pi, 50);\n    [THETTA, PHI] = meshgrid(thetta, phi);\n    Xsph = (WZ_d\u002F2)*sin(THETTA).*cos(PHI);\n    Ysph = (WZ_d\u002F2)*sin(THETTA).*sin(PHI);\n    Zsph = (WZ_Z+(WZ_d\u002F2-WZ_h))+(WZ_d\u002F2)*cos(THETTA);\n    p8 = surf(Xsph,Ysph,Zsph, 'FaceColor', 'c',  'FaceAlpha',0.5);\nend\n%Настраиваем отображение\nhold('off');\naxis('equal');\nxlabel('x, мм');\nylabel('y, мм');\nzlabel('z, мм');\ntitle('Рабочие зоны механизма');\n%legend('Реальная РЗ', 'Требуемая РЗ');\nview([-30 , 20]);\ngrid('on');\n\n%Проверяем, подходит ли данная конфигурация робота под желаемую рабочую\n%зону\n%Формируем массив точек для проверки\n%Точки крышки цилиндра\n[t, r] = meshgrid(linspace(-pi\u002F2, -pi\u002F2-pi\u002F3, 10), linspace(0, WZ_D\u002F2,10));\n[Xtc, Ytc] = pol2cart(t,r);\nZtc = ones(10, 10)*(WZ_Z+WZ_H);\n%Точки боковой поверхности цилиндра\n[t,r] = meshgrid(linspace(-pi\u002F2, -pi\u002F2-pi\u002F3, 10), WZ_D\u002F2);\n[Xmv, Ymv] = pol2cart(t,r);\nmv = linspace(WZ_Z, WZ_Z+WZ_H, 10);\nfor k = 2:9\n    Xss((k-1)*10-9:(k-1)*10) = Xmv;\n    Yss((k-1)*10-9:(k-1)*10) = Ymv;\n    Zss((k-1)*10-9:(k-1)*10) = ones(1, 10)*mv(k);\nend\nif addSeg == 0\n    %Точки дна цилиндра\n    [t, r] = meshgrid(linspace(-pi\u002F2, -pi\u002F2-pi\u002F3, 10), linspace(0, WZ_D\u002F2,10));\n    [Xbc, Ybc] = pol2cart(t,r);\n    Zbc = ones(10, 10)*(WZ_Z);\n    %Формируем итоговый вектор точек\n    PointsToBeChecked_X = [reshape(Xtc',1,[]), reshape(Xss',1,[]), reshape(Xbc',1,[])];\n    PointsToBeChecked_Y = [reshape(Ytc',1,[]), reshape(Yss',1,[]), reshape(Ybc',1,[])];\n    PointsToBeChecked_Z = [reshape(Ztc',1,[]), reshape(Zss',1,[]), reshape(Zbc',1,[])];\nend\nif addSeg == 1\n    %Точки дна конуса\n    [t, r] = meshgrid(linspace(-pi\u002F2, -pi\u002F2-pi\u002F3, 10), linspace(0, WZ_d\u002F2,10));\n    [Xbco, Ybco] = pol2cart(t,r);\n    Zbco = ones(10, 10)*(WZ_Z-WZ_h);\n    %Точки боковой поверхности конуса\n    mv = linspace(WZ_Z-WZ_h, WZ_Z, 10);\n    mvD = linspace(WZ_d, WZ_D, 10);\n    for k = 2:10\n        [t,r] = meshgrid(linspace(-pi\u002F2, -pi\u002F2-pi\u002F3, 10), mvD(k)\u002F2);\n        [Xmv, Ymv] = pol2cart(t,r);\n        Xssco((k-1)*10-9:(k-1)*10) = Xmv;\n        Yssco((k-1)*10-9:(k-1)*10) = Ymv;\n        Zssco((k-1)*10-9:(k-1)*10) = ones(1, 10)*mv(k);\n    end\n    %Формируем итоговый вектор точек\n    PointsToBeChecked_X = [reshape(Xtc',1,[]), reshape(Xss',1,[]), reshape(Xbco',1,[]), reshape(Xssco',1,[])];\n    PointsToBeChecked_Y = [reshape(Ytc',1,[]), reshape(Yss',1,[]), reshape(Ybco',1,[]), reshape(Yssco',1,[])];\n    PointsToBeChecked_Z = [reshape(Ztc',1,[]), reshape(Zss',1,[]), reshape(Zbco',1,[]), reshape(Zssco',1,[])];\nend\nif addSeg == 2\n    %Точки сферы\n    thetta = linspace(pi-asin((WZ_D\u002F2)\u002F(WZ_d\u002F2)), pi, 10);\n    phi = linspace(-pi\u002F2, -pi\u002F2-pi\u002F3, 10);\n    [THETTA, PHI] = meshgrid(thetta, phi);\n    Xsph = (WZ_d\u002F2)*sin(THETTA).*cos(PHI);\n    Ysph = (WZ_d\u002F2)*sin(THETTA).*sin(PHI);\n    Zsph = (WZ_Z+(WZ_d\u002F2-WZ_h))+(WZ_d\u002F2)*cos(THETTA);\n    %Формируем итоговый вектор точек\n    PointsToBeChecked_X = [reshape(Xtc',1,[]), reshape(Xss',1,[]), reshape(Xsph',1,[])];\n    PointsToBeChecked_Y = [reshape(Ytc',1,[]), reshape(Yss',1,[]), reshape(Ysph',1,[])];\n    PointsToBeChecked_Z = [reshape(Ztc',1,[]), reshape(Zss',1,[]), reshape(Zsph',1,[])];\nend\n\n% %Показываем точки для анализа\n% hold('on');\n% plot3(PointsToBeChecked_X,PointsToBeChecked_Y, PointsToBeChecked_Z, '.r');\n% hold('off');\n    \n%Проверяем каждую точку на условие нахождения её в реальной рабочей зоне\n%Задаём начальный вектор статуса (ни одна точка не подходит)\nstt(1:size(PointsToBeChecked_X, 2)) = 0;\nfor k=1:size(PointsToBeChecked_X, 2)\n    %Вызываем функцию, решающую ПЗК\n    [vectTheta] = OZK(PointsToBeChecked_X(k), PointsToBeChecked_Y(k), PointsToBeChecked_Z(k));\n    Theta1 = vectTheta(1); Theta2 = vectTheta(2); Theta3 = vectTheta(3);\n    X_V = PointsToBeChecked_X(k); Y_V = PointsToBeChecked_Y(k); Z_V = PointsToBeChecked_Z(k);\n    if imag(vectTheta) == [0, 0, 0]\n        %Вычисляем координаты точек в системах координат XOY\n        %X120Y120Z120 и X240Y240Z240\n        X_Q1 = 0;\n        Y_Q1 = -OQ;\n        Z_Q1 = 0;\n        X_L1 = 0;\n        Y_L1 = -(OQ + R_l*sind(Theta1-90));\n        Z_L1 =  R_l*cosd(Theta1-90);\n        X_M1 = X_V;\n        Y_M1 = Y_V - VM;\n        Z_M1 = Z_V;\n        X_V_120 = X_V*cos120 - Y_V*sin120;\n        Y_V_120 = X_V*sin120 + Y_V*cos120;\n        Z_V_120 = Z_V;\n        X_Q2_120 = 0;\n        Y_Q2_120 = -OQ;\n        Z_Q2_120 = 0;\n        X_L2_120 = 0;\n        Y_L2_120 = -(OQ + R_l*sind(Theta2-90));\n        Z_L2_120 =  R_l*cosd(Theta2-90);\n        X_M2_120 = X_V_120;\n        Y_M2_120 = Y_V_120 - VM;\n        Z_M2_120 = Z_V_120;\n        X_V_240 = X_V*cos240 - Y_V*sin240;\n        Y_V_240 = X_V*sin240 + Y_V*cos240;\n        Z_V_240 = Z_V;\n        X_Q3_240 = 0;\n        Y_Q3_240 = -OQ;\n        Z_Q3_240 = 0;\n        X_L3_240 = 0;\n        Y_L3_240 = -(OQ + R_l*sind(Theta3-90));\n        Z_L3_240 =  R_l*cosd(Theta3-90);\n        X_M3_240 = X_V_240;\n        Y_M3_240 = Y_V_240 - VM;\n        Z_M3_240 = Z_V_240;\n        %Собираем это в вектора\n        Q1 = [X_Q1, Y_Q1, Z_Q1];\n        L1 = [X_L1, Y_L1, Z_L1];\n        M1 = [X_M1, Y_M1, Z_M1];\n        V_120 = [X_V_120, Y_V_120, Z_V_120];\n        Q2_120 = [X_Q2_120, Y_Q2_120, Z_Q2_120];\n        L2_120 = [X_L2_120, Y_L2_120, Z_L2_120];\n        M2_120 = [X_M2_120, Y_M2_120, Z_M2_120];\n        V_240 = [X_V_240, Y_V_240, Z_V_240];\n        Q3_240 = [X_Q3_240, Y_Q3_240, Z_Q3_240];\n        L3_240 = [X_L3_240, Y_L3_240, Z_L3_240];\n        M3_240 = [X_M3_240, Y_M3_240, Z_M3_240];\n        %Вычисляем координаты точек N1 N2 N3\n        N1 = [L1(1); M1(2); V(3)];\n        N2_120 = [L2_120(1); M2_120(2); V_120(3)];\n        N3_240 = [L3_240(1); M3_240(2); V_240(3)];\n        %------Проверяем ограничения------%\n        % 1 Проверяем отсутствие пересечений\n        gamma1 = 180-acosd(-L1(3)\u002FR_l)-asind((N1(2)-L1(2))\u002FR_r);\n        gamma2 = 180-acosd(-L2_120(3)\u002FR_l)-asind((N2_120(2)-L2_120(2))\u002FR_r);\n        gamma3 = 180-acosd(-L3_240(3)\u002FR_l)-asind((N3_240(2)-L3_240(2))\u002FR_r);\n        if (gamma1 &lt; gammaMax) &amp;&amp; (gamma1 \u003E gammaMin) &amp;&amp; (gamma2 &lt; gammaMax) &amp;&amp; (gamma2 \u003E gammaMin) &amp;&amp; (gamma3 &lt; gammaMax) &amp;&amp; (gamma3 \u003E gammaMin)\n            % 2 Проверяем, могут ли трёхподвижные шарниры позволить механизму принять\n            % такое положение\n            varphi1 = asind(abs(V(1))\u002FR_r);\n            varphi2 = asind(abs(V_120(1))\u002FR_r);\n            varphi3 = asind(abs(V_240(1))\u002FR_r);\n            if (varphi1&lt;phiMax) &amp;&amp; (varphi2&lt;phiMax) &amp;&amp; (varphi3&lt;phiMax)\n                % 3 Проверяем, не превышают ли углы давления заданное\n                % максимальное значение\n                p1 = [M1(1)-L1(1); M1(2)-L1(2); M1(3)-L1(3)];\n                q1 = [0; L1(3)-Q1(3); Q1(2)-L1(2)];\n                vartheta1 = acosd(abs(p1(1)*q1(1)+p1(2)*q1(2)+p1(3)*q1(3))\u002F(sqrt(p1(1)^2+p1(2)^2+p1(3)^2)*sqrt(q1(1)^2+q1(2)^2+q1(3)^2)));\n                p2 = [M2_120(1)-L2_120(1); M2_120(2)-L2_120(2); M2_120(3)-L2_120(3)];\n                q2 = [0; L2_120(3)-Q2_120(3); Q2_120(2)-L2_120(2)];\n                vartheta2 = acosd(abs(p2(1)*q2(1)+p2(2)*q2(2)+p2(3)*q2(3))\u002F(sqrt(p2(1)^2+p2(2)^2+p2(3)^2)*sqrt(q2(1)^2+q2(2)^2+q2(3)^2)));\n                p3 = [M3_240(1)-L3_240(1); M3_240(2)-L3_240(2); M3_240(3)-L3_240(3)];\n                q3 = [0; L3_240(3)-Q3_240(3); Q3_240(2)-L3_240(2)];\n                vartheta3 = acosd(abs(p3(1)*q3(1)+p3(2)*q3(2)+p3(3)*q3(3))\u002F(sqrt(p3(1)^2+p3(2)^2+p3(3)^2)*sqrt(q3(1)^2+q3(2)^2+q3(3)^2)));\n                if (vartheta1&lt;varthetaMax) &amp;&amp; (vartheta2&lt;varthetaMax) &amp;&amp; (vartheta3&lt;varthetaMax)\n                    %Если все условия выполнены - добавляем точку в\n                    %вектор облака точек реальной РЗ\n                    stt(k) = 1;\n                    %Находим максимальный и минимальный углы поворота рычагов,\n                    %которые могут быть с учёном ограничений\n                    minTheta_wish = min([minTheta_wish, Theta1, Theta2, Theta3]);\n                    maxTheta_wish = max([maxTheta_wish, Theta1, Theta2, Theta3]);\n                end\n            end\n        end\n    end\nend\nif min(stt) == 1\n    status = 1;\n    Dg = (OQ+R_l)*2;\n    hg = R_l*sind(180-minTheta_wish);\n    if hg &lt; 0\n        hg = 0;\n    end\n    Hg = hg - WZ_Z;\nelse\n    status = 0;\nend\nend\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdetails\u003E\u003Cp\u003EПоказать максимально наглядно рабочую зону помогает встроенная функция «boundary», которая среди предложенных точек выберет только те, которые являются граничными для трёхмерной области. Достоинством данной функции является возможность определять не только выпуклые, но и вогнутые участки граничной поверхности, что в рамках решаемой задачи необходимо.\u003C\u002Fp\u003E\u003Cp\u003EТакже, в расчётах используются функции, которые я давал в предыдущей статье. Так что их нужно \"упаковать\" в файлы и расположить в директории с этим алгоритмом.\u003C\u002Fp\u003E\u003Cp\u003EБонусом накинем алгоритм для построения робота:\u003C\u002Fp\u003E\u003Cdetails class=\"spoiler\"\u003E\u003Csummary\u003EВот он\u003C\u002Fsummary\u003E\u003Cdiv class=\"spoiler__content\"\u003E\u003Cpre\u003E\u003Ccode class=\"matlab\"\u003E%Строит схаматично дельта-робота на графике\nfunction [] = drawDelta(dim, V, Theta)\nf = dim(1);    %Длина стороны треугольника платформы\nF = dim(2);    %Длина стороны треугольника основания\nR_l = dim(3);  %Длина рычагов (по осям)\nR_r = dim(4);  %Длина штанг (по осям)\nX_V = V(1); Y_V = V(2); Z_V = V(3); %Координаты точки V\nTheta1 = Theta(1); Theta2 = Theta(2); Theta3 = Theta(3); %Углы поворота рычагов\n\n%Находим все точки для построения механизма\n%Подготовительные действия\nglobal cos120 sin120 cos240 sin240\nVM = f*sqrt(3)\u002F6;\nOQ = F*sqrt(3)\u002F6;\n%Находим крайние точки рычагов и плеч\nX_Q1 = 0;\nY_Q1 = -OQ;\nZ_Q1 = 0;\nX_L1 = 0;\nY_L1 = -(OQ + R_l*sind(Theta1-90));\nZ_L1 =  R_l*cosd(Theta1-90);\nX_M1 = X_V;\nY_M1 = Y_V - VM;\nZ_M1 = Z_V;\n    X_Q2 = -Y_Q1*sin120;\n    Y_Q2 = Y_Q1*cos120;\n    Z_Q2 = 0;\n    X_L2 = (OQ + R_l*sind(Theta2-90))*sin120;\n    Y_L2 = -(OQ + R_l*sind(Theta2-90))*cos120;\n    Z_L2 =  R_l*cosd(Theta2-90);\n    X_M2 = X_V - (-VM)*sin120;\n    Y_M2 = Y_V + (-VM)*cos120;\n    Z_M2 = Z_V;\n        X_Q3 = -Y_Q1*sin240;\n        Y_Q3 = Y_Q1*cos240;\n        Z_Q3 = 0;\n        X_L3 = (OQ + R_l*sind(Theta3-90))*sin240;\n        Y_L3 = -(OQ + R_l*sind(Theta3-90))*cos240;\n        Z_L3 =  R_l*cosd(Theta3-90);\n        X_M3 = X_V - (-VM)*sin240;\n        Y_M3 = Y_V + (-VM)*cos240;\n        Z_M3 = Z_V;\n%Находим точки треугольника основания\nA = [-F\u002F2, -OQ, 0];\nB = [F\u002F2, A(2), 0];\nC = [0, F\u002Fsqrt(3), 0];\n%Находим точки треугольника каретки\nAn = [X_V-(f\u002F2), Y_V-VM, Z_V];\nBn = [X_V+(f\u002F2), Y_V-VM, Z_V];\nCn = [X_V, Y_V+f\u002Fsqrt(3), Z_V];\n%Формирование выходных векторов для построения\nBaseTri = [A(1) B(1) C(1); A(2) B(2) C(2); A(3) B(3) C(3)];\nCarTri = [An(1) Bn(1) Cn(1); An(2) Bn(2) Cn(2); An(3) Bn(3) Cn(3)];\nPl1 = [X_Q1 X_L1 X_M1; Y_Q1 Y_L1 Y_M1; Z_Q1 Z_L1 Z_M1];\nPl2 = [X_Q2 X_L2 X_M2; Y_Q2 Y_L2 Y_M2; Z_Q2 Z_L2 Z_M2];\nPl3 = [X_Q3 X_L3 X_M3; Y_Q3 Y_L3 Y_M3; Z_Q3 Z_L3 Z_M3];\n\n%Построение робота\ncla;\npatch(BaseTri(1, :), BaseTri(2, :), BaseTri(3, :), 'c', 'FaceAlpha',0.7);\nhold('on');\npatch(CarTri(1, :), CarTri(2, :), CarTri(3, :), 'm', 'FaceAlpha',0.7);\nplot3(Pl1(1, :), Pl1(2, :), Pl1(3, :), 'LineWidth', 1.5, 'Color', 'b');\nplot3(Pl2(1, :), Pl2(2, :), Pl2(3, :), 'LineWidth', 1.5, 'Color', 'b');\nplot3(Pl3(1, :), Pl3(2, :), Pl3(3, :), 'LineWidth', 1.5, 'Color', 'b');\nxlabel('x, мм');\nylabel('y, мм');\nzlabel('z, мм');\ntitle('Вид робота');\nview([ -30 , 20 ]);\naxis('equal');\ngrid('on');\nhold('off');\nend\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdetails\u003E\u003Cp\u003EЕму на вход нужна дать размеры работа, координаты центра исполнительно звена и углы, соответствующие этому положению (решение обратной задачи кинематики).\u003C\u002Fp\u003E\u003Cp\u003EМожно, конечно, обернуть всё это дело в приложение с графическим интерфейсом:\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"814\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff1b\u002Fb54\u002F21d\u002Ff1bb5421d3060c762c0982ced2ebf510.png\" data-width=\"1352\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EНо его я пока дать не готов.\u003C\u002Fp\u003E\u003Ch2\u003EИтог\u003C\u002Fh2\u003E\u003Cp\u003EЯ постарался изложить свой взгляд на построение рабочей зоны дельта-робота, свой взгляд на выбор длин звеньев этого механизма. Жалующие легко соберут (но небольшой навык работы в MATLAB всё же нужен) все алгоритмы, которые я дал, в комплект файлов для расчётов и построений.\u003C\u002Fp\u003E\u003Cp\u003EВ следующей статье будем разбирать вопрос выбора приводов. Будет не очень приятная математика, но я постараюсь сгладить это своими пояснениями. До новых встреч.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"дельта-робот"},{"titleHtml":"рабочая зона"},{"titleHtml":"манипулятор"},{"titleHtml":"метрический синтез"},{"titleHtml":"выбор размеров звеньев робота"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F0de\u002F69e\u002F27f\u002F0de69e27f3d8f407ac2bd60c407e8da8.png","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F0de\u002F69e\u002F27f\u002F0de69e27f3d8f407ac2bd60c407e8da8.png","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F583190\\\u002F\"},\"headline\":\"Заметки о дельта-роботе. Часть 3. Рабочая зона. Выбор длин звеньев\",\"datePublished\":\"2021-10-13T13:00:55+03:00\",\"dateModified\":\"2021-10-14T00:57:09+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"multiengineer\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"В прошлых статьях мы познакомились с механизмом, узнали его историю, решили, пожалуй, главную для дельта-робота задачу &ndash; задачу о положениях, но так и не получил...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F583190\\\u002F#post-content-body\",\"about\":[\"h_robo_dev\",\"h_robot\",\"f_develop\",\"f_popsci\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F583190\\\u002Feda2fdfd98667554c663f0dd08e7f7b8\\\u002F\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fd02\\\u002F0fa\\\u002Fdda\\\u002Fd020faddad20aff2ce8c8d600efb1eb9.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F5fa\\\u002Fe5f\\\u002Fee8\\\u002F5fae5fee8b5def6ec7dadc3752d8bce5.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fc1e\\\u002Faa2\\\u002F22f\\\u002Fc1eaa222f2a99613a5717de060b6aa4a.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Ffe6\\\u002F0c2\\\u002F1cc\\\u002Ffe60c21cc5ff14bc3711fa2a15baf4cb.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F1bd\\\u002F4a7\\\u002F209\\\u002F1bd4a72093aeacbd144a2d33f862b767.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F25c\\\u002F49a\\\u002F827\\\u002F25c49a82763f4962c89e3783340b8ff0.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F869\\\u002F5f5\\\u002Fc26\\\u002F8695f5c26e8ac1f787f07a483c98f529.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Faca\\\u002F545\\\u002F7cc\\\u002Faca5457cc2d6d772c072b8c5a92dbf19.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F8d8\\\u002F651\\\u002F0ea\\\u002F8d86510ea417d8f0aa369b710a9d0ce2.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F88f\\\u002F1ca\\\u002Ff5a\\\u002F88f1caf5a3ca8b6aaf6498b1b4345607.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F093\\\u002F6a5\\\u002Fd2a\\\u002F0936a5d2a9fb71dfda0ae3e136bd4b32.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F651\\\u002Fec0\\\u002F317\\\u002F651ec03175968327474f039b51243f2e.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F326\\\u002F9b7\\\u002F947\\\u002F3269b794728736412bd01f136d9bb16a.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F391\\\u002F7ee\\\u002Ffd4\\\u002F3917eefd4a2dd42975d52d442eaab1b1.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fa60\\\u002Fb61\\\u002Fc74\\\u002Fa60b61c7419d8252f9990627e5b4a766.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fd4a\\\u002F8e3\\\u002Fa38\\\u002Fd4a8e3a3846476419da3c60b7a29ae6c.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fcc1\\\u002Ff37\\\u002Fde0\\\u002Fcc1f37de090e1fe7b301ab38f2e9b87e.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fc9d\\\u002F65a\\\u002F707\\\u002Fc9d65a707991b97fb418595a09d8506c.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F746\\\u002Fe9d\\\u002F1dd\\\u002F746e9d1ddc820dba1cb704c97032fb9a.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fffc\\\u002F4e4\\\u002F29c\\\u002Fffc4e429c7977ab093c6c27a63dbe0e5.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F4b3\\\u002F1da\\\u002F77b\\\u002F4b31da77b7d71632436300f4a9f7c8b5.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fe71\\\u002Fdcd\\\u002F47e\\\u002Fe71dcd47e8c60ba9d2e825050212d702.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F219\\\u002Fdf9\\\u002F3ea\\\u002F219df93ea33c6c0d573ab67788cac3f5.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fbd1\\\u002F95c\\\u002F6a0\\\u002Fbd195c6a001f3632ea3b58d1507ac554.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F354\\\u002F723\\\u002F8bc\\\u002F3547238bc8a42328fb00fb3a7bfbef01.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fe76\\\u002F6b4\\\u002Fdfb\\\u002Fe766b4dfbb34d479b85caa665e05a75c.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fa26\\\u002Fc02\\\u002Fc13\\\u002Fa26c02c1325d1c6a5f180669437d6ca1.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fcb3\\\u002Fa18\\\u002Fbbe\\\u002Fcb3a18bbe40bbbe5c6defb8cc619e26e.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F655\\\u002Fe5a\\\u002F94d\\\u002F655e5a94d8eed7ab1a24e28df71d4006.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F6ae\\\u002F780\\\u002F993\\\u002F6ae780993a4fe1b88d662b9f32ca7f4c.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Ff58\\\u002F846\\\u002Fc47\\\u002Ff58846c47b2db941a49ce12c7586ed0f.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F64f\\\u002F24a\\\u002F5fb\\\u002F64f24a5fbf8895affe4063501040eb40.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F917\\\u002Fce5\\\u002Fbc5\\\u002F917ce5bc532275d0662937dc4bd4c2b5.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F105\\\u002Ff6e\\\u002Fb02\\\u002F105f6eb02a028fbe1e5716e5449b29fe.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F3bd\\\u002F71b\\\u002Ffb7\\\u002F3bd71bfb70a8192b4ac90d907cceb6f8.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F417\\\u002F14e\\\u002F80e\\\u002F41714e80eda7326457611f5f5e914ad1.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F7e7\\\u002Fb0f\\\u002Fb7a\\\u002F7e7b0fb7a668d15fb8fd0096fcb8890d.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fe65\\\u002Ff34\\\u002F1a8\\\u002Fe65f341a81b7f9e110f66375a0e5639a.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F11c\\\u002F9ba\\\u002F030\\\u002F11c9ba030351d86cb9fd83c8bc106ce0.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F866\\\u002F5a7\\\u002Ff52\\\u002F8665a7f52fb189e7ed527c30bf205c35.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F9b8\\\u002Fcaa\\\u002F423\\\u002F9b8caa4239fae53cd8fad237d4f6c59b.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F162\\\u002F8a1\\\u002Fd11\\\u002F1628a1d11d12cb802bdfac8d493cd49d.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F197\\\u002Fd3a\\\u002F2e5\\\u002F197d3a2e5843d045c8f3dba849ab0b44.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F3dd\\\u002Fa52\\\u002F413\\\u002F3dda52413a1b03d1455e9c04ac239483.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fdf5\\\u002F7d3\\\u002F901\\\u002Fdf57d39016e8ce2744693d1b8bf28ee2.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fc9c\\\u002Fd64\\\u002Fdd1\\\u002Fc9cd64dd1759a43b6a2cb9883d902e80.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fef0\\\u002Fdb6\\\u002Fea2\\\u002Fef0db6ea2a90ea7a037bdb70cb73166f.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fd44\\\u002F1f7\\\u002Ff4a\\\u002Fd441f7f4aedbd2a3e9ea90928205ac8d.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fa16\\\u002F347\\\u002F480\\\u002Fa1634748086e6f81f43eefb2c4ffac98.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F9ee\\\u002F8b3\\\u002F314\\\u002F9ee8b331449b83845c12175cfe52804f.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F63a\\\u002Fd41\\\u002F02e\\\u002F63ad4102e9acce1538803d3e64b82e0a.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F821\\\u002F742\\\u002F292\\\u002F8217422924dcca01e55fd5f3de6b5d2d.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F6c2\\\u002Fed8\\\u002F185\\\u002F6c2ed81850466d3d3f95639801faadd9.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fbd5\\\u002Fb07\\\u002Fb03\\\u002Fbd5b07b034dd0e6c5f8702dcd49df0af.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fe9b\\\u002F757\\\u002Fce7\\\u002Fe9b757ce7af64b2c864b2c96b9b60486.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Ff1b\\\u002Fb54\\\u002F21d\\\u002Ff1bb5421d3060c762c0982ced2ebf510.png\"]}","metaDescription":"В прошлых статьях мы познакомились с механизмом, узнали его историю, решили, пожалуй, главную для дельта-робота задачу – задачу о положениях, но так и не получили никаких данных, необходимых для...","mainImageUrl":null,"amp":true},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"robo_dev,robot"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
