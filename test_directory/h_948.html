<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Компиляция Python / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/company\/numdes\/blog\/581374\/"},"headline":"Компиляция Python","datePublished":"2021-10-06T15:56:17+03:00","dateModified":"2021-10-08T12:53:16+03:00","author":{"@type":"Person","name":"Цифровое проектирование"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Предположим, вы разработали приложение или библиотеку на Python и уже готовитесь передать его \/ её&nbsp; заказчику. И в этот момент возникают вопросы, о которых многи...","url":"https:\/\/habr.com\/ru\/company\/numdes\/blog\/581374\/#post-content-body","about":["c_numdes","h_hi","h_python","h_programming","h_compilers","f_develop"],"image":["https:\/\/habr.com\/share\/publication\/581374\/37e40458cb2279fae994dade5b7f5857\/","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/991\/60e\/aaf\/99160eaaf94489fa7c74a354f7dc1513.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/579\/021\/08d\/57902108df33a9aa3734859ab9df7f0a.jpg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/350\/a5c\/2a9\/350a5c2a95414192fa578eaf40b10f33.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Компиляция Python" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Компиляция Python" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Компиляция Python" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Предположим, вы разработали приложение или библиотеку на Python и уже готовитесь передать его / её&amp;nbsp; заказчику. И в этот момент возникают вопросы, о которых многие даже не задумываются.Во-первых,..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Предположим, вы разработали приложение или библиотеку на Python и уже готовитесь передать его / её&amp;nbsp; заказчику. И в этот момент возникают вопросы, о которых многие даже не задумываются.Во-первых,..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Предположим, вы разработали приложение или библиотеку на Python и уже готовитесь передать его / её&amp;nbsp; заказчику. И в этот момент возникают вопросы, о которых многие даже не задумываются.Во-первых,..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Предположим, вы разработали приложение или библиотеку на Python и уже готовитесь передать его / её&amp;nbsp; заказчику. И в этот момент возникают вопросы, о которых многие даже не задумываются.Во-первых,..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Предположим, вы разработали приложение или библиотеку на Python и уже готовитесь передать его / её&amp;nbsp; заказчику. И в этот момент возникают вопросы, о которых многие даже не задумываются.Во-первых,..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habrastorage.org/getpro/habr/upload_files/605/2d3/8eb/6052d38eb6b10e4c62cf01699935fce9.jpg" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habrastorage.org/getpro/habr/upload_files/605/2d3/8eb/6052d38eb6b10e4c62cf01699935fce9.jpg" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habrastorage.org/getpro/habr/upload_files/605/2d3/8eb/6052d38eb6b10e4c62cf01699935fce9.jpg" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habrastorage.org/getpro/habr/upload_files/605/2d3/8eb/6052d38eb6b10e4c62cf01699935fce9.jpg" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habrastorage.org/getpro/habr/upload_files/605/2d3/8eb/6052d38eb6b10e4c62cf01699935fce9.jpg" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="581374" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2021-10-06T12:56:17.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/581374/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/company/numdes/blog/581374/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habrastorage.org/getpro/habr/upload_files/605/2d3/8eb/6052d38eb6b10e4c62cf01699935fce9.jpg" data-vmid="image:href"><link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/581374/">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" companyName="numdes" data-async-called="true" class="tm-page"><div class="tm-page-width"><div class="tm-page__header"><!----></div> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"><div class="tm-company-card tm-company-article__company-card"><div class="tm-company-card__info"><div class="tm-company-card__header"><a href="/ru/company/numdes/profile/" class="tm-company-card__avatar"><div class="tm-entity-image"><img alt="" height="48" src="//habrastorage.org/getpro/habr/company/d42/ce2/110/d42ce21104a442024a88c47bcf45a426.jpg" width="48" class="tm-entity-image__pic"></div></a> <!----> <div class="tm-rating tm-company-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">51.33</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div> <div class="tm-company-card__info"><a href="/ru/company/numdes/profile/" class="tm-company-card__name">
        Цифровое проектирование
      </a> <div class="tm-company-card__description">Наука и технологии</div></div></div> <div class="tm-company-card__buttons"><!----> <!----></div></div> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/NumDes/" title="NumDes" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/8d2/8b6/a2f/8d28b6a2f57e234b64dc164f8639db37.jpg" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/NumDes/" class="tm-user-info__username">
      NumDes
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2021-10-06T12:56:17.000Z" title="2021-10-06, 15:56">6  октября   в 15:56</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Компиляция Python</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/company/numdes/blog/" class="tm-article-snippet__hubs-item-link router-link-active"><span>Блог компании Цифровое проектирование</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/hi/" class="tm-article-snippet__hubs-item-link"><span>Высокая производительность</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/python/" class="tm-article-snippet__hubs-item-link"><span>Python</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/programming/" class="tm-article-snippet__hubs-item-link"><span>Программирование</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/compilers/" class="tm-article-snippet__hubs-item-link"><span>Компиляторы</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><figure class="full-width "><img src="/img/image-loader.svg" height="1279" data-src="https://habrastorage.org/getpro/habr/upload_files/991/60e/aaf/99160eaaf94489fa7c74a354f7dc1513.png" data-width="1920"/><figcaption></figcaption></figure><p>Предположим, вы разработали приложение или библиотеку на Python и уже готовитесь передать его / её  заказчику. И в этот момент возникают вопросы, о которых многие даже не задумываются.</p><p>Во-первых, так может оказаться, что вы разработали супер крутой алгоритм, которого ни у кого нет, и показывать его хочется только избранным.</p><p>Во-вторых, возникает вопрос окружения - хочется быть уверенным, что заказчик справится с установкой правильной версии Python и всех вспомогательных библиотек, но это не всегда простая задача. Было бы удобно упаковать приложение в автономный исполняемый файл.</p><p>И, наконец, хочется,  чтобы конечное приложение работало быстрее, чем в среде разработки.</p><p>И вот тут настало время скомпилировать Python-код. Меня зовут Руслан, я старший разработчик компании «Цифровое проектирование». Сегодня я расскажу, как выбрать тот самый компилятор из множества доступных.</p><h2>AOT/JIT</h2><p>Компиляция – это сборка программы, включающая: трансляцию всех модулей программы, написанных на языке программирования высокого уровня, в эквивалентные программные модули на низкоуровневом языке, близком  к машинному коду, или на машинном языке и сборку исполняемой программы. Существует два вида компиляции:</p><ul><li><p><strong>AOT-компиляция (ahead-of-time)</strong> – компиляция перед исполнением программы. Т.е. программа компилируется один раз, в результате компиляции получается исполняемый файл.</p></li><li><p><strong>JIT-компиляция (just-in-time)</strong> – компиляция во время исполнения программы. Т.е. программа (а точнее, блоки программы) компилируется много раз - при каждом запуске. </p></li></ul><h2>Бенчмарк</h2><p>Так как одной из целей является ускорение, необходимо оценить, насколько быстро работает скомпилированный код. В качестве бенчмарка будем использовать <a href="https://pyperformance.readthedocs.io/"><u>pyperfomance</u></a>. К сожалению, pyperfomance не подошел для Cython и Pythran, потому что не позволяет визуализировать все возможности языка. Ускорения для Cython без модификации кода получить не удалось, а Pythran не умеет в пользовательские классы. Для них воспользуемся вычислением числа пи:</p><pre><code class="python">def approximate_pi(n):
   step = 1.0 / n
   result = 0
   for i in range(n):
   		x = (i + 0.5) * step
   		result += 4.0 / (1.0 + x * x)
   return step * result</code></pre><p>Эксперименты будем проводить на процессоре Intel Core i7 10510U. На CPython 3.9.7 время вычисления числа пи до 100.000.000 знака заняло 5.82 секунды.</p><h2>AOT-компиляция Python  </h2><p><strong>PyInstaller</strong>   </p><p>PyInstaller упаковывает приложения Python в автономные исполняемые файлы в Windows, GNU / Linux, Mac OS X, FreeBSD, Solaris и AIX. </p><p>Устанавливается через pip:</p><p><code>pip install pyinstaller</code>  </p><p>После установки для создания исполняемого файла достаточно выполнить команду:</p><p><code>pyinstaller &lt;имя_файла>.py</code>  </p><p>В результате будет создано:</p><ul><li><p><strong>*.spec</strong> – файл спецификации (используется для ускорения будущих сборок приложения, связи файлов данных с приложением, для включения .dll и .so файлов, добавление в исполняемый файл параметров runtime-а Python);</p></li><li><p><strong>build/</strong> – директория с метаданными для сборки исполняемого файла;</p></li><li><p><strong>dist/</strong> – директория, содержащая все зависимости и исполняемый файл.</p></li></ul><p>Сборку приложения можно настроить с помощью параметров командной строки:</p><ul><li><p><strong>--name</strong> – изменение имени исполняемого файла (по умолчанию, такое же, как у сценария);</p></li><li><p><strong>--onefile</strong> – создание только исполняемого файла (по умолчанию, папка с зависимостями и исполняемый файл);</p></li><li><p><strong>--hidden-import</strong> – перечисление импортов, которые PyInstaller не смог обнаружить автоматически;</p></li><li><p><strong>--add-data</strong> – добавление в сборку файлов данных;</p></li><li><p><strong>--add-binary</strong> – добавление в сборку бинарных файлов;</p></li><li><p><strong>--exclude-module</strong> – исключение модулей из исполняемого файла;</p></li><li><p><strong>--key</strong> – ключ шифрования AES256. Да, приложение не будет содержать исходного кода, но его можно декомпилировать, например, так: <strong>Pyinstaller Extractor (.exe → .pyc)</strong> и <strong>uncompile6 (.pyc → .py)</strong>.  Для скрытия исходного кода можно обфусцировать байт-код Python с помощью шифрования.</p></li></ul><p>У PyInstaller есть ограничения. Он работает с Python 3.5–3.9. Поддерживает создание исполняемых файлов для разных операционных систем, но не умеет выполнять кросскомпиляцию, т. е. необходимо генерировать исполняемый файл для каждой ОС отдельно. Более того, исполняемый файл зависит от пользовательского glibc, т. е. необходимо генерировать исполняемый файл для самой старой версии каждой ОС.</p><p>PyInstaller знает о многих Python-пакетах и умеет их учитывать при сборке исполняемого файла. Но не о всех. Например, фреймворк <strong>uvicorn</strong> практически весь нужно явно импортировать в файл, к которому будет применена команда pyinstaller. Полный список поддерживаемых из коробки пакетов можно посмотреть <a href="https://github.com/pyinstaller/pyinstaller/wiki/Supported-Packages"><u>здесь</u></a><u>.</u></p><p><strong>Cython</strong></p><p>Cython - это оптимизирующий статический компилятор как для языка программирования Python, так и для расширенного языка программирования Cython. С его помощью можно код на Python транслировать в С и затем скомпилировать в бинарник, совместимый с CPython. Компиляцию придется делать под все операционные системы и архитектуры процессора.</p><p>Ставится Cython через pip: </p><p><code>pip install Cython</code>   </p><p>Рассмотрим его работу на примере с вычислением числа пи:</p><ol><li><p><strong><em>Немного модифицируем нашу функцию:</em></strong></p><pre><code class="python">def approximate_pi(int n):
   cdef float step
   cdef float result
   cdef float x
   step = 1.0 / n
   result = 0.0
   for i in range(n):
   		x = (i + 0.5) * step
   		result += 4.0 / (1.0 + x * x)

   return step * result
</code></pre></li><li><p><strong><em>Cython → C:</em></strong>  </p><p><code>cython -2  pi_approximater.pyx -o pi_approximater.c</code>  </p></li><li><p><strong><em>Компилируем С-шный код:</em></strong></p><p><code>gcc -g -O2 -shared -o pi_approximater.so pi_approximater.c python-config --includes --ldflags -fPIC</code></p></li><li><p><strong><em>И замеряем время на бенчмарке:</em></strong> 3,66 секунды.</p></li></ol><p>А что делать, если в нашем проекте несколько файлов, которые нужно скомпилировать? Тогда нужно использовать так называемый сценарий сборки. С его помощью можно модернизировать сборку в зависимости от операционной системы, указывать несколько файлов, которые необходимо скомпилировать, и многое другое. </p><p>Создадим файл build.py: </p><pre><code class="python">from distutils.core import setup
from Cython.Build import cythonize

setup(
   ext_modules=cythonize("bench_cython.pyx"),
)
</code></pre><p>Запустим: <code>python build.py build_ext –-inplace</code></p><p>В результате будет сгенерирован <strong>.so/.dll</strong> файл.</p><p><strong>Nuitka</strong>  </p><p>Nuitka способна упаковывать приложения Python в автономные исполняемые файлы, а также транслировать Python-код в С для его последующей компиляции. Работает с разными версиями Python (2.6, 2.7, 3.3 - 3.9).</p><p>Ставится через pip:  </p><p><code>pip install nuitka</code></p><p>Для генерации исполняемого файла достаточно выполнить команду:</p><p><code>python -m nuitka --follow-import some_program.py</code></p><p>Для компиляции модуля:</p><p><code>python -m nuitka --module some_module.py</code></p><p>Для компиляции пакета:</p><p><code>python -m nuitka --module some_package --include-package = some_package</code></p><p><strong>Pythran</strong></p><p>Pythran – статический компилятор Python, позиционирующий себя как ориентированный на научные вычисления и использующий преимущества многоядерных процессоров и блоков инструкций SIMD. Он транслирует Python-код, аннотированный описаниями интерфейса, в C++. До версии 0.9.5 (включительно) Pythran поддерживал Python 3 и Python 2.7. Последние версии поддерживают только Python 3.</p><p>Установка:</p><p><code>pip install pythran</code></p><p>Генерируем бинарный файл <strong>&lt;имя файла>.so</strong>:</p><p><code>pythran &lt;имя файла>.py</code></p><p>Pythran по умолчанию не умеет в пользовательские классы, поэтому при попытке их компиляции будет выброшена ошибка:</p><blockquote><p><strong><em>Top level statements can only be assignments, strings,functions, comments, or imports</em></strong>  </p></blockquote><p>Добавим комментарий аннотации функции:</p><pre><code class="python">#pythran export approximate_pi(int)  
def approximate_pi(n):
   step = 1.0 / n
   result = 0
   for i in range(n):
   		x = (i + 0.5) * step
   		result += 4.0 / (1.0 + x * x)
   return step * result</code></pre><p>Скомпилируем и бенчмарк выдает 0,00007 секунды.</p><p><strong>cx-Freeze</strong>  </p><p>cx-Freeze – это набор скриптов и модулей преобразования скриптов Python в исполняемые файлы. cx_Freeze - кроссплатформенный. Он поддерживает Python 3.5.2 и выше.</p><p>Ставится с помощью pip:</p><p><code>pip install cx_Freeze</code>  </p><p>Для генерации исполняемого файла достаточно выполнить команду:</p><p><code>cxfreeze &lt;имя файла>.py</code>  </p><p>Сборку можно настроить с помощью параметров командной строки:</p><ul><li><p><strong>-h</strong>, <strong>--help</strong> - справка;</p></li><li><p><strong>-O</strong> - оптимизировать сгенерированный байт-код согласно PYTHONOPTIMIZE;</p></li><li><p><strong>-c</strong>, <strong>--compress</strong> - сжать байт-код в zip-файлах;</p></li><li><p><strong>-s</strong>, <strong>--silent</strong> - выводить только предупреждения и ошибки;</p></li><li><p><strong>--target-dir</strong>=DIR, <strong>--install-dir</strong>=DIR - каталог, в который следует поместить целевой файл и все зависимые файлы.</p></li></ul><p>Также возможно использование сценария сборки, например, так:</p><pre><code class="python">import sys
from cx_Freeze import setup, Executable
 
# Dependencies are automatically detected, but it might need fine tuning.
build_exe_options = {"packages": ["os"], "excludes": ["tkinter"]}
 
# GUI applications require a different base on Windows (the default is for a
# console application).
base = None
if sys.platform == "win32":
    base = "Win32GUI"
 
setup(  name = "guifoo",
        version = "0.1",
        description = "My GUI application!",
        options = {"build_exe": build_exe_options},
        executables = [Executable("guifoo.py", base=base)])</code></pre><p>Сборка исполняемого файла:  </p><p><em> </em><code>python setup.py build</code>  </p><h2>JIT-компиляция Python  </h2><p>JIT-компиляция не позволяет скрывать исходники или создавать автономный исполняемый файл, но дает возможность значительно ускорить выполнение программы.</p><p><strong>PyPy</strong></p><p>PyPy - интерпретатор языка программирования Python 2.7 и Python 3.7. Он написан на RPython и содержит: </p><ul><li><p>компилятор байт-кода, отвечающий за создание объектов кода Python из исходного кода пользовательского приложения;</p></li><li><p>оценщик байт-кода, ответственный за интерпретацию объектов кода Python;</p></li><li><p>стандартное объектное пространство, отвечающее за создание и управление объектами Python, видимыми приложением. </p></li></ul><p>PyPy поддерживает сотни библиотек Python, включая NumPy.</p><p>Основные особенности (сравнение с CPython):</p><ul><li><p><strong>Скорость.</strong> При выполнении длительно выполняющихся программ, когда значительная часть времени тратится на выполнение кода Python, PyPy может значительно ускорить ваш код.</p></li><li><p><strong>Использование памяти.</strong> Программы Python, требующие много памяти (несколько сотен Мб или более), могут занимать меньше места, чем в CPython. Однако это не всегда так, поскольку зависит от множества деталей. Также базовый уровень потребления оперативной памяти выше, чем у CPython.</p></li></ul><p>Скачать PyPy можно с <a href="https://www.pypy.org/download.html">здесь</a>. После скачивания PyPy готов к запуску после распаковки архива. Если необходимо сделать PyPy доступным для всей системы, достаточно поместить символическую ссылку на исполняемый файл pypy в <strong>/usr/local/bin</strong>. Также можно поставить с помощью <strong>pyenv</strong>.</p><p>PyPy работает на Mac, Linux (не все дистрибутивы) или Windows.</p><p>Для запуска кода с помощью PyPy вместо команды <strong>python3</strong> (как c помощью CPython) достаточно воспользоваться командой <strong>pypy3</strong>:</p><p><em> </em><code>pypy3 something.py</code>  </p><p><strong>Pyston</strong></p><p>Pyston - это форк CPython 3.8.8 с дополнительной оптимизацией производительности. В настоящее время он поддерживает установку только из исходников. Или с помощью <strong>pyenv</strong>.</p><p>В Pyston поддерживаются все возможности CPython, в том числе C API для разработки расширений на языке Си. Среди основных отличий Pyston от CPython помимо общих оптимизаций выделяется использование<a href="https://luajit.org/dynasm.html"> <u>DynASM JIT</u></a> и<a href="https://bugs.python.org/issue14757"> <u>inline-кэширования</u></a>. </p><h2>Заключение</h2><p>Итак, мы рассмотрели 5 фреймворков AOT-компиляции Python. Для любителей аналитики, ниже приведена таблица со сравнительным анализом.  </p><div><div class="table"><table><tbody><tr><td data-colwidth="230" width="230"><p></p></td><td data-colwidth="95" width="95"><p><strong>PyInstaller</strong>  </p></td><td data-colwidth="82" width="82"><p><strong>Cython</strong>  </p></td><td data-colwidth="84" width="84"><p><strong>Nuitka</strong>  </p></td><td data-colwidth="86" width="86"><p><strong>Pythran</strong>  </p></td><td><p><strong>cx-Freeze</strong>  </p></td></tr><tr><td data-colwidth="230" width="230"><p>Генерация автономных исполняемых файлов  </p></td><td data-colwidth="95" width="95"><p>+</p></td><td data-colwidth="82" width="82"><p>-</p></td><td data-colwidth="84" width="84"><p>+</p></td><td data-colwidth="86" width="86"><p>-</p></td><td><p>+</p></td></tr><tr><td data-colwidth="230" width="230"><p>Компиляция python-модуля в исполняемый файл, совместимый с CPython</p></td><td data-colwidth="95" width="95"><p>-</p></td><td data-colwidth="82" width="82"><p>+</p></td><td data-colwidth="84" width="84"><p>+</p></td><td data-colwidth="86" width="86"><p>+</p></td><td><p>+</p></td></tr><tr><td data-colwidth="230" width="230"><p>Компиляция байт-кода Python</p></td><td data-colwidth="95" width="95"><p>+</p></td><td data-colwidth="82" width="82"><p>-</p></td><td data-colwidth="84" width="84"><p>+</p></td><td data-colwidth="86" width="86"><p>-</p></td><td><p>+</p></td></tr><tr><td data-colwidth="230" width="230"><p>Трансляция Python в С/C++  </p></td><td data-colwidth="95" width="95"><p>-</p></td><td data-colwidth="82" width="82"><p>+</p></td><td data-colwidth="84" width="84"><p>+</p></td><td data-colwidth="86" width="86"><p>+</p></td><td><p>-</p></td></tr><tr><td data-colwidth="230" width="230"><p>Кроссплатформенность  </p></td><td data-colwidth="95" width="95"><p>+</p></td><td data-colwidth="82" width="82"><p>+</p></td><td data-colwidth="84" width="84"><p>+</p></td><td data-colwidth="86" width="86"><p>+</p></td><td><p>+</p></td></tr><tr><td data-colwidth="230" width="230"><p>Кросскомпиляция  </p></td><td data-colwidth="95" width="95"><p>-</p></td><td data-colwidth="82" width="82"><p>-</p></td><td data-colwidth="84" width="84"><p>-</p></td><td data-colwidth="86" width="86"><p>-</p></td><td><p>-</p></td></tr></tbody></table></div></div><p>Среднее относительное время выполнения кода на различных версиях CPython, интерпретаторах с поддержкой JIT-компиляции и после сборки на фреймворках AOT-компиляции:</p><figure class="full-width "><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/579/021/08d/57902108df33a9aa3734859ab9df7f0a.jpg" width="2153" height="1080" data-src="https://habrastorage.org/getpro/habr/upload_files/579/021/08d/57902108df33a9aa3734859ab9df7f0a.jpg" data-blurred="true"/><figcaption></figcaption></figure><figure class="full-width "><img src="/img/image-loader.svg" height="955" data-src="https://habrastorage.org/getpro/habr/upload_files/350/a5c/2a9/350a5c2a95414192fa578eaf40b10f33.png" data-width="1904"/><figcaption></figcaption></figure><h2>Список литературы</h2><ol><li><p><a href="http://www.pyinstaller.org/"><u>http://www.pyinstaller.org/</u></a></p></li><li><p><a href="https://cython.org/"><u>https://cython.org/</u></a></p></li><li><p><a href="https://nuitka.net/"><u>https://nuitka.net/</u></a></p></li><li><p><a href="https://github.com/serge-sans-paille/pythran"><u>https://github.com/serge-sans-paille/pythran</u></a></p></li><li><p><a href="https://cx-freeze.readthedocs.io/en/latest/"><u>https://cx-freeze.readthedocs.io/en/latest/</u></a></p></li><li><p><a href="https://github.com/pyston/pyston"><u>https://github.com/pyston/pyston</u></a></p></li><li><p><a href="https://www.pypy.org/"><u>https://www.pypy.org/</u></a></p></li></ol></div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bpython%5D" class="tm-tags-list__link">python</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bjit-%D0%BA%D0%BE%D0%BC%D0%BF%D0%B8%D0%BB%D1%8F%D1%82%D0%BE%D1%80%5D" class="tm-tags-list__link">jit-компилятор</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Baot%5D" class="tm-tags-list__link">aot</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bpyinstaller%5D" class="tm-tags-list__link">pyinstaller</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bcython%5D" class="tm-tags-list__link">cython</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bnuitka%5D" class="tm-tags-list__link">nuitka</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bcx_freeze%5D" class="tm-tags-list__link">cx_freeze</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bpypy%5D" class="tm-tags-list__link">pypy</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/company/numdes/blog/" class="tm-hubs-list__link router-link-active">
    Блог компании Цифровое проектирование
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/hi/" class="tm-hubs-list__link">
    Высокая производительность
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/python/" class="tm-hubs-list__link">
    Python
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/programming/" class="tm-hubs-list__link">
    Программирование
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/compilers/" class="tm-hubs-list__link">
    Компиляторы
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 9: ↑9 и ↓0</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 9: ↑9 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+9</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">11K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    111
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"><div class="tm-article-author__company"><div class="tm-article-author__company-card"><div class="tm-company-snippet"><a href="/ru/company/numdes/profile/" class="tm-company-snippet__logo-link"><div class="tm-entity-image"><img alt="" height="40" src="//habrastorage.org/getpro/habr/company/d42/ce2/110/d42ce21104a442024a88c47bcf45a426.jpg" width="40" class="tm-entity-image__pic"></div></a> <div class="tm-company-snippet__info"><a href="/ru/company/numdes/profile/" class="tm-company-snippet__title">Цифровое проектирование</a> <div class="tm-company-snippet__description">Наука и технологии</div></div></div> <div class="tm-article-author__buttons"><!----> <!----></div></div> <div class="tm-article-author__company-contacts"><a href="https://numdes.com/" rel="noopener" target="_blank" class="tm-article-author__contact">
      Сайт
    </a><a href="https://career.habr.com/companies/numdes" rel="noopener" target="_blank" class="tm-article-author__contact">
      Хабр Карьера
    </a><a href="https://vk.com/numdes" rel="noopener" target="_blank" class="tm-article-author__contact">
      ВКонтакте
    </a><a href="https://instagram.com/numdesgn" rel="noopener" target="_blank" class="tm-article-author__contact">
      Instagram
    </a></div> <div class="tm-article-author__separator"></div></div> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/NumDes/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/8d2/8b6/a2f/8d28b6a2f57e234b64dc164f8639db37.jpg" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 1 голос " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    1
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">9</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Цифровое проектирование</span> <a href="/ru/users/NumDes/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @NumDes
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/company/numdes/blog/581374/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 19 
    </span></a> <!----></div></div></div>  <!---->  <!----> <!----></div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__placeholder_initial"></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <section class="tm-block tm-block_spacing-bottom"><header class="tm-block__header"><h2 class="tm-block__title">Информация</h2> <!----></header> <div class="tm-block__body"><div class="tm-company-basic-info"><!----> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Местоположение</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
    Россия
  </dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Сайт</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><a href="https://numdes.com/" target="_blank" class="tm-company-basic-info__link">
      numdes.com
    </a></dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Численность</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
    51–100 человек
  </dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Дата регистрации</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><time datetime="2021-08-24T07:12:04.000Z" title="2021-08-24, 10:12">24  августа  </time></dd></dl> <!----></div></div> <!----></section> <div class="tm-company-widgets"></div> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/company/numdes/blog/581374/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/company/numdes/blog/581374/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"581374":{"id":"581374","timePublished":"2021-10-06T12:56:17+00:00","isCorporative":true,"lang":"ru","titleHtml":"Компиляция Python","leadData":{"textHtml":"\u003Cp\u003EПредположим, вы разработали приложение или библиотеку на Python и уже готовитесь передать его \u002F её&nbsp; заказчику. И в этот момент появляются разные вопросы.\u003C\u002Fp\u003E\u003Cp\u003EВо-первых, к вам прибегает озадаченный проджект-менеджер и говорит: «Мы решили не отдавать исходный код, ведь это наша интеллектуальная собственность. Придумайте что-нибудь, чтобы заказчик был доволен, а мы оставили у себя исходники».\u003C\u002Fp\u003E\u003Cp\u003EВо-вторых, возникает вопрос окружения - хочется быть уверенным, что заказчик справится с установкой правильной версии Python и всех вспомогательных библиотек, но это не всегда простая задача. Было бы удобно упаковать приложение в автономный исполняемый файл.\u003C\u002Fp\u003E\u003Cp\u003EИ, наконец, хочется,&nbsp; чтобы конечное приложение работало быстрее, чем в среде разработки.\u003C\u002Fp\u003E\u003Cp\u003EИ вот тут настало время скомпилировать Python-код. \u003C\u002Fp\u003E\u003Cp\u003EМеня зовут Руслан, я старший разработчик компании «Цифровое проектирование». Сегодня я расскажу, как выбрать тот самый компилятор из множества доступных.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F605\u002F2d3\u002F8eb\u002F6052d38eb6b10e4c62cf01699935fce9.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F605\u002F2d3\u002F8eb\u002F6052d38eb6b10e4c62cf01699935fce9.jpg","fit":"cover","positionY":0,"positionX":0}},"editorVersion":"2.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":1,"votesCount":1},"rating":9,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"2778913","alias":"NumDes","fullname":"Цифровое проектирование","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F8d2\u002F8b6\u002Fa2f\u002F8d28b6a2f57e234b64dc164f8639db37.jpg","speciality":null},"statistics":{"commentsCount":19,"favoritesCount":111,"readingCount":11103,"score":9,"votesCount":9},"hubs":[{"relatedData":null,"id":"22804","alias":"numdes","type":"corporative","title":"Блог компании Цифровое проектирование","titleHtml":"Блог компании Цифровое проектирование","isProfiled":false},{"relatedData":null,"id":"4","alias":"hi","type":"collective","title":"Высокая производительность","titleHtml":"Высокая производительность","isProfiled":true},{"relatedData":null,"id":"340","alias":"python","type":"collective","title":"Python","titleHtml":"Python","isProfiled":true},{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"17188","alias":"compilers","type":"collective","title":"Компиляторы","titleHtml":"Компиляторы","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"1279\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F991\u002F60e\u002Faaf\u002F99160eaaf94489fa7c74a354f7dc1513.png\" data-width=\"1920\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EПредположим, вы разработали приложение или библиотеку на Python и уже готовитесь передать его \u002F её  заказчику. И в этот момент возникают вопросы, о которых многие даже не задумываются.\u003C\u002Fp\u003E\u003Cp\u003EВо-первых, так может оказаться, что вы разработали супер крутой алгоритм, которого ни у кого нет, и показывать его хочется только избранным.\u003C\u002Fp\u003E\u003Cp\u003EВо-вторых, возникает вопрос окружения - хочется быть уверенным, что заказчик справится с установкой правильной версии Python и всех вспомогательных библиотек, но это не всегда простая задача. Было бы удобно упаковать приложение в автономный исполняемый файл.\u003C\u002Fp\u003E\u003Cp\u003EИ, наконец, хочется,  чтобы конечное приложение работало быстрее, чем в среде разработки.\u003C\u002Fp\u003E\u003Cp\u003EИ вот тут настало время скомпилировать Python-код. Меня зовут Руслан, я старший разработчик компании «Цифровое проектирование». Сегодня я расскажу, как выбрать тот самый компилятор из множества доступных.\u003C\u002Fp\u003E\u003Ch2\u003EAOT\u002FJIT\u003C\u002Fh2\u003E\u003Cp\u003EКомпиляция – это сборка программы, включающая: трансляцию всех модулей программы, написанных на языке программирования высокого уровня, в эквивалентные программные модули на низкоуровневом языке, близком  к машинному коду, или на машинном языке и сборку исполняемой программы. Существует два вида компиляции:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003EAOT-компиляция (ahead-of-time)\u003C\u002Fstrong\u003E – компиляция перед исполнением программы. Т.е. программа компилируется один раз, в результате компиляции получается исполняемый файл.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003EJIT-компиляция (just-in-time)\u003C\u002Fstrong\u003E – компиляция во время исполнения программы. Т.е. программа (а точнее, блоки программы) компилируется много раз - при каждом запуске. \u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Ch2\u003EБенчмарк\u003C\u002Fh2\u003E\u003Cp\u003EТак как одной из целей является ускорение, необходимо оценить, насколько быстро работает скомпилированный код. В качестве бенчмарка будем использовать \u003Ca href=\"https:\u002F\u002Fpyperformance.readthedocs.io\u002F\"\u003E\u003Cu\u003Epyperfomance\u003C\u002Fu\u003E\u003C\u002Fa\u003E. К сожалению, pyperfomance не подошел для Cython и Pythran, потому что не позволяет визуализировать все возможности языка. Ускорения для Cython без модификации кода получить не удалось, а Pythran не умеет в пользовательские классы. Для них воспользуемся вычислением числа пи:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003Edef approximate_pi(n):\n   step = 1.0 \u002F n\n   result = 0\n   for i in range(n):\n   \t\tx = (i + 0.5) * step\n   \t\tresult += 4.0 \u002F (1.0 + x * x)\n   return step * result\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EЭксперименты будем проводить на процессоре Intel Core i7 10510U. На CPython 3.9.7 время вычисления числа пи до 100.000.000 знака заняло 5.82 секунды.\u003C\u002Fp\u003E\u003Ch2\u003EAOT-компиляция Python  \u003C\u002Fh2\u003E\u003Cp\u003E\u003Cstrong\u003EPyInstaller\u003C\u002Fstrong\u003E   \u003C\u002Fp\u003E\u003Cp\u003EPyInstaller упаковывает приложения Python в автономные исполняемые файлы в Windows, GNU \u002F Linux, Mac OS X, FreeBSD, Solaris и AIX. \u003C\u002Fp\u003E\u003Cp\u003EУстанавливается через pip:\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003Epip install pyinstaller\u003C\u002Fcode\u003E  \u003C\u002Fp\u003E\u003Cp\u003EПосле установки для создания исполняемого файла достаточно выполнить команду:\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003Epyinstaller &lt;имя_файла\u003E.py\u003C\u002Fcode\u003E  \u003C\u002Fp\u003E\u003Cp\u003EВ результате будет создано:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E*.spec\u003C\u002Fstrong\u003E – файл спецификации (используется для ускорения будущих сборок приложения, связи файлов данных с приложением, для включения .dll и .so файлов, добавление в исполняемый файл параметров runtime-а Python);\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003Ebuild\u002F\u003C\u002Fstrong\u003E – директория с метаданными для сборки исполняемого файла;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003Edist\u002F\u003C\u002Fstrong\u003E – директория, содержащая все зависимости и исполняемый файл.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EСборку приложения можно настроить с помощью параметров командной строки:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E--name\u003C\u002Fstrong\u003E – изменение имени исполняемого файла (по умолчанию, такое же, как у сценария);\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E--onefile\u003C\u002Fstrong\u003E – создание только исполняемого файла (по умолчанию, папка с зависимостями и исполняемый файл);\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E--hidden-import\u003C\u002Fstrong\u003E – перечисление импортов, которые PyInstaller не смог обнаружить автоматически;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E--add-data\u003C\u002Fstrong\u003E – добавление в сборку файлов данных;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E--add-binary\u003C\u002Fstrong\u003E – добавление в сборку бинарных файлов;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E--exclude-module\u003C\u002Fstrong\u003E – исключение модулей из исполняемого файла;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E--key\u003C\u002Fstrong\u003E – ключ шифрования AES256. Да, приложение не будет содержать исходного кода, но его можно декомпилировать, например, так: \u003Cstrong\u003EPyinstaller Extractor (.exe → .pyc)\u003C\u002Fstrong\u003E и \u003Cstrong\u003Euncompile6 (.pyc → .py)\u003C\u002Fstrong\u003E.  Для скрытия исходного кода можно обфусцировать байт-код Python с помощью шифрования.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EУ PyInstaller есть ограничения. Он работает с Python 3.5–3.9. Поддерживает создание исполняемых файлов для разных операционных систем, но не умеет выполнять кросскомпиляцию, т. е. необходимо генерировать исполняемый файл для каждой ОС отдельно. Более того, исполняемый файл зависит от пользовательского glibc, т. е. необходимо генерировать исполняемый файл для самой старой версии каждой ОС.\u003C\u002Fp\u003E\u003Cp\u003EPyInstaller знает о многих Python-пакетах и умеет их учитывать при сборке исполняемого файла. Но не о всех. Например, фреймворк \u003Cstrong\u003Euvicorn\u003C\u002Fstrong\u003E практически весь нужно явно импортировать в файл, к которому будет применена команда pyinstaller. Полный список поддерживаемых из коробки пакетов можно посмотреть \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fpyinstaller\u002Fpyinstaller\u002Fwiki\u002FSupported-Packages\"\u003E\u003Cu\u003Eздесь\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003Cu\u003E.\u003C\u002Fu\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003ECython\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003ECython - это оптимизирующий статический компилятор как для языка программирования Python, так и для расширенного языка программирования Cython. С его помощью можно код на Python транслировать в С и затем скомпилировать в бинарник, совместимый с CPython. Компиляцию придется делать под все операционные системы и архитектуры процессора.\u003C\u002Fp\u003E\u003Cp\u003EСтавится Cython через pip: \u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003Epip install Cython\u003C\u002Fcode\u003E   \u003C\u002Fp\u003E\u003Cp\u003EРассмотрим его работу на примере с вычислением числа пи:\u003C\u002Fp\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EНемного модифицируем нашу функцию:\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003Edef approximate_pi(int n):\n   cdef float step\n   cdef float result\n   cdef float x\n   step = 1.0 \u002F n\n   result = 0.0\n   for i in range(n):\n   \t\tx = (i + 0.5) * step\n   \t\tresult += 4.0 \u002F (1.0 + x * x)\n\n   return step * result\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003ECython → C:\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E  \u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003Ecython -2  pi_approximater.pyx -o pi_approximater.c\u003C\u002Fcode\u003E  \u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EКомпилируем С-шный код:\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003Egcc -g -O2 -shared -o pi_approximater.so pi_approximater.c python-config --includes --ldflags -fPIC\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EИ замеряем время на бенчмарке:\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E 3,66 секунды.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003Cp\u003EА что делать, если в нашем проекте несколько файлов, которые нужно скомпилировать? Тогда нужно использовать так называемый сценарий сборки. С его помощью можно модернизировать сборку в зависимости от операционной системы, указывать несколько файлов, которые необходимо скомпилировать, и многое другое. \u003C\u002Fp\u003E\u003Cp\u003EСоздадим файл build.py: \u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003Efrom distutils.core import setup\nfrom Cython.Build import cythonize\n\nsetup(\n   ext_modules=cythonize(\"bench_cython.pyx\"),\n)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EЗапустим: \u003Ccode\u003Epython build.py build_ext –-inplace\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003Cp\u003EВ результате будет сгенерирован \u003Cstrong\u003E.so\u002F.dll\u003C\u002Fstrong\u003E файл.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003ENuitka\u003C\u002Fstrong\u003E  \u003C\u002Fp\u003E\u003Cp\u003ENuitka способна упаковывать приложения Python в автономные исполняемые файлы, а также транслировать Python-код в С для его последующей компиляции. Работает с разными версиями Python (2.6, 2.7, 3.3 - 3.9).\u003C\u002Fp\u003E\u003Cp\u003EСтавится через pip:  \u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003Epip install nuitka\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003Cp\u003EДля генерации исполняемого файла достаточно выполнить команду:\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003Epython -m nuitka --follow-import some_program.py\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003Cp\u003EДля компиляции модуля:\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003Epython -m nuitka --module some_module.py\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003Cp\u003EДля компиляции пакета:\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003Epython -m nuitka --module some_package --include-package = some_package\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EPythran\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003EPythran – статический компилятор Python, позиционирующий себя как ориентированный на научные вычисления и использующий преимущества многоядерных процессоров и блоков инструкций SIMD. Он транслирует Python-код, аннотированный описаниями интерфейса, в C++. До версии 0.9.5 (включительно) Pythran поддерживал Python 3 и Python 2.7. Последние версии поддерживают только Python 3.\u003C\u002Fp\u003E\u003Cp\u003EУстановка:\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003Epip install pythran\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003Cp\u003EГенерируем бинарный файл \u003Cstrong\u003E&lt;имя файла\u003E.so\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003Epythran &lt;имя файла\u003E.py\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003Cp\u003EPythran по умолчанию не умеет в пользовательские классы, поэтому при попытке их компиляции будет выброшена ошибка:\u003C\u002Fp\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003ETop level statements can only be assignments, strings,functions, comments, or imports\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E  \u003C\u002Fp\u003E\u003C\u002Fblockquote\u003E\u003Cp\u003EДобавим комментарий аннотации функции:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003E#pythran export approximate_pi(int)  \ndef approximate_pi(n):\n   step = 1.0 \u002F n\n   result = 0\n   for i in range(n):\n   \t\tx = (i + 0.5) * step\n   \t\tresult += 4.0 \u002F (1.0 + x * x)\n   return step * result\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EСкомпилируем и бенчмарк выдает 0,00007 секунды.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003Ecx-Freeze\u003C\u002Fstrong\u003E  \u003C\u002Fp\u003E\u003Cp\u003Ecx-Freeze – это набор скриптов и модулей преобразования скриптов Python в исполняемые файлы. cx_Freeze - кроссплатформенный. Он поддерживает Python 3.5.2 и выше.\u003C\u002Fp\u003E\u003Cp\u003EСтавится с помощью pip:\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003Epip install cx_Freeze\u003C\u002Fcode\u003E  \u003C\u002Fp\u003E\u003Cp\u003EДля генерации исполняемого файла достаточно выполнить команду:\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003Ecxfreeze &lt;имя файла\u003E.py\u003C\u002Fcode\u003E  \u003C\u002Fp\u003E\u003Cp\u003EСборку можно настроить с помощью параметров командной строки:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E-h\u003C\u002Fstrong\u003E, \u003Cstrong\u003E--help\u003C\u002Fstrong\u003E - справка;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E-O\u003C\u002Fstrong\u003E - оптимизировать сгенерированный байт-код согласно PYTHONOPTIMIZE;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E-c\u003C\u002Fstrong\u003E, \u003Cstrong\u003E--compress\u003C\u002Fstrong\u003E - сжать байт-код в zip-файлах;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E-s\u003C\u002Fstrong\u003E, \u003Cstrong\u003E--silent\u003C\u002Fstrong\u003E - выводить только предупреждения и ошибки;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E--target-dir\u003C\u002Fstrong\u003E=DIR, \u003Cstrong\u003E--install-dir\u003C\u002Fstrong\u003E=DIR - каталог, в который следует поместить целевой файл и все зависимые файлы.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EТакже возможно использование сценария сборки, например, так:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003Eimport sys\nfrom cx_Freeze import setup, Executable\n \n# Dependencies are automatically detected, but it might need fine tuning.\nbuild_exe_options = {\"packages\": [\"os\"], \"excludes\": [\"tkinter\"]}\n \n# GUI applications require a different base on Windows (the default is for a\n# console application).\nbase = None\nif sys.platform == \"win32\":\n    base = \"Win32GUI\"\n \nsetup(  name = \"guifoo\",\n        version = \"0.1\",\n        description = \"My GUI application!\",\n        options = {\"build_exe\": build_exe_options},\n        executables = [Executable(\"guifoo.py\", base=base)])\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EСборка исполняемого файла:  \u003C\u002Fp\u003E\u003Cp\u003E\u003Cem\u003E \u003C\u002Fem\u003E\u003Ccode\u003Epython setup.py build\u003C\u002Fcode\u003E  \u003C\u002Fp\u003E\u003Ch2\u003EJIT-компиляция Python  \u003C\u002Fh2\u003E\u003Cp\u003EJIT-компиляция не позволяет скрывать исходники или создавать автономный исполняемый файл, но дает возможность значительно ускорить выполнение программы.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EPyPy\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003EPyPy - интерпретатор языка программирования Python 2.7 и Python 3.7. Он написан на RPython и содержит: \u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eкомпилятор байт-кода, отвечающий за создание объектов кода Python из исходного кода пользовательского приложения;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eоценщик байт-кода, ответственный за интерпретацию объектов кода Python;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eстандартное объектное пространство, отвечающее за создание и управление объектами Python, видимыми приложением. \u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EPyPy поддерживает сотни библиотек Python, включая NumPy.\u003C\u002Fp\u003E\u003Cp\u003EОсновные особенности (сравнение с CPython):\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003EСкорость.\u003C\u002Fstrong\u003E При выполнении длительно выполняющихся программ, когда значительная часть времени тратится на выполнение кода Python, PyPy может значительно ускорить ваш код.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003EИспользование памяти.\u003C\u002Fstrong\u003E Программы Python, требующие много памяти (несколько сотен Мб или более), могут занимать меньше места, чем в CPython. Однако это не всегда так, поскольку зависит от множества деталей. Также базовый уровень потребления оперативной памяти выше, чем у CPython.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EСкачать PyPy можно с \u003Ca href=\"https:\u002F\u002Fwww.pypy.org\u002Fdownload.html\"\u003Eздесь\u003C\u002Fa\u003E. После скачивания PyPy готов к запуску после распаковки архива. Если необходимо сделать PyPy доступным для всей системы, достаточно поместить символическую ссылку на исполняемый файл pypy в \u003Cstrong\u003E\u002Fusr\u002Flocal\u002Fbin\u003C\u002Fstrong\u003E. Также можно поставить с помощью \u003Cstrong\u003Epyenv\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\u003Cp\u003EPyPy работает на Mac, Linux (не все дистрибутивы) или Windows.\u003C\u002Fp\u003E\u003Cp\u003EДля запуска кода с помощью PyPy вместо команды \u003Cstrong\u003Epython3\u003C\u002Fstrong\u003E (как c помощью CPython) достаточно воспользоваться командой \u003Cstrong\u003Epypy3\u003C\u002Fstrong\u003E:\u003C\u002Fp\u003E\u003Cp\u003E\u003Cem\u003E \u003C\u002Fem\u003E\u003Ccode\u003Epypy3 something.py\u003C\u002Fcode\u003E  \u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EPyston\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cp\u003EPyston - это форк CPython 3.8.8 с дополнительной оптимизацией производительности. В настоящее время он поддерживает установку только из исходников. Или с помощью \u003Cstrong\u003Epyenv\u003C\u002Fstrong\u003E.\u003C\u002Fp\u003E\u003Cp\u003EВ Pyston поддерживаются все возможности CPython, в том числе C API для разработки расширений на языке Си. Среди основных отличий Pyston от CPython помимо общих оптимизаций выделяется использование\u003Ca href=\"https:\u002F\u002Fluajit.org\u002Fdynasm.html\"\u003E \u003Cu\u003EDynASM JIT\u003C\u002Fu\u003E\u003C\u002Fa\u003E и\u003Ca href=\"https:\u002F\u002Fbugs.python.org\u002Fissue14757\"\u003E \u003Cu\u003Einline-кэширования\u003C\u002Fu\u003E\u003C\u002Fa\u003E. \u003C\u002Fp\u003E\u003Ch2\u003EЗаключение\u003C\u002Fh2\u003E\u003Cp\u003EИтак, мы рассмотрели 5 фреймворков AOT-компиляции Python. Для любителей аналитики, ниже приведена таблица со сравнительным анализом.  \u003C\u002Fp\u003E\u003Cdiv\u003E\u003Cdiv class=\"table\"\u003E\u003Ctable\u003E\u003Ctbody\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\"230\" width=\"230\"\u003E\u003Cp\u003E\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"95\" width=\"95\"\u003E\u003Cp\u003E\u003Cstrong\u003EPyInstaller\u003C\u002Fstrong\u003E  \u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"82\" width=\"82\"\u003E\u003Cp\u003E\u003Cstrong\u003ECython\u003C\u002Fstrong\u003E  \u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"84\" width=\"84\"\u003E\u003Cp\u003E\u003Cstrong\u003ENuitka\u003C\u002Fstrong\u003E  \u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"86\" width=\"86\"\u003E\u003Cp\u003E\u003Cstrong\u003EPythran\u003C\u002Fstrong\u003E  \u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E\u003Cstrong\u003Ecx-Freeze\u003C\u002Fstrong\u003E  \u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\"230\" width=\"230\"\u003E\u003Cp\u003EГенерация автономных исполняемых файлов  \u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"95\" width=\"95\"\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"82\" width=\"82\"\u003E\u003Cp\u003E-\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"84\" width=\"84\"\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"86\" width=\"86\"\u003E\u003Cp\u003E-\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\"230\" width=\"230\"\u003E\u003Cp\u003EКомпиляция python-модуля в исполняемый файл, совместимый с CPython\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"95\" width=\"95\"\u003E\u003Cp\u003E-\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"82\" width=\"82\"\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"84\" width=\"84\"\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"86\" width=\"86\"\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\"230\" width=\"230\"\u003E\u003Cp\u003EКомпиляция байт-кода Python\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"95\" width=\"95\"\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"82\" width=\"82\"\u003E\u003Cp\u003E-\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"84\" width=\"84\"\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"86\" width=\"86\"\u003E\u003Cp\u003E-\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\"230\" width=\"230\"\u003E\u003Cp\u003EТрансляция Python в С\u002FC++  \u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"95\" width=\"95\"\u003E\u003Cp\u003E-\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"82\" width=\"82\"\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"84\" width=\"84\"\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"86\" width=\"86\"\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E-\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\"230\" width=\"230\"\u003E\u003Cp\u003EКроссплатформенность  \u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"95\" width=\"95\"\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"82\" width=\"82\"\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"84\" width=\"84\"\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"86\" width=\"86\"\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E+\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003Ctr\u003E\u003Ctd data-colwidth=\"230\" width=\"230\"\u003E\u003Cp\u003EКросскомпиляция  \u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"95\" width=\"95\"\u003E\u003Cp\u003E-\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"82\" width=\"82\"\u003E\u003Cp\u003E-\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"84\" width=\"84\"\u003E\u003Cp\u003E-\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd data-colwidth=\"86\" width=\"86\"\u003E\u003Cp\u003E-\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003Ctd\u003E\u003Cp\u003E-\u003C\u002Fp\u003E\u003C\u002Ftd\u003E\u003C\u002Ftr\u003E\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cp\u003EСреднее относительное время выполнения кода на различных версиях CPython, интерпретаторах с поддержкой JIT-компиляции и после сборки на фреймворках AOT-компиляции:\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F579\u002F021\u002F08d\u002F57902108df33a9aa3734859ab9df7f0a.jpg\" width=\"2153\" height=\"1080\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F579\u002F021\u002F08d\u002F57902108df33a9aa3734859ab9df7f0a.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"955\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F350\u002Fa5c\u002F2a9\u002F350a5c2a95414192fa578eaf40b10f33.png\" data-width=\"1904\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Ch2\u003EСписок литературы\u003C\u002Fh2\u003E\u003Col\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\"http:\u002F\u002Fwww.pyinstaller.org\u002F\"\u003E\u003Cu\u003Ehttp:\u002F\u002Fwww.pyinstaller.org\u002F\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcython.org\u002F\"\u003E\u003Cu\u003Ehttps:\u002F\u002Fcython.org\u002F\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fnuitka.net\u002F\"\u003E\u003Cu\u003Ehttps:\u002F\u002Fnuitka.net\u002F\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fserge-sans-paille\u002Fpythran\"\u003E\u003Cu\u003Ehttps:\u002F\u002Fgithub.com\u002Fserge-sans-paille\u002Fpythran\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fcx-freeze.readthedocs.io\u002Fen\u002Flatest\u002F\"\u003E\u003Cu\u003Ehttps:\u002F\u002Fcx-freeze.readthedocs.io\u002Fen\u002Flatest\u002F\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fpyston\u002Fpyston\"\u003E\u003Cu\u003Ehttps:\u002F\u002Fgithub.com\u002Fpyston\u002Fpyston\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.pypy.org\u002F\"\u003E\u003Cu\u003Ehttps:\u002F\u002Fwww.pypy.org\u002F\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Fol\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"python"},{"titleHtml":"jit-компилятор"},{"titleHtml":"aot"},{"titleHtml":"pyinstaller"},{"titleHtml":"cython"},{"titleHtml":"nuitka"},{"titleHtml":"cx_freeze"},{"titleHtml":"pypy"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F605\u002F2d3\u002F8eb\u002F6052d38eb6b10e4c62cf01699935fce9.jpg","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F605\u002F2d3\u002F8eb\u002F6052d38eb6b10e4c62cf01699935fce9.jpg","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompany\\\u002Fnumdes\\\u002Fblog\\\u002F581374\\\u002F\"},\"headline\":\"Компиляция Python\",\"datePublished\":\"2021-10-06T15:56:17+03:00\",\"dateModified\":\"2021-10-08T12:53:16+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Цифровое проектирование\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Предположим, вы разработали приложение или библиотеку на Python и уже готовитесь передать его \\\u002F её&nbsp; заказчику. И в этот момент возникают вопросы, о которых многи...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompany\\\u002Fnumdes\\\u002Fblog\\\u002F581374\\\u002F#post-content-body\",\"about\":[\"c_numdes\",\"h_hi\",\"h_python\",\"h_programming\",\"h_compilers\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F581374\\\u002F37e40458cb2279fae994dade5b7f5857\\\u002F\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F991\\\u002F60e\\\u002Faaf\\\u002F99160eaaf94489fa7c74a354f7dc1513.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F579\\\u002F021\\\u002F08d\\\u002F57902108df33a9aa3734859ab9df7f0a.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F350\\\u002Fa5c\\\u002F2a9\\\u002F350a5c2a95414192fa578eaf40b10f33.png\"]}","metaDescription":"Предположим, вы разработали приложение или библиотеку на Python и уже готовитесь передать его \u002F её&nbsp; заказчику. И в этот момент возникают вопросы, о которых многие даже не задумываются.Во-первых,...","mainImageUrl":null,"amp":true},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":""},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{"numdes":{"alias":"numdes","imageUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fcompany\u002Fd42\u002Fce2\u002F110\u002Fd42ce21104a442024a88c47bcf45a426.jpg","titleHtml":"Цифровое проектирование","descriptionHtml":"Наука и технологии","relatedData":null,"statistics":{"postsCount":2,"newsCount":0,"vacanciesCount":0,"employeesCount":7,"careerRating":null,"subscribersCount":16,"rating":51.33,"invest":null},"foundationDate":null,"location":{"city":{"id":"447733","title":"Санкт-Петербург"},"region":{"id":"1948","title":"Санкт-Петербург и область"},"country":{"id":"168","title":"Россия"}},"siteUrl":"https:\u002F\u002Fnumdes.com\u002F","staffNumber":"51–100 человек","registrationDate":"2021-08-24T07:12:04+00:00","representativeUser":null,"contacts":[{"title":"Сайт","url":"https:\u002F\u002Fnumdes.com\u002F"},{"title":"Хабр Карьера","url":"https:\u002F\u002Fcareer.habr.com\u002Fcompanies\u002Fnumdes"},{"title":"ВКонтакте","url":"https:\u002F\u002Fvk.com\u002Fnumdes"},{"title":"Instagram","url":"https:\u002F\u002Finstagram.com\u002Fnumdesgn"}],"settings":{"analyticsSettings":[],"branding":null,"status":"active"},"metadata":{"titleHtml":"Цифровое проектирование, Санкт-Петербург - Наука и технологии","title":"Цифровое проектирование, Санкт-Петербург - Наука и технологии","keywords":["Обработка изображений","Геоинформационные сервисы","Машинное обучение","Высокая производительность","Python"],"descriptionHtml":"2 статьи от авторов компании Цифровое проектирование","description":"2 статьи от авторов компании Цифровое проектирование"},"aDeskSettings":null,"careerAlias":"numdes","maxCustomTrackerLinks":0}},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
