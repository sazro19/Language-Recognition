<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Компьютерное зрение на Java? Элементарно вместе с OpenCV / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/585322\/"},"headline":"Компьютерное зрение на Java? Элементарно вместе с OpenCV","datePublished":"2021-10-25T12:58:05+03:00","dateModified":"2021-10-25T12:58:05+03:00","author":{"@type":"Person","name":"dsb42"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Ас-саляму алейкум, братья!В этом посте хочу показать вам как при помощи программного кода обрабатывать изображение и видео. Материал разобью на 4 шага, работать...","url":"https:\/\/habr.com\/ru\/post\/585322\/#post-content-body","about":["h_video","h_programming","h_java","h_image_processing","h_robot","f_develop","f_design","f_popsci"],"image":["https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/412\/ae8\/956\/412ae89561be8f0749f9b8398a35bdef.jpg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/58f\/fd6\/f17\/58ffd6f17e0847f0b2b1459ad7d675f8.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/b39\/c8f\/c3f\/b39c8fc3f05515df46620e3e29973f3c.gif"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Компьютерное зрение на Java? Элементарно вместе с OpenCV" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Компьютерное зрение на Java? Элементарно вместе с OpenCV" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Компьютерное зрение на Java? Элементарно вместе с OpenCV" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Ас-саляму алейкум, братья!В этом посте хочу показать вам как при помощи программного кода обрабатывать изображение и видео. Материал разобью на 4 шага, работать будем на Java. Для начала потребуется..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Ас-саляму алейкум, братья!В этом посте хочу показать вам как при помощи программного кода обрабатывать изображение и видео. Материал разобью на 4 шага, работать будем на Java. Для начала потребуется..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Ас-саляму алейкум, братья!В этом посте хочу показать вам как при помощи программного кода обрабатывать изображение и видео. Материал разобью на 4 шага, работать будем на Java. Для начала потребуется..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Ас-саляму алейкум, братья!В этом посте хочу показать вам как при помощи программного кода обрабатывать изображение и видео. Материал разобью на 4 шага, работать будем на Java. Для начала потребуется..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Ас-саляму алейкум, братья!В этом посте хочу показать вам как при помощи программного кода обрабатывать изображение и видео. Материал разобью на 4 шага, работать будем на Java. Для начала потребуется..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/585322/2eb9501f17f20f7c27506dba9eecc4f2/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/585322/2eb9501f17f20f7c27506dba9eecc4f2/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/585322/2eb9501f17f20f7c27506dba9eecc4f2/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/585322/2eb9501f17f20f7c27506dba9eecc4f2/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/585322/2eb9501f17f20f7c27506dba9eecc4f2/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="585322" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2021-10-25T09:58:05.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/585322/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/585322/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/585322/2eb9501f17f20f7c27506dba9eecc4f2/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/dsb42/" title="dsb42" class="tm-user-info__userpic"><div class="tm-entity-image"><svg height="24" width="24" class="tm-svg-img tm-image-placeholder tm-image-placeholder_green"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <span class="tm-user-info__user"><a href="/ru/users/dsb42/" class="tm-user-info__username">
      dsb42
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2021-10-25T09:58:05.000Z" title="2021-10-25, 12:58">сегодня в 12:58</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Компьютерное зрение на Java? Элементарно вместе с OpenCV</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/video/" class="tm-article-snippet__hubs-item-link"><span>Работа с видео</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/programming/" class="tm-article-snippet__hubs-item-link"><span>Программирование</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/java/" class="tm-article-snippet__hubs-item-link"><span>Java</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/image_processing/" class="tm-article-snippet__hubs-item-link"><span>Обработка изображений</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/robot/" class="tm-article-snippet__hubs-item-link"><span>Робототехника</span> <!----></a></span></div> <div class="tm-article-snippet__labels"><div class="tm-article-snippet__label"><span>
        Из песочницы
      </span></div></div> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><figure class="full-width "><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/412/ae8/956/412ae89561be8f0749f9b8398a35bdef.jpg" width="4140" height="2120" data-src="https://habrastorage.org/getpro/habr/upload_files/412/ae8/956/412ae89561be8f0749f9b8398a35bdef.jpg" data-blurred="true"/><figcaption></figcaption></figure><h2>Ас-саляму алейкум, братья!</h2><p>В этом посте хочу показать вам как при помощи программного кода обрабатывать изображение и видео. Материал разобью на 4 шага, работать будем на Java. Для начала потребуется поставить библиотеку openCV, которую можно скачать на официальном сайте ' <a href="https://opencv.org/" rel="noopener noreferrer nofollow">https://opencv.org/</a> ', более подробная инструкция <a href="https://www.youtube.com/watch?v=-pLF1rn35O4&amp;list=PLU_7Rgz8DWYtVqhq6Ggup10RIpl05la5S" rel="noopener noreferrer nofollow">в прикреплённом видео.</a></p><h3>Шаг 1: [Обработка изображения] </h3><div class="tm-iframe_temp" data-src="https://embedd.srv.habr.com/iframe/616f1128f61f533babdf2ee6" data-style="" id="616f1128f61f533babdf2ee6" width=""></div><p><a href="https://github.com/DenissStepanjuk/TutorialOpenCV/tree/main/src/a_Image" rel="noopener noreferrer nofollow">GitHub</a></p><p>Давайте создадим всплывающее окно для отображения изображений.</p><pre><code class="java">        // Создаём окно для просмотра изображения.
        JFrame window = new JFrame("Window:");
        // Создаём контейнер для изображения.
        JLabel screen = new JLabel();
        // Установлимаем операцию закрытия по умолчанию.
        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        // Делаем окно отображения контента видимым.
        window.setVisible(true);</code></pre><p>Подгрузим изображение прописав путь к нему в метод <strong><em>Imgcodecs.imread()</em></strong></p><pre><code class="java">        // Загружаем изображение, храним его как объект матрицы.
        Mat img = Imgcodecs.imread("src\\a_Image\\butterfly.png");</code></pre><p>Производим поток преобразований над изображением, после чего выводим его в окне созданном выше.</p><pre><code class="java">				/* Преобразуем изображение в матрицу байтов с целью
           получить массив байтов (пикселей). */
        MatOfByte buf = new MatOfByte();
        Imgcodecs.imencode(".png", img, buf);

        /* Преобразуем массив пикселей в ImageIcon,
           изображение которое будет отображатся. */
        ImageIcon ic = new ImageIcon(buf.toArray());

        // Привязываем изображение к контейнеру.
        screen.setIcon(ic);
        // Привязываем контейнер к окну отображения.
        window.getContentPane().add(screen);
        window.pack();</code></pre><p>Поздравляю! Первый навык разблокирован, теперь мы можем отобразить .jpg в всплывающем окне при помощи джавы. Давайте на этом не будем останавливаться и отредактируем .jpg.</p><p>Редактировать .jpg будем при помощи матрицы трансформаций (kernel). Суть состоит в следующем, представим kernel как прямоугольную матрицу, каждый элемент это множитель, разные наборы множителей вызывают разные эфекты. Kernel проходит через все элементы .jpg, домнажает их на себя, тем самым изменяя .jpg. Более наглядно можно посмотреть на картинках.</p><pre><code>        // Создаём ядро (kernel) для обработки изображения (матрица трансформации).
        Mat kernel = new Mat (20,20, CvType.CV_8UC1, new Scalar(1.0));</code></pre><figure class="full-width "><img src="/img/image-loader.svg" height="222" data-src="https://habrastorage.org/getpro/habr/upload_files/58f/fd6/f17/58ffd6f17e0847f0b2b1459ad7d675f8.png" data-width="1892"/><figcaption></figcaption></figure><figure class="full-width "><img src="/img/image-loader.svg" height="299" data-src="https://habrastorage.org/getpro/habr/upload_files/b39/c8f/c3f/b39c8fc3f05515df46620e3e29973f3c.gif" data-width="535"/><figcaption></figcaption></figure><p>Теперь на основе kernel мы можем использовать фильтры, эфекты и искожения. Обработываемое фото можно менять по размеру, обрезать и сохранить.</p><pre><code class="java">				// Расширяем светлые и сужаем тёмные области.
        Imgproc.dilate(img, imgEmpty, kernel);
        // Расширяем тёмные и сужаем светлые области.
        Imgproc.erode(img, imgEmpty, kernel);
        // Конвертируем изображение в другое цветовое пространство.
        Imgproc.cvtColor(img, imgEmpty, Imgproc.COLOR_BGR2GRAY);
        // Размываем изображение (параметры ядра должны быть нечетными).
        Imgproc.GaussianBlur(img, imgEmpty, new Size (15,15), 0);
        // Выделяем границы изображения.
        Imgproc.Canny(img, imgEmpty, 2,2);
        // Изменяем размер изображения.
        Imgproc.resize(img, imgEmpty, new Size(200,200));
        // Обрезаем изображение.
        Mat imgCrop = img.colRange(400,600).rowRange(200,400);
        // Обрабатываем часть изображения.
        Imgproc.erode(img.colRange(400,600).rowRange(200,400), img.colRange(400,600).rowRange(200,400), kernel);
        // Сохраняем изображение.
        Imgcodecs.imwrite("src\\a_Image\\savedImg.png", img);</code></pre><h3>Шаг 2: [Обработка видео и видеопотока]</h3><div class="tm-iframe_temp" data-src="https://embedd.srv.habr.com/iframe/616f210bad041b3b9bfdc7a7" data-style="" id="616f210bad041b3b9bfdc7a7" width=""></div><p><a href="https://github.com/DenissStepanjuk/TutorialOpenCV/tree/main/src/b_Video" rel="noopener noreferrer nofollow">GitHub</a></p><p>Для работы с видео создадим объект класса VideoCapture(). Его функционал позволит отображать изображение с веб-камеры и воспроизводить видеозаписи. В качестве аргумента передаём на вход путь к видеофайлу или id веб-камеры (default: 0).</p><pre><code class="java">       /* Инициализируем видеопоток. Класс VideoCapture предназначен для захвата кадра
          из видео или видеопотока. */
        VideoCapture cap = new VideoCapture("src/b_Video/testVideo.mp4");</code></pre><p>Обращаясь к объекту класса VideoCapture() в цикле поочередно извлекаем кадры, присваиваем матрице frame значение текущего кадра.</p><pre><code class="java">        // До тех пор пока поступает кадр из видеопотока выполняем следующие действия:
        while (cap.grab()) {
            // Извлекаем кадр из видеопотока.
            cap.read(frame);</code></pre><p>Вывод всплывающего окна следует проводить в цикле, так же используя следующие функции можно нарисрвать линию, прямоугольник, круг и поместить на видео текст:</p><pre><code class="java">            // Инициализируем цвет (BGR)
            Scalar color = new Scalar(0,255,0);
            /* Наносим линию на изображение.
               Обрабатываемое изображение, начальная точкаб конечная точкаб цвет, толщина линии */
            Imgproc.line(frame, new Point(0,0), new Point(640,480), color,2);
            //
            Imgproc.rectangle(frame, new Rect(200, 100,240, 280), new Scalar(255, 0, 0),3);
            //
            Imgproc.circle(frame, new Point(320,240), 120, new Scalar(0, 0, 255), 5);
            //
            Imgproc.putText(frame, "SDBproduction", new Point(150,50),
                    4, 1.5, new Scalar(5, 5, 5));</code></pre><h3>Шаг 3: [Стриминг видео "UDP Socket"] </h3><div class="tm-iframe_temp" data-src="https://embedd.srv.habr.com/iframe/616f23f9f61f533babdf2ee7" data-style="" id="616f23f9f61f533babdf2ee7" width=""></div><p><a href="https://github.com/DenissStepanjuk/TutorialOpenCV/tree/main/src/c_Sockets" rel="noopener noreferrer nofollow">GitHub</a></p><p>Для передачи видеопотока по локальной сети мы выстроим следующую логику работы. Сервер всегда находится в режиме ожидания. Клиент может подключиться к серверу и начать передавать видео, в этом случае сервер переключится в режим приёма видео от клиента, как только клиент отключится сервер уйдет в режим ожидания.</p><p>Давайте пропишим код для клиента:</p><p>Создаём соединение со стороны клиента.</p><pre><code class="java"> 			 	/* Инициализируем видеопоток. Класс VideoCapture предназначен для захвата кадра
           из видео или видеопотока. */
        VideoCapture cap = new VideoCapture(1);

        // Создаём сокет, точку соединения между двумя компьютерами.
        Socket socket = new Socket("192.168.1.159",1234);
        /* Создаём объект DataOutputStream который связываем с нашим сокетом.
           Данный объект позволяет отправлять примитивные типы данных. */
        DataOutputStream dataOutputStream = new DataOutputStream(socket.getOutputStream());</code></pre><p>Каждый кадр конвертируем в примитивный  тип данных и отправляем на сервер.</p><pre><code class="java">       // До тех пор пока поступает кадр из видеопотока выполняем следующие действия:
        while (cap.grab()) {

            try {
                // Извлекаем кадр из видеопотока.
                cap.read(frame);

                /* Преобразуем изображение в матрицу байтов с целью
                   получить массив байтов (пикселей). */
                Imgcodecs.imencode(".png", frame, buf);
                imageData = buf.toArray();

                // Извлекаем размер изображения.
                int dataLength = imageData.length;

                // Отправляем размер изображения.
                dataOutputStream.writeInt(dataLength);
                /* Отправляем изображение в виде массива байтов (пикселей).
                   "последовательность байтов" */
                dataOutputStream.write(imageData);
</code></pre><p>Сервер со своей стороны состоит из двух циклов. В первом цикле ожидаем подключения к серверу от клиента. Если подключение установлено. то внутри этого цикла запускается второй, который будет принимать видеопоток от пользователя и выводить его.</p><pre><code class="java">   // Создаём серверный сокет, который будет слушать на заданом порту.
        ServerSocket serverSocket = new ServerSocket(1234);

        // В бесконечном цикле ожидаем подключение к серверу.
        while (true) {

            try {
                /* Ожидаем клиента, если придёт запрос от клиента создаём сокет (точку соединения)
                   чтобы подключится. */
                Socket socket = serverSocket.accept();

                /* Создаём объект DataInputStream который связываем с нашим сокетом.
                   Данный объект позволяет принимать примитивные типы данных. */
                DataInputStream dataInputStream = new DataInputStream(socket.getInputStream());

                // В бесконечном цикле принимаем данные от клиента.
                while (true) {

                    // Принимаем размер изображения.
                    int dataLength = dataInputStream.readInt();

                    // Если изображение существует, то
                    if (dataLength > 0) {

                        /* принимаем изображение в виде массива байтов (пикселей).
                           "последовательность байтов" */
                        byte[] imageData = new byte [dataLength];
                        dataInputStream.readFully(imageData,0,dataLength);

                        /* Преобразуем массив пикселей в ImageIcon,
                           изображение которое будет отображатся. */
                        ic = new ImageIcon(imageData);

                        // Привязываем изображение к контейнеру.
                        screen.setIcon(ic);
                        // Привязываем контейнер к окну отображения.
                        window.setContentPane(screen);
                        window.pack();
                    }
                }
            } catch (Exception e) {
                e.printStackTrace();
            }
        }
    }</code></pre><h3>Шаг 4: [Детекция объектов " YOLOv4 "] </h3><div class="tm-iframe_temp" data-src="https://embedd.srv.habr.com/iframe/616f258a6ea11f3bbbaf1fd3" data-style="" id="616f258a6ea11f3bbbaf1fd3" width=""></div><p><a href="https://github.com/DenissStepanjuk/TutorialOpenCV/tree/main/src/d_DNN" rel="noopener noreferrer nofollow">GitHub</a></p><p><a href="https://github.com/AlexeyAB/darknet/w..." rel="noopener noreferrer nofollow">Свёрточная нейронная сеть [скачать]</a></p><p>Чтобы разобраться с детекцией объектов на джава предлагаю вам посмотреть мой видеоурок.</p><p>Огромное спасибо за внимание!</p></div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bjava%5D" class="tm-tags-list__link">java</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bopencv%5D" class="tm-tags-list__link">opencv</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0%5D" class="tm-tags-list__link">обработка</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B2%D0%B8%D0%B4%D0%B5%D0%BE%5D" class="tm-tags-list__link">видео</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%84%D0%BE%D1%82%D0%BE%5D" class="tm-tags-list__link">фото</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BA%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80%D0%BD%D0%BE%D0%B5%20%D0%B7%D1%80%D0%B5%D0%BD%D0%B8%D0%B5%5D" class="tm-tags-list__link">компьютерное зрение</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%84%D0%B8%D0%BB%D1%8C%D1%82%D1%80%D1%8B%5D" class="tm-tags-list__link">фильтры</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B8%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%5D" class="tm-tags-list__link">изображение</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B0%D0%BD%D0%B0%D0%BB%D0%B8%D0%B7%5D" class="tm-tags-list__link">анализ</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/video/" class="tm-hubs-list__link">
    Работа с видео
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/programming/" class="tm-hubs-list__link">
    Программирование
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/java/" class="tm-hubs-list__link">
    Java
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/image_processing/" class="tm-hubs-list__link">
    Обработка изображений
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/robot/" class="tm-hubs-list__link">
    Робототехника
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 2: ↑2 и ↓0</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 2: ↑2 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+2</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">1.1K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    21
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/dsb42/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><svg class="tm-svg-img tm-image-placeholder tm-image-placeholder_green"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <div class="tm-user-card__meta"><div title=" 1 голос " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    1
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">2</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><!----> <a href="/ru/users/dsb42/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @dsb42
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/585322/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 3 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/585322/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/585322/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"585322":{"id":"585322","timePublished":"2021-10-25T09:58:05+00:00","isCorporative":false,"lang":"ru","titleHtml":"Компьютерное зрение на Java? Элементарно вместе с OpenCV","leadData":{"textHtml":"\u003Cp\u003EАс-саляму алейкум, братья! \u003C\u002Fp\u003E\u003Cp\u003EДумаю многие в своей жизни хотели разобраться с тем как при помощи программного кода обрабатывать изображения и видео. Применений у этого навыка бессчётное количество, у кого на что фантазии хватит. Можно начать с автоматической коррекции огромного числа фотографий, а закончить deep fake видео с участием \" Олега Тинькова \".\u003C\u002Fp\u003E\u003Cp\u003EКакой же инструмент для этого применить, да если ещё учесть что вы закоренелый джавист? Думаю лучшим инструментом в этом случае будет библиотека OpenCV. Исходя из всего вышеперечисленного представляю вам серию видеороликов в которых Я подробно расскажу вам о том как установить библиотеку OpenCV, её функционале и работе с изображением и видео на языке Java.\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Ознакомиться","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F412\u002Fae8\u002F956\u002F412ae89561be8f0749f9b8398a35bdef.jpg","fit":"cover","positionY":0,"positionX":0}},"editorVersion":"2.0","postType":"article","postLabels":[{"type":"sandbox","data":null}],"author":{"scoreStats":{"score":1,"votesCount":1},"rating":2,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"2794823","alias":"dsb42","fullname":null,"avatarUrl":null,"speciality":null},"statistics":{"commentsCount":3,"favoritesCount":21,"readingCount":1113,"score":2,"votesCount":2},"hubs":[{"relatedData":null,"id":"262","alias":"video","type":"collective","title":"Работа с видео","titleHtml":"Работа с видео","isProfiled":true},{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"375","alias":"java","type":"collective","title":"Java","titleHtml":"Java","isProfiled":true},{"relatedData":null,"id":"17175","alias":"image_processing","type":"collective","title":"Обработка изображений","titleHtml":"Обработка изображений","isProfiled":true},{"relatedData":null,"id":"21902","alias":"robot","type":"collective","title":"Робототехника","titleHtml":"Робототехника","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"2","alias":"design","title":"Дизайн"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F412\u002Fae8\u002F956\u002F412ae89561be8f0749f9b8398a35bdef.jpg\" width=\"4140\" height=\"2120\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F412\u002Fae8\u002F956\u002F412ae89561be8f0749f9b8398a35bdef.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Ch2\u003EАс-саляму алейкум, братья!\u003C\u002Fh2\u003E\u003Cp\u003EВ этом посте хочу показать вам как при помощи программного кода обрабатывать изображение и видео. Материал разобью на 4 шага, работать будем на Java. Для начала потребуется поставить библиотеку openCV, которую можно скачать на официальном сайте ' \u003Ca href=\"https:\u002F\u002Fopencv.org\u002F\" rel=\"noopener noreferrer nofollow\"\u003Ehttps:\u002F\u002Fopencv.org\u002F\u003C\u002Fa\u003E ', более подробная инструкция \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=-pLF1rn35O4&amp;list=PLU_7Rgz8DWYtVqhq6Ggup10RIpl05la5S\" rel=\"noopener noreferrer nofollow\"\u003Eв прикреплённом видео.\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Ch3\u003EШаг 1: [Обработка изображения] \u003C\u002Fh3\u003E\u003Cdiv class=\"tm-iframe_temp\" data-src=\"https:\u002F\u002Fembedd.srv.habr.com\u002Fiframe\u002F616f1128f61f533babdf2ee6\" data-style=\"\" id=\"616f1128f61f533babdf2ee6\" width=\"\"\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002FDenissStepanjuk\u002FTutorialOpenCV\u002Ftree\u002Fmain\u002Fsrc\u002Fa_Image\" rel=\"noopener noreferrer nofollow\"\u003EGitHub\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003EДавайте создадим всплывающее окно для отображения изображений.\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"java\"\u003E        \u002F\u002F Создаём окно для просмотра изображения.\n        JFrame window = new JFrame(\"Window:\");\n        \u002F\u002F Создаём контейнер для изображения.\n        JLabel screen = new JLabel();\n        \u002F\u002F Установлимаем операцию закрытия по умолчанию.\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \u002F\u002F Делаем окно отображения контента видимым.\n        window.setVisible(true);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EПодгрузим изображение прописав путь к нему в метод \u003Cstrong\u003E\u003Cem\u003EImgcodecs.imread()\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"java\"\u003E        \u002F\u002F Загружаем изображение, храним его как объект матрицы.\n        Mat img = Imgcodecs.imread(\"src\\\\a_Image\\\\butterfly.png\");\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EПроизводим поток преобразований над изображением, после чего выводим его в окне созданном выше.\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"java\"\u003E\t\t\t\t\u002F* Преобразуем изображение в матрицу байтов с целью\n           получить массив байтов (пикселей). *\u002F\n        MatOfByte buf = new MatOfByte();\n        Imgcodecs.imencode(\".png\", img, buf);\n\n        \u002F* Преобразуем массив пикселей в ImageIcon,\n           изображение которое будет отображатся. *\u002F\n        ImageIcon ic = new ImageIcon(buf.toArray());\n\n        \u002F\u002F Привязываем изображение к контейнеру.\n        screen.setIcon(ic);\n        \u002F\u002F Привязываем контейнер к окну отображения.\n        window.getContentPane().add(screen);\n        window.pack();\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EПоздравляю! Первый навык разблокирован, теперь мы можем отобразить .jpg в всплывающем окне при помощи джавы. Давайте на этом не будем останавливаться и отредактируем .jpg.\u003C\u002Fp\u003E\u003Cp\u003EРедактировать .jpg будем при помощи матрицы трансформаций (kernel). Суть состоит в следующем, представим kernel как прямоугольную матрицу, каждый элемент это множитель, разные наборы множителей вызывают разные эфекты. Kernel проходит через все элементы .jpg, домнажает их на себя, тем самым изменяя .jpg. Более наглядно можно посмотреть на картинках.\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E        \u002F\u002F Создаём ядро (kernel) для обработки изображения (матрица трансформации).\n        Mat kernel = new Mat (20,20, CvType.CV_8UC1, new Scalar(1.0));\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"222\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F58f\u002Ffd6\u002Ff17\u002F58ffd6f17e0847f0b2b1459ad7d675f8.png\" data-width=\"1892\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" height=\"299\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb39\u002Fc8f\u002Fc3f\u002Fb39c8fc3f05515df46620e3e29973f3c.gif\" data-width=\"535\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EТеперь на основе kernel мы можем использовать фильтры, эфекты и искожения. Обработываемое фото можно менять по размеру, обрезать и сохранить.\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"java\"\u003E\t\t\t\t\u002F\u002F Расширяем светлые и сужаем тёмные области.\n        Imgproc.dilate(img, imgEmpty, kernel);\n        \u002F\u002F Расширяем тёмные и сужаем светлые области.\n        Imgproc.erode(img, imgEmpty, kernel);\n        \u002F\u002F Конвертируем изображение в другое цветовое пространство.\n        Imgproc.cvtColor(img, imgEmpty, Imgproc.COLOR_BGR2GRAY);\n        \u002F\u002F Размываем изображение (параметры ядра должны быть нечетными).\n        Imgproc.GaussianBlur(img, imgEmpty, new Size (15,15), 0);\n        \u002F\u002F Выделяем границы изображения.\n        Imgproc.Canny(img, imgEmpty, 2,2);\n        \u002F\u002F Изменяем размер изображения.\n        Imgproc.resize(img, imgEmpty, new Size(200,200));\n        \u002F\u002F Обрезаем изображение.\n        Mat imgCrop = img.colRange(400,600).rowRange(200,400);\n        \u002F\u002F Обрабатываем часть изображения.\n        Imgproc.erode(img.colRange(400,600).rowRange(200,400), img.colRange(400,600).rowRange(200,400), kernel);\n        \u002F\u002F Сохраняем изображение.\n        Imgcodecs.imwrite(\"src\\\\a_Image\\\\savedImg.png\", img);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3\u003EШаг 2: [Обработка видео и видеопотока]\u003C\u002Fh3\u003E\u003Cdiv class=\"tm-iframe_temp\" data-src=\"https:\u002F\u002Fembedd.srv.habr.com\u002Fiframe\u002F616f210bad041b3b9bfdc7a7\" data-style=\"\" id=\"616f210bad041b3b9bfdc7a7\" width=\"\"\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002FDenissStepanjuk\u002FTutorialOpenCV\u002Ftree\u002Fmain\u002Fsrc\u002Fb_Video\" rel=\"noopener noreferrer nofollow\"\u003EGitHub\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003EДля работы с видео создадим объект класса VideoCapture(). Его функционал позволит отображать изображение с веб-камеры и воспроизводить видеозаписи. В качестве аргумента передаём на вход путь к видеофайлу или id веб-камеры (default: 0).\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"java\"\u003E       \u002F* Инициализируем видеопоток. Класс VideoCapture предназначен для захвата кадра\n          из видео или видеопотока. *\u002F\n        VideoCapture cap = new VideoCapture(\"src\u002Fb_Video\u002FtestVideo.mp4\");\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EОбращаясь к объекту класса VideoCapture() в цикле поочередно извлекаем кадры, присваиваем матрице frame значение текущего кадра.\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"java\"\u003E        \u002F\u002F До тех пор пока поступает кадр из видеопотока выполняем следующие действия:\n        while (cap.grab()) {\n            \u002F\u002F Извлекаем кадр из видеопотока.\n            cap.read(frame);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EВывод всплывающего окна следует проводить в цикле, так же используя следующие функции можно нарисрвать линию, прямоугольник, круг и поместить на видео текст:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"java\"\u003E            \u002F\u002F Инициализируем цвет (BGR)\n            Scalar color = new Scalar(0,255,0);\n            \u002F* Наносим линию на изображение.\n               Обрабатываемое изображение, начальная точкаб конечная точкаб цвет, толщина линии *\u002F\n            Imgproc.line(frame, new Point(0,0), new Point(640,480), color,2);\n            \u002F\u002F\n            Imgproc.rectangle(frame, new Rect(200, 100,240, 280), new Scalar(255, 0, 0),3);\n            \u002F\u002F\n            Imgproc.circle(frame, new Point(320,240), 120, new Scalar(0, 0, 255), 5);\n            \u002F\u002F\n            Imgproc.putText(frame, \"SDBproduction\", new Point(150,50),\n                    4, 1.5, new Scalar(5, 5, 5));\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3\u003EШаг 3: [Стриминг видео \"UDP Socket\"] \u003C\u002Fh3\u003E\u003Cdiv class=\"tm-iframe_temp\" data-src=\"https:\u002F\u002Fembedd.srv.habr.com\u002Fiframe\u002F616f23f9f61f533babdf2ee7\" data-style=\"\" id=\"616f23f9f61f533babdf2ee7\" width=\"\"\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002FDenissStepanjuk\u002FTutorialOpenCV\u002Ftree\u002Fmain\u002Fsrc\u002Fc_Sockets\" rel=\"noopener noreferrer nofollow\"\u003EGitHub\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003EДля передачи видеопотока по локальной сети мы выстроим следующую логику работы. Сервер всегда находится в режиме ожидания. Клиент может подключиться к серверу и начать передавать видео, в этом случае сервер переключится в режим приёма видео от клиента, как только клиент отключится сервер уйдет в режим ожидания.\u003C\u002Fp\u003E\u003Cp\u003EДавайте пропишим код для клиента:\u003C\u002Fp\u003E\u003Cp\u003EСоздаём соединение со стороны клиента.\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"java\"\u003E \t\t\t \t\u002F* Инициализируем видеопоток. Класс VideoCapture предназначен для захвата кадра\n           из видео или видеопотока. *\u002F\n        VideoCapture cap = new VideoCapture(1);\n\n        \u002F\u002F Создаём сокет, точку соединения между двумя компьютерами.\n        Socket socket = new Socket(\"192.168.1.159\",1234);\n        \u002F* Создаём объект DataOutputStream который связываем с нашим сокетом.\n           Данный объект позволяет отправлять примитивные типы данных. *\u002F\n        DataOutputStream dataOutputStream = new DataOutputStream(socket.getOutputStream());\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EКаждый кадр конвертируем в примитивный  тип данных и отправляем на сервер.\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"java\"\u003E       \u002F\u002F До тех пор пока поступает кадр из видеопотока выполняем следующие действия:\n        while (cap.grab()) {\n\n            try {\n                \u002F\u002F Извлекаем кадр из видеопотока.\n                cap.read(frame);\n\n                \u002F* Преобразуем изображение в матрицу байтов с целью\n                   получить массив байтов (пикселей). *\u002F\n                Imgcodecs.imencode(\".png\", frame, buf);\n                imageData = buf.toArray();\n\n                \u002F\u002F Извлекаем размер изображения.\n                int dataLength = imageData.length;\n\n                \u002F\u002F Отправляем размер изображения.\n                dataOutputStream.writeInt(dataLength);\n                \u002F* Отправляем изображение в виде массива байтов (пикселей).\n                   \"последовательность байтов\" *\u002F\n                dataOutputStream.write(imageData);\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EСервер со своей стороны состоит из двух циклов. В первом цикле ожидаем подключения к серверу от клиента. Если подключение установлено. то внутри этого цикла запускается второй, который будет принимать видеопоток от пользователя и выводить его.\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"java\"\u003E   \u002F\u002F Создаём серверный сокет, который будет слушать на заданом порту.\n        ServerSocket serverSocket = new ServerSocket(1234);\n\n        \u002F\u002F В бесконечном цикле ожидаем подключение к серверу.\n        while (true) {\n\n            try {\n                \u002F* Ожидаем клиента, если придёт запрос от клиента создаём сокет (точку соединения)\n                   чтобы подключится. *\u002F\n                Socket socket = serverSocket.accept();\n\n                \u002F* Создаём объект DataInputStream который связываем с нашим сокетом.\n                   Данный объект позволяет принимать примитивные типы данных. *\u002F\n                DataInputStream dataInputStream = new DataInputStream(socket.getInputStream());\n\n                \u002F\u002F В бесконечном цикле принимаем данные от клиента.\n                while (true) {\n\n                    \u002F\u002F Принимаем размер изображения.\n                    int dataLength = dataInputStream.readInt();\n\n                    \u002F\u002F Если изображение существует, то\n                    if (dataLength \u003E 0) {\n\n                        \u002F* принимаем изображение в виде массива байтов (пикселей).\n                           \"последовательность байтов\" *\u002F\n                        byte[] imageData = new byte [dataLength];\n                        dataInputStream.readFully(imageData,0,dataLength);\n\n                        \u002F* Преобразуем массив пикселей в ImageIcon,\n                           изображение которое будет отображатся. *\u002F\n                        ic = new ImageIcon(imageData);\n\n                        \u002F\u002F Привязываем изображение к контейнеру.\n                        screen.setIcon(ic);\n                        \u002F\u002F Привязываем контейнер к окну отображения.\n                        window.setContentPane(screen);\n                        window.pack();\n                    }\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3\u003EШаг 4: [Детекция объектов \" YOLOv4 \"] \u003C\u002Fh3\u003E\u003Cdiv class=\"tm-iframe_temp\" data-src=\"https:\u002F\u002Fembedd.srv.habr.com\u002Fiframe\u002F616f258a6ea11f3bbbaf1fd3\" data-style=\"\" id=\"616f258a6ea11f3bbbaf1fd3\" width=\"\"\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002FDenissStepanjuk\u002FTutorialOpenCV\u002Ftree\u002Fmain\u002Fsrc\u002Fd_DNN\" rel=\"noopener noreferrer nofollow\"\u003EGitHub\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002FAlexeyAB\u002Fdarknet\u002Fw...\" rel=\"noopener noreferrer nofollow\"\u003EСвёрточная нейронная сеть [скачать]\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003EЧтобы разобраться с детекцией объектов на джава предлагаю вам посмотреть мой видеоурок.\u003C\u002Fp\u003E\u003Cp\u003EОгромное спасибо за внимание!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"java"},{"titleHtml":"opencv"},{"titleHtml":"обработка"},{"titleHtml":"видео"},{"titleHtml":"фото"},{"titleHtml":"компьютерное зрение"},{"titleHtml":"фильтры"},{"titleHtml":"изображение"},{"titleHtml":"анализ"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F585322\u002F2eb9501f17f20f7c27506dba9eecc4f2\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F585322\u002F2eb9501f17f20f7c27506dba9eecc4f2\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F585322\\\u002F\"},\"headline\":\"Компьютерное зрение на Java? Элементарно вместе с OpenCV\",\"datePublished\":\"2021-10-25T12:58:05+03:00\",\"dateModified\":\"2021-10-25T12:58:05+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"dsb42\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Ас-саляму алейкум, братья!В этом посте хочу показать вам как при помощи программного кода обрабатывать изображение и видео. Материал разобью на 4 шага, работать...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F585322\\\u002F#post-content-body\",\"about\":[\"h_video\",\"h_programming\",\"h_java\",\"h_image_processing\",\"h_robot\",\"f_develop\",\"f_design\",\"f_popsci\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F412\\\u002Fae8\\\u002F956\\\u002F412ae89561be8f0749f9b8398a35bdef.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F58f\\\u002Ffd6\\\u002Ff17\\\u002F58ffd6f17e0847f0b2b1459ad7d675f8.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fb39\\\u002Fc8f\\\u002Fc3f\\\u002Fb39c8fc3f05515df46620e3e29973f3c.gif\"]}","metaDescription":"Ас-саляму алейкум, братья!В этом посте хочу показать вам как при помощи программного кода обрабатывать изображение и видео. Материал разобью на 4 шага, работать будем на Java. Для начала потребуется...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"video,programming,java,image_processing,robot"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
