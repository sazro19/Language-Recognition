<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Как правильно верстать 2, или зачем я написал еще одну UI-библиотеку, мой первый npm-модуль? / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/582638\/"},"headline":"Как правильно верстать 2, или зачем я написал еще одну UI-библиотеку, мой первый npm-модуль?","datePublished":"2021-10-10T17:36:56+03:00","dateModified":"2021-10-18T17:27:12+03:00","author":{"@type":"Person","name":"Левон Алексеевич Гамбарян"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Спойлер: атомарный дизайнЭто работа является логическим продолжением моего первого подробного текста для сообщества об актуальных подходах к верстке Как верстать...","url":"https:\/\/habr.com\/ru\/post\/582638\/#post-content-body","about":["h_web_design","h_crazydev","h_css","h_javascript","h_ui","f_develop","f_design"],"image":["https:\/\/habr.com\/share\/publication\/582638\/fdf2d39eeb563f9b44049e6f70039ddc\/","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/580\/9ef\/8ac\/5809ef8aca028d84b97bae2d5bc1d394.jpg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/0e7\/0c1\/5b5\/0e70c15b5652fbcb37a45c2a1311378f.jpeg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/939\/e73\/396\/939e7339689cd38cfd7a789ed13f440d.jpg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/f7c\/30c\/1c5\/f7c30c1c512aa0d079054f3e333ea531.jpg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/355\/6db\/3be\/3556db3be1030ed346dc06158550358e.jpeg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/dd6\/08c\/c50\/dd608cc50c7bbb7b060bfefe04e5cbb1.jpg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/8f9\/7c8\/12e\/8f97c812ef6fa8a6a589e539a3d4da19.jpeg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/5e4\/f10\/383\/5e4f10383d235d5ea2efb8c17dccafd4.jpg"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Как правильно верстать 2, или зачем я написал еще одну UI-библиотеку, мой первый npm-модуль?" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Как правильно верстать 2, или зачем я написал еще одну UI-библиотеку, мой первый npm-модуль?" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Как правильно верстать 2, или зачем я написал еще одну UI-библиотеку, мой первый npm-модуль?" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Спойлер: атомарный дизайнЭто работа является логическим продолжением моего первого подробного текста для сообщества об актуальных подходах к верстке Как верстать веб-интерфейсы быстро, качественно и..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Спойлер: атомарный дизайнЭто работа является логическим продолжением моего первого подробного текста для сообщества об актуальных подходах к верстке Как верстать веб-интерфейсы быстро, качественно и..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Спойлер: атомарный дизайнЭто работа является логическим продолжением моего первого подробного текста для сообщества об актуальных подходах к верстке Как верстать веб-интерфейсы быстро, качественно и..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Спойлер: атомарный дизайнЭто работа является логическим продолжением моего первого подробного текста для сообщества об актуальных подходах к верстке Как верстать веб-интерфейсы быстро, качественно и..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Спойлер: атомарный дизайнЭто работа является логическим продолжением моего первого подробного текста для сообщества об актуальных подходах к верстке Как верстать веб-интерфейсы быстро, качественно и..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habrastorage.org/getpro/habr/upload_files/549/e37/7d9/549e377d962c1bd8a6d7c25f0e407984.jpg" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habrastorage.org/getpro/habr/upload_files/549/e37/7d9/549e377d962c1bd8a6d7c25f0e407984.jpg" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habrastorage.org/getpro/habr/upload_files/549/e37/7d9/549e377d962c1bd8a6d7c25f0e407984.jpg" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habrastorage.org/getpro/habr/upload_files/549/e37/7d9/549e377d962c1bd8a6d7c25f0e407984.jpg" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habrastorage.org/getpro/habr/upload_files/549/e37/7d9/549e377d962c1bd8a6d7c25f0e407984.jpg" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="582638" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2021-10-10T14:36:56.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/582638/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/582638/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habrastorage.org/getpro/habr/upload_files/549/e37/7d9/549e377d962c1bd8a6d7c25f0e407984.jpg" data-vmid="image:href"><link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/582638/">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/ushliypakostnik/" title="ushliypakostnik" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/fa9/446/abe/fa9446abe1c36fe3e012c0b514e64cf0.png" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/ushliypakostnik/" class="tm-user-info__username">
      ushliypakostnik
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2021-10-10T14:36:56.000Z" title="2021-10-10, 17:36">10  октября   в 17:36</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Как правильно верстать 2, или зачем я написал еще одну UI-библиотеку, мой первый npm-модуль?</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/web_design/" class="tm-article-snippet__hubs-item-link"><span>Веб-дизайн</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/crazydev/" class="tm-article-snippet__hubs-item-link"><span>Ненормальное программирование</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/css/" class="tm-article-snippet__hubs-item-link"><span>CSS</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/javascript/" class="tm-article-snippet__hubs-item-link"><span>JavaScript</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/ui/" class="tm-article-snippet__hubs-item-link"><span>Интерфейсы</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><figure class="full-width "><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/580/9ef/8ac/5809ef8aca028d84b97bae2d5bc1d394.jpg" alt="Спойлер: атомарный дизайн" title="Спойлер: атомарный дизайн" width="780" height="163" data-src="https://habrastorage.org/getpro/habr/upload_files/580/9ef/8ac/5809ef8aca028d84b97bae2d5bc1d394.jpg" data-blurred="true"/><figcaption>Спойлер: атомарный дизайн</figcaption></figure><p>Это работа является логическим продолжением моего первого подробного текста для сообщества об актуальных подходах к верстке <a href="https://good-layout-book.netlify.app/" rel="noopener noreferrer nofollow"><u>Как верстать веб-интерфейсы быстро, качественно и интересно</u></a>. Но, если, в первом трактате, внимание уделялось, прежде всего, стилю кода, его качеству и эффектным современным возможностям различных препроцессоров и фреймворков, что демонстрировалось на некоторых конкретных специфических задачах, теперь хочется сфокусироваться на архитектурных или даже организационных аспектах веб-производства. Если вы не читали мой первый текст, но собираетесь при этом прочесть этот — не поленитесь перейти по ссылке и пробежать глазами самые последние разделы каждой из двух частей первого пособия: «Готовые решения» и «Песочницы». Этот текст начинает прямо с этих мест и развивает именно эти идеи: и о пагубности применения раскрученных-популярных «на все готовых» UI-«дизайн-систем»-фреймворков для создания кастомизированных веб-морд любой сложности и, о, по сути, полезности использования хотя бы минимального документирования и явных соглашений при разработке веб-GUI на фронтенде. Но я не стану тратить время, доказывая, что «ни в коем случае нельзя использовать Vuetify или AntDesign» для создания крупных UI-систем с полностью кастомным оформлением. Вам не нужно прикручивать себе <s>огромный геморрой</s> непроницаемый слой плохо кастомизируемого готового GUI для того чтобы написать кнопку или поле ввода! Если вам нужен датапикер — найдите и допилите что-нибудь под себя. Это понимание может только прийти или так и не придти с годами тяжелого опыта, когда вы будете постоянно тратить непростительно много своего времени на то, чтобы написать очевидно отвратительный CSS — «кряки с !important`ами поверх стилей библиотеки», выдумывать чудные костыли на javascript чтобы изменить дефолтное поведение виджетов на кастомное и хитрое-нестандартное затребованное дизайнерами... И, при этом, ваши шаблоны, стили и js-обвязки будут превращаться во все менее читаемые, запутанные нагромождения разнообразно оформленного кода, с различным подходом к наименованию и прочими бедами… Этот текст и написанный для него проект призваны наглядно показать «а как надо?».</p><figure class="full-width "><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/0e7/0c1/5b5/0e70c15b5652fbcb37a45c2a1311378f.jpeg" alt="Симонов Игорь Иванович. «Бракодел». 1953 год." title="Симонов Игорь Иванович. «Бракодел». 1953 год." width="2423" height="2160" data-src="https://habrastorage.org/getpro/habr/upload_files/0e7/0c1/5b5/0e70c15b5652fbcb37a45c2a1311378f.jpeg" data-blurred="true"/><figcaption>Симонов Игорь Иванович. «Бракодел». 1953 год.</figcaption></figure><p>Верстка по-прежнему остается достаточно свободной дисциплиной, в которой сосуществуют множество совершенно разных методологий, подходов и связанных с ними технических решений. Часто программисты принимают какой-то один определенный способ, и, в результате, стагнируют в общем понимании и развитии. Привычки формируют удобную зону комфорта и это мешает осознать риски в ситуациях для которых они неадекватны. Знаете, какой аргумент мне уже несколько раз приходилось слышать в технической дискуссии от оппонентов защищавших привычную для них систему, технику разметки, но совершенно непригодную, на мой взгляд, для решения текущих насущных задач, в реальной ситуации данного конкретного проекта и сроков? «Ну это же <em>общепринятая</em> технология?», «Гугл, Фейсбук, … это используют, чем мы хуже»... Если вы слышите от кого-то, что нечто, не относящееся к действительно используемому всеми нами известному перечню базовых спецификаций — «общепринято», это повод сразу сделать вывод о том, что ваш собеседник имеет мало разнообразного опыта в этом и просто защищает свою лень и нежелание учиться новому. Рядом с аргументом про странные пристрастия акул капитализма обычно следует еще и что-нибудь совершенно несостоятельное про «наши программисты не все знают Stylus», при том что, любой препроцессор CSS даже и тем более начинающий программист способен изучить до базового уровня за один полезный приятный вечер. Мне всегда нравилось менять технологии, синтаксисы — это освежает и придает драйву, интереса в работе. И именно совершенно разнообразный опыт реальной коммерческой практики с различными технологиями сформировал мои представления о том «что хорошо, что плохо» в тех или иных ситуациях.</p><figure class="full-width "><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/939/e73/396/939e7339689cd38cfd7a789ed13f440d.jpg" alt="Закон рабочей чести!" title="Закон рабочей чести!" width="2495" height="1396" data-src="https://habrastorage.org/getpro/habr/upload_files/939/e73/396/939e7339689cd38cfd7a789ed13f440d.jpg" data-blurred="true"/><figcaption>Закон рабочей чести!</figcaption></figure><p>Возможно, я когда-нибудь накоплю достаточно злости и найду время для того чтобы на наглядных вопиющих примерах показать «а почему вот это плохо?». Но эта статья и пример модуля о том «как надо?», что точно будет аккуратно и эффективно. Если вы являетесь упертым сторонником CSS-in-JS-подходов, или, вообще, по-прежнему наносите оформление на разметку в «бородатом» «утилитарном» стиле «много классов с говорящими названиями содержащих одно-два правило» (тут уместно вспомнить уже «продвинутую» — CSS-in-JS — реализацию <a href="https://tailwindcss.com/" rel="noopener noreferrer nofollow">Taiwind</a> с ее оголтелым слоганом-оксюмороном: «“Best practices” don’t actually work».) — предложенная и в моей первой книжке и в ее практическом продолжении — здесь — методология, использующая только любой классический препроцессор как «абстрактный медиатор стилей» для доставки дизайн-констант и прочей стилевой абстракции, и сам компонентный фреймворк для, простите за сплошную тавтологию — аккуратной декларативной компонентности — вам все это не зайдет, наверняка. Например, попытки посадить Styled Components на дизайн-константы приводят к безобразному коду в таких «стилях»... Или утилиты «ишак вижу — ищак пою» «в стиле Taiwind» вполне способны представлять «атомы», но все равно ограничивают гибкость в случае непрогнозируемых и частых изменений, ну или просто — также выглядят излишне-невменяемо уже на самой разметке. Я встречал проекты где прикручено «вообще сразу все» — препроцессор, CSS-модули и Styled Components, Flow к зачем-то “отключенному” CRA, например — и это уже даже нельзя назвать «оверинжинирингом», так как это просто отвратительная глупость и очевидно плохая архитектура. Возможно, раскаяние и отрезвление наступит когда вы опять превысите сроки и бюджет на очередном проекте в пять, да, Карл, пять раз — и такое бывает сплошь и рядом. И/или — дизайнеры, по просьбе клиента которому никак нельзя отказать в очередной раз «все переделают» в макетах, которые «уже сверстаны»…</p><h2>Мотивация</h2><p>Давайте, прежде всего, четко обрисуем проблему которую мы собираемся решать. В реальном мире, в очень многих командах — проектирование практически никак не «дружит» с разработкой, общаясь, по сути — только через конечные «макеты». Даже действительно опытные «фуллы», которых бизнес предпочитает нанимать «и в качестве фронтендеров», на самом то деле, верстают совсем слабо. Кодеры сдают только им самим известно <s>из какого гавна</s> как собранные страницы на тестирование, которое, в свою очередь — тупо сравнивает их с макетами — замыкая порочный круг. Обычно и, тем более, в условиях жестких дедлайнов и/или в разношерстных, наспех собранных командах из специалистов с совершенно разными скилами и опытом — бывает очень сложно ввести соглашения. Общий фокус процесса неминуемо смещается на то чтобы «сделать хоть как-нибудь», «протолкнув» быстрый гавнокод через тестировщиков…</p><figure class="full-width "><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/f7c/30c/1c5/f7c30c1c512aa0d079054f3e333ea531.jpg" alt="Советский плакат" title="Советский плакат" width="1140" height="641" data-src="https://habrastorage.org/getpro/habr/upload_files/f7c/30c/1c5/f7c30c1c512aa0d079054f3e333ea531.jpg" data-blurred="true"/><figcaption>Советский плакат</figcaption></figure><p>Такая организация работы как раз очень выгодна мракоделам. Мракодел отгораживается «только своей задачей» — «моя хата скраю» — и пишет ее так, как ему удобно, игнорируя best practices и напряжные соглашения, часто вообще — просто изображая работу удаленно — скопировал, чутка перековырял под макеты — ушел гулять, вечером отправил — ждет когда тестировщики обязательно и несколько раз вернут на доработку… «Есть баги — есть работа!». «Переиспользование» превращается в простое копирование и «интуитивную» модификацию «уже готовых кусков» — лавинообразно усугубляя мрачность и запутанность стилей, разметки и js-обвязок для них. И если javascript бывает еще более-менее адекватен, все его «умеют» и понимают — то стили часто превращаются в просто непроходимые дебри и бесконечную излишнюю неоптимизированную колбасу, несмотря на то какие именно технологии используются… При этом руководство, менеджеры которые не ходят читать репо могут пребывать в наивной уверенности что «<em>все готово, только кнопку нажать</em>» или хотя бы — «<em>вот это уже сделано на том проекте и можно переиспользовать</em>»... Мне приходилось получать репо с тонной «индусского» — нереально небрежного и явно копированного целыми крупными кусками и даже файлами кода, игнорирующего вполне имеющийся у фирмы единый UI-кит, его константы и компонентность, с посылом от руководства что «все готово», «надо слегка переписать»… Мне приходилось годами исправлять за «тимлидами-сеньорами» проекты с ужасной архитектурой блокирующей быструю доставку именно того, что нужно заказчику, например — сложного современного дизайна… Причем, когда проект начинали — самые важные требования остались проигнорированы, зато с совершенно ненужными в этом случае «модными трендами» покуражились вовсю...</p><p>Я заметил что с молодыми специалистами часто работать и добиваться качественного результата бывает намного проще чем с закостенелыми самоуверенными «фуллстеками», рефлексующими свою недооцененность и прочее… Ребята помоложе еще не потеряли азарт и интерес к тому что делают, не успели несколько раз перегореть, устать, и большинство как раз стремиться стать настоящими профессионалами, открыты новым идеям, подходам, ищут и перенимают хороший стиль, адекватно реагируют на критику и так далее.. Хотя бывают исключения и с теми, и с другими, конечно… Но хватить абстрактной лиричной боли — перейдем уже к «хорошим практикам по Гамбаряну»…</p><figure class="full-width "><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/355/6db/3be/3556db3be1030ed346dc06158550358e.jpeg" alt="Советский плакат" title="Советский плакат" width="1467" height="2048" data-src="https://habrastorage.org/getpro/habr/upload_files/355/6db/3be/3556db3be1030ed346dc06158550358e.jpeg" data-blurred="true"/><figcaption>Советский плакат</figcaption></figure><h2>Разрабатывайте визуальный язык и основанные на нем шаблоны своих интерфейсов через простые четкие соглашения и документирование, а не хаотическое копирование!!!</h2><p>По опыту, особенно, если речь идет о «бренной вьюхе» на фронтенде, очень многие программисты используют годную на все времена стремительно интуитивную методологию «программирование через копирование файлов или больших кусков кода» с девизом «да хз что за функция» — и такой уже распиленный системный хардкор-код практически невозможно полностью отрефакторить, точнее — по опыту — только в том случае, если это позволяют удачно выбранные изначально технологии, плюс, конечно же, организационные ресурсы... Некоторые системы в реальных коммерческих ситуациях можно только «подмести» и «заморозить», продолжая, по сути, доставлять мрак при необходимости какой-то видимости прогресса для клиента. Необходимость непрерывно править плохой код коллег, или работать с неадекватными задачам и целям проектов архитектурами после предшественников резко снижает качество жизни программистов.</p><figure class="full-width "><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/dd6/08c/c50/dd608cc50c7bbb7b060bfefe04e5cbb1.jpg" alt="Советский плакат" title="Советский плакат" width="1000" height="1379" data-src="https://habrastorage.org/getpro/habr/upload_files/dd6/08c/c50/dd608cc50c7bbb7b060bfefe04e5cbb1.jpg" data-blurred="true"/><figcaption>Советский плакат</figcaption></figure><p>Программисты такие же ленивые, хоть и мыслящие, животные как и все другие люди и коты. Да, мне кажется, что мой полосатый много думает и иногда даже пытается поделиться... Вот даже котик пытается рассказать о результатах своего умственного труда? А многие из вас не то что никогда не оставляют комментариев — в принципе — пишут такой код что <s>я бы сразу уволил</s> <s>как это развидеть</s>, к которому очевидно любые комментарии излишни, так скажем. Причем, причины такого состояния кода множества проектов всегда одни и те же: «времени совсем не было», «надо было что-то показать», «руководство попросило сделать очень быстро» и тому подобное, «будет время — перепишем»… Поверьте, в реальной коммерции — оплаченного отдельного времени на оптимизацию и рефакторинг практически никогда не бывает. Клиенты в аутсорсе, например, почти никогда не покупают его как дополнительную опцию. Даже если некий продукт очевидно неаккуратно написан, работает со сбоями и совершенно не годен для масштабирования — бизнес практически всегда будет заинтересован, прежде всего, в доставке нового функционала любой ценой, а не в исправлении «уже проданного» — и все что он действительно захочет, чаще всего, это опять — быстро — «как-нибудь подлатать все баги»… Главная задача команды разработчиков в этом смысле — прямо на старте выработать четкую систему приемлемых и удобных для всех участников соглашений, которая с самого начала позволит писать максимально консистентный, понятный, и, самое главное, в идеале — и гибкий, и, одновременно, железно надежный код.</p><p>Среднестатистический разработчик-мракодел, тянущий лямку в капитализме никогда не возвращается к своему поспешному или даже откровенно, простите мой спесишизм, «индусскому» копипасте-коду для того чтобы улучшить его, кроме ситуаций, когда служба контроля качества вернула некий конкретный баг на доработку. И, конечно, тут совсем нельзя говорить о каком-либо структурном улучшении, так как подобные правки всегда носят не системный, а полностью локальный-частный характер «быстрых фиксов», «кряков» и только усугубляют беспорядок. Не дай бог трогать код по «уже закрытым таскам», «так ведь можно что-нибудь поломать!»... Среднестатистический разработчик-мракодел нацелен, прежде всего, на закрытие своих тасков-багов по трекеру и не интересуются общим состоянием проекта, приходящим чужим кодом. Полезные соглашения его напрягают, он игнорирует или даже активно противиться им. Кроме того, я заметил, что профессиональные мракоделы в командах и на проектах стремятся объединяться в устойчивые группы… Мракоделы копируют мракокод из файла в файл, из проекта в проект, покрывая друг-друга, ломая волю ПМов и регулярно рапортуя через них начальству которое не читает репо что «все почти готово, только кнопку нажать»... Мракоделы даже иногда дорастают до сеньоров и лидов. Тогда они начинают занимаются сомнительным оверинжинирингом, накручивая ненужные, но модные технологии, пока не оказывается что все сроки сорваны и клиент не получил того чего хотел, а код такой что заплатки негде ставить без поллитры не прочитать… Как простому верстальщику противостоять вселенскому мраку?</p><p>Далее будет изложена простая методика реализации гибкого и масштабируемого GUI веб-интерфейсов, доставки дизайна в код, аккуратное использование которой сводит на минимум возможности добавления низкопробного кода в проекты фронтенда, а также способно помочь более четко, сперва — оценить, и, в дальнейшем, организовать эффективную совместную работу. Вкратце, обобщая  можно тезисно описать это как то, что вам нужно добиться от разработчиков участвующих в развитии проекта фронтенда соблюдения следующих основных моментов:</p><ul><li><p>Все оформление вплоть до перекастомизаций необходимых сторонних модулей неукоснительно основано на константах-«атомах» и уже собираемых на их основе более сложных паттернах которые диктует ваш дизайн, руководство по стилю.</p></li><li><p>При первоначальной оценке интерфейс разбирается на компоненты: «молекулы» и «организмы», «шаблоны» в терминах атомарного дизайна. Элементы, виджеты, раскладки, общие лейауты, все кроме уже окончательных видов роутера — на которых собирается соответствующая макетам конечная реальная вьюха из этих переиспользуемых сущностей — формируют библиотеку компонент и тем самым уже минимально документируются для всей команды. Код автоматически становится намного более оптимальным чем при хаотичном «копипаста»-подходе когда «левая нога не знает что делает правая». </p></li><li><p>Даже на «отдельном проекте» нужно стараться организовывать компонентную архитектуру таким образом, как будто ваши @/src/components — находятся в удаленном репозитории — «UI-библиотеке», и, поэтому — недоступны для «обвязок» напрямую. Компоненты «реальных вьюх» [соответствующие дизайн-макетам], например на @/src/views во Vue или @/src/pages и @/src/layouts с Nuxt —должны взаимодействовать с UI-компонентами которые они просто «собирают, предоставляя данные» — исключительно через пропсы — через явно обозначенный интерфейс, а не «состоянием». Концептуально, это напоминает нам «инкапсуляцию» из «серьезного программирования», а практически будет приводить к тому что — стили за редким исключением будут сосредоточены практически только «в UI-компонентах», а вся бизнес-логика — совершенно точно исключительно на видах. Это еще и способно организовать работу более эффективно — участники «с хорошей версткой» могут, прежде всего — поставлять качественную разметку.</p></li></ul><p>Часто встречающийся в современной корпоративной культуре случай когда, предположим, два разных отдела ведут разработку разных интерфейсов основанных на одной визуальной дизайн-системе — очевидно основной когда необходимо построить работу через общую библиотеку-модуль.</p><figure class="full-width "><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/8f9/7c8/12e/8f97c812ef6fa8a6a589e539a3d4da19.jpeg" alt="Советский плакат" title="Советский плакат" width="1540" height="2048" data-src="https://habrastorage.org/getpro/habr/upload_files/8f9/7c8/12e/8f97c812ef6fa8a6a589e539a3d4da19.jpeg" data-blurred="true"/><figcaption>Советский плакат</figcaption></figure><h2>Антибиблиотека</h2><p><a href="https://www.npmjs.com/package/ui-library-starter" rel="noopener noreferrer nofollow"><u>UI Library Starter</u></a> это точно не еще одна библиотека «готового на все UI». Это, прежде всего, концепт и пример системного подхода, которые могут позволить вам легко поддерживать свои собственные библиотеки только из необходимых компонент, чистого оптимального кода, сопровождаемого необходимой наглядной документацией и с оформлением точно согласующимся с руководством по стилю. Проект содержит некоторый минимальный набор готовых компонент именно в качестве примера. Это то, что встречается практически в любом большом интерфейсе: простые, базовые примеры — обертка для контента, сетки, и пара важных «дорогих» контролов: датапикер с диапазоном на одном листе и кварталами, обертка над сторонним селектом...</p><p>Мысли о том что написание хардкор-кода или, точнее, написание хардкор-кода еще и с помощью чужого, обычно практически полностью изолированного от остальной системы готового кода как-то <em>помогает решать задачи бизнеса</em> — нужно забыть. Возможно, какие-то тактические задачи, может быть, но точно — все равно ненадежно, и всегда —стратегически создает предпосылки для очень серьезных проблем в будущем, возможно, даже самом скором. Кроме того, исключает возможность получать удовольствие от работы для тех кто трудиться с вами параллельно или будет вынужден иметь дело с этим легаси в дальнейшем.</p><p>В этом смысле сама идея UI Library Starter противоположна концепции любой обычной популярной библиотеки где «все включено». Она не в том чтобы дать вам возможность лениться, бояться и тратить рабочее время неэффективно мучаясь трудными кастомизациями через <code>!important</code> с неизвестным результатом, другими адовыми кряками, превращая свои проекты в неведомы зверушки из скрытых под капотом чужих кривых поделок, нечитаемые лоскутные одеяла повторяющегося кода или запутанные описания одного и того же совсем по-разному, с позорно огромным опасным пулом зависимостей. Идея этого проекта в том, чтобы аккуратно помочь вам начать писать действительно оптимальный, понятный и задокументированный, гибкий и легко масштабируемый код, который вы сможете постоянно переиспользовать и улучшать.<br/><br/><a href="https://github.com/ushliypakostnik/ui-library-start" rel="noopener noreferrer nofollow">Пример</a> дочернего проекта использующего модуль-библиотеку.</p><p>Далее — простите мне странные вкрапления моего никакого английского в документации…)))</p><h2>Getting Started</h2><h3>Installation</h3><p>Скачайте код <a href="https://github.com/ushliypakostnik/ui-library-starter" rel="noopener noreferrer nofollow">ui-library-starter</a> и оформите его в отдельный репозиторий. При выборе имени для нового репозитория необходимо сразу убедиться в том, что оно не занято на <a href="https://www.npmjs.com/" rel="noopener noreferrer nofollow">npmjs.com</a>. Пусть это будет ui-library-starter-test.</p><p>Или, в случае, если вы не планируете менять стиль проекта под свои собственные гайды, но, собираетесь поиграться или даже внести вклад в его развитие, например, предложив еще какие-то важные компоненты — сделайте форк, конечно же. Дальнейшие инструкции относятся к первому случаю — пилим свежую либу с кастомным стилем под конкретные задачи — в этом случае многие могут захотеть удалить эту документацию и почти все компоненты, чтобы не выполнять лишнюю кастомизацию.</p><pre><code class="bash">$ npm install</code></pre><h3>Customization</h3><h4>README.md</h4><p>Поправьте первую строчку в <code>@/README.md</code>:</p><pre><code class="markdown"># Ui-library-starter test project</code></pre><h3>package.json</h3><p>Далее в <code>@/package.json</code> вам необходимо крайне аккуратно переписать актуальной информацией следующие поля, ничего не пропустив:</p><pre><code class="json">{
  "name": "ui-library-starter-test",
  "description": "UI Library Starter Demonstration",
  "version": "0.1.0",

  "main": "dist/ui-library-starter-test.umd.min.js",
  "unpkg": "dist/ui-library-starter-test.umd.min.js",
  "jsdelivr": "dist/ui-library-starter-test.umd.min.js",

  "scripts": {
    "build": "rimraf ./src/static &amp;&amp; cp -r ./docs/.vuepress/public ./src/static &amp;&amp; vue-cli-service build --target lib --name ui-library-starter-test src/main.js"
  },

  "author": "Levon Gambaryan",
  "license": "MIT",

  "homepage": "",
  "repository": {
    "type": "git",
    "url": "https://github.com/ushliypakostnik/ui-library-starter-test"
  },
  "bugs": {
    "url": "https://github.com/ushliypakostnik/ui-library-starter-test/issues"
  },

  "keywords": []
}</code></pre><p>Обратите внимание на имя проекта в конце длинной команды деплоя <code>build</code>!</p><h4>Documentation config</h4><p>Перейдите к документации на VuePress и сконфигурируйте ее под себя <code>@/docs/.vuepress/config.js</code>:</p><pre><code class="javascript">module.exports = {
  locales: {
    '/': {
      lang: 'en-US',
      title: 'UI Library',
      description: 'Vue Component UI Library',
    },
  },

  themeConfig: {
    repoLabel: 'GitHub repo',
    repo: 'https://github.com/ushliypakostnik/ui-library-starter-test.git',
    docsDir: 'docs',
    search: false,
    locales: {
      '/': {
        nav: [{ text: '', link: '' }],
        sidebar: [
          {
            title: `Components`,
            children: [
              // ... готовые компоненты библиотеки без Sandbox и папки /Tests с тестовыми 
            ],
          },
          {
            title: `Sandbox`,
            path: '/sandbox/sandbox',
          },
        ],
      },
    },
  },
};</code></pre><h4>Connecting fonts</h4><p>Перепишите имя шрифта и переменные начертаний если требуется в файле <code>~/src/stylus/utils/_typography.styl</code>:</p><pre><code class="css">$font-family = "Open Sans"

$font-weight = {
  regular: 400,
  bold: 700,
}</code></pre><p>Поместите папку с правильным шрифтом рядом с папкой <code>/Ubuntu</code> в <code>@/docs/.vuepress/public/fonts/</code>.</p><p>Пропишите правильные импорты и пути в файле кастомизации документации на VuePress <code>@/docs/.vuepress/styles/palette.styl/</code>:</p><pre><code>@import "../../../src/stylus/_stylebase.styl"

// Import fonts
//////////////////////////////////////////////////////

@font-face {
  font-family: $font-family;
  src: url('/fonts/OpenSans/OpenSans-Regular.eot');
  src: local('Open Sans Regular'), local('OpenSans-Regular'),
    url('/fonts/OpenSans/OpenSans-Regular.eot?#iefix') format('embedded-opentype'),
    url('/fonts/OpenSans/OpenSans-Regular.woff') format('woff'),
    url('/fonts/OpenSans/OpenSans-Regular.ttf') format('truetype');
  font-weight: $font-weight.regular;
  font-style: normal;
}

@font-face {
  font-family: $font-family;
  src: url('/fonts/OpenSans/OpenSans-Bold.eot');
  src: local('Open Sans Bold'), local('OpenSans-Bold'),
    url('/fonts/OpenSans/OpenSans-Bold.eot?#iefix') format('embedded-opentype'),
    url('/fonts/OpenSans/OpenSans-Bold.woff') format('woff'),
    url('/fonts/OpenSans/OpenSans-Bold.ttf') format('truetype');
  font-weight: $font-weight.bold;
  font-style: normal;
}

// Customization
//////////////////////////////////////////////////////

...</code></pre><p>Удалите директорию со старым шрифтом <code>@/docs/.vuepress/public/fonts/Ubuntu</code>.</p><h3>Сleaning project</h3><p>Если вы хотите получить полностью чистую документацию — произведите следующую очистку папок и файлов.</p><p>Удалите все папки и файлы в <code>@/docs/</code> кроме директорий <code>@/docs/.vuepress</code>, <code>@/docs/components</code> и <code>@/docs/sandbox</code> — если желаете оставить Песочницу. И файла <code>@/docs/README.md</code>, который нужно оставить, но очистить:</p><pre><code class="markdown"># UI Library

...</code></pre><p>Удалите директорию <code>@/src/components/tests</code>.</p><p>Вычистите импорты тестовых компонент в индексном файле <code>@/src/components/index.js</code>:</p><pre><code class="javascript">// Tests - следующие три строчки удалить!!!
export { default as TestColors } from './tests/TestColors';
export { default as TestBreakpoints } from './tests/TestBreakpoints';
export { default as TestTypography } from './tests/TestTypography';

// Elements
...</code></pre><p>Вы можете выбрать какие компоненты оставить или даже удалить их все, если уверенны в себе и не нуждаетесь в наглядных примерах под рукой. Вернитесь к конфигурации документации и отразите изменения в <code>@/docs/.vuepress/config.js</code>.</p><h4>Style setting</h4><p>Запустите разработку документации командой:</p><pre><code class="bash">$ npm run docs:dev</code></pre><p>Прочитайте раздел Constants этой документации.</p><p>Вам необходимо настроить препроцессор вашей библиотеки в точном соответствии с вашим руководством по фирменному стилю.</p><h3>Adding a component</h3><p>После того как стили библиотеки настроены вы можете добавлять свои специфические компоненты.</p><p>Выберете имя для компонента в PascalCase стиле написания, предположим это <code>ComponentName</code>.</p><p>Некоторые имена могут оказаться зарезервированы VuePress. <code>Layout</code>, например. Самая достойная замена <code>Layout</code> видится как <code>View</code>.<br/><br/>Добавьте директорию <code>@/src/components/ComponentName</code>.</p><p>Добавьте в нее индексный файл c импортом-экспортом <code>@/src/components/ComponentName/index.js:</code></p><pre><code class="javascript">import ComponentName from './ComponentName.vue';

export default ComponentName;</code></pre><p>И сам компонент <code>@/src/components/ComponentName/ComponentName.vue:</code></p><pre><code>&lt;template>
  &lt;div
    class="component-name"
    :class="{
      '.component-name__element--modifier1': prop1,
      '.component-name__element--modifier2': prop2,
    }"
  >
    This is test component!!!
  &lt;/div>
&lt;/template>

&lt;script>
export default {
  name: 'ComponentName',

  props: {
    prop1: {
      type: Boolean,
      required: true,
    },
    prop2: {
      type: Boolean,
      required: false,
      default: false,
    },
  },
};
&lt;/script>

&lt;style lang="stylus" scoped>
@import "~/src/stylus/_stylebase.styl";

.component-name
  background $colors.primary // test styles
  // add adaptive
  +$mobile()
    display block

  &amp;__element
    $text("natasha") // add typography

    &amp;--modifier1
      color $colors.primary // add good color

    &amp;--modifier2
      color $colors.secondary
&lt;/style></code></pre><p>Добавьте экспорт в индексный файл библиотеки <code>@/src/components/index.js</code>:</p><pre><code class="javascript">export { default as ComponentName } from './ComponentName';</code></pre><p>Добавьте документацию компонента в файл <code>@/docs/components/component-name.md</code>:</p><pre><code class="markdown"># ComponentName

## Description

This is new custom component.

## Connection

```vue
&lt;template>
  &lt;ComponentName prop1 />
&lt;/template>
```

## Render

&lt;ComponentName prop1 />

## API

### Props

| **Name**  | **Type** | **Description** | **Default** |
| :-------- | :------- | :-------------- | ----------: |
| **prop1** | Boolean  | -               |  (required) |
| **prop2** | Boolean  | -               |     `false` |

## Source code

&lt;code>@/src/components/ComponentName/ComponentName.vue&lt;/code>

&lt;&lt;&lt; @/src/components/ComponentName/ComponentName.vue</code></pre><p>И далее — рендер-тест и исходный код по аналогии с другими файлами.</p><p>Добавьте компонент в конфигурацию VuePress <code>@/docs/.vuepress/config.js</code>:</p><pre><code class="javascript">module.exports = {
  themeConfig: {
    locales: {
      '/': {
        sidebar: [
          {
            title: `Components`,
            children: [
              {
                title: `ComponentName`,
                path: '/components/component-name',
              },
            ],
          },
        ],
      },
    },
  },
};</code></pre><h4>Using third party modules</h4><p>Используйте только относительные пути для импорта чего-либо в javascript ваших компонентов. Не используйте «абсолютные» алиасы:</p><pre><code>&lt;script>
import moment from '../../../node_modules/moment/moment';
import { dateFilter } from '../../../node_modules/vue-date-fns/src/index';

import Icon from '../Icon/Icon';

export default {
  components: {
    Icon,
  },
};
&lt;/script></code></pre><p>В реальных проектах вам потребуется очень часто закрывать «самые дорогие требования» с помощью аккуратно подобранных подходящих готовых решений. В таких случаях логично будет создавать обертку над чужим модулем, предоставляющую всю необходимую кастомизацию. Пример этого: <a href="https://ui-library-starter.netlify.app/components/select" rel="noopener noreferrer nofollow">Select</a>.</p><p>Установите и импортируйте модуль как обычно в главном файле <code>@/src/main.js</code>:</p><pre><code class="javascript">import vSelect from 'vue-select';
import 'vue-select/dist/vue-select.css';

Vue.component('v-select', vSelect);</code></pre><p>Так как мы используем глобальные стили собственной кастомизации модуля — невозможно будет защитить стили перекастомизации в SFC-обертке с помощью <code>scoped</code>:</p><pre><code>&lt;style lang="stylus">
@import "~/src/stylus/_stylebase.styl";

.vs
  &amp;__dropdown-toggle
    // ...

  // ...

// ...
&lt;/style></code></pre><h4>Use the sandbox</h4><p>Используйте специальный компонент <code>@/src/components/Sandbox/Sandbox.vue</code> и роут документации Sandbox как экспериментальную площадку и холст для создания новых компонент на простых мокках или тестирования взаимодействия между ними. Хотя, очевидно, некоторые компоненты, такие как, например, лейаут — удобнее создавать непосредственно в проекте и уже после этого переносить в библиотеку.</p><h3>Library publishing</h3><p>Зарегистрируйтесь на <a href="https://www.npmjs.com/" rel="noopener noreferrer nofollow">npmjs.com</a><strong> </strong>и подтвердите регистрацию (дождитесь письма на почту).</p><pre><code class="bash">$ npm run build
$ npm version patch
$ npm publish</code></pre><h3>Connecting to projects</h3><p>Вы можете либо использовать стартовый шаблон для новых проектов <a href="https://github.com/ushliypakostnik/ui-library-start" rel="noopener noreferrer nofollow"><strong>ui-library-start</strong></a>, тогда вам придется заменить библиотеку:</p><pre><code class="bash">$ npm uninstall ui-library-starter --save-dev
$ npm install ui-library-starter-test --save-dev</code></pre><p>Либо установить библиотеку как любой другой модуль в любой другой проект:</p><pre><code class="bash">$ npm install ui-library-starter-test --save-dev</code></pre><p>Организация стилей дочерних проектов может или иметь подобную библиотеке структуру или любую другую (например, если вы внедряете бибилиотеку в старый проект). Единственное требование: первый импорт в основном файле — основного файла библиотеки. Второй — подключение шрифтов и стилизация <code>:root</code> и <code>body</code>.</p><p><code>@/src/stylus/_stylebase.styl</code> проекта использующего библиотеку:</p><pre><code>// Import UI Library stylebase
@import '~ui-library-starter-test/src/stylus/_stylebase.styl';

// core
@import "core/_base"; // normalize</code></pre><p><code>@/src/stylus/core/_base.styl</code> проекта использующего библиотеку:</p><pre><code>// Import UI Library fonts

@font-face {
  font-family: $font-family;
  src: url('~ui-library-starter-test/src/static/fonts/OpenSans/OpenSans-Regular.eot');
  src: local('Open Sans Regular'), local('OpenSans-Regular'),
    url('~ui-library-starter-test/src/static/fonts/OpenSans/OpenSans-Regular.eot?#iefix') format('embedded-opentype'),
    url('~ui-library-starter-test/src/static/fonts/OpenSans/OpenSans-Regular.woff') format('woff'),
    url('~ui-library-starter-test/src/static/fonts/OpenSans/OpenSans-Regular.ttf') format('truetype');
  font-weight: $font-weight.regular;
  font-style: normal;
}

@font-face {
  font-family: $font-family;
  src: url('~ui-library-starter-test/src/static/fonts/OpenSans/OpenSans-Bold.eot');
  src: local('Open Sans Bold'), local('OpenSans-Bold'),
    url('~ui-library-starter-test/src/static/fonts/OpenSans/OpenSans-Bold.eot?#iefix') format('embedded-opentype'),
    url('~ui-library-starter-test/src/static/fonts/OpenSans/OpenSans-Bold.woff') format('woff'),
    url('~ui-library-starter-test/src/static/fonts/OpenSans/OpenSans-Bold.ttf') format('truetype');
  font-weight: $font-weight.bold;
  font-style: bold;
}


// Base normalize

:root
  scroll-behavior smooth

body
  font-family $font-family, sans-serif
  -moz-osx-font-smoothing grayscale
  -webkit-font-smoothing antialiased
  text-rendering: optimizeSpeed
  color $colors.text
  overflow-x hidden
</code></pre><p>Практически единственный повод что-то поменять в этом файле — крайне маловероятная ситуация — замена или добавление шрифта в гайдлайн. Предполагается что отредактировать пути шрифтов придется только один раз — при подключении библиотеки под определенный стиль.</p><p>Подключите все это к главному шаблону <code>@/src/App.vue</code>:</p><pre><code>&lt;template>
  &lt;div id="app">&lt;/div>
&lt;/template>

&lt;script>
export default {
  name: 'App',
};
&lt;/script>

&lt;style lang="stylus">
@import "~/src/stylus/_stylebase.styl";
&lt;/style></code></pre><p>Исправьте имя библиотеки в импортах в точку входа <code>@/src/main.js</code> если вы брали готовый репо или подключите:</p><pre><code class="javascript">import ComponentLibrary from 'ui-library-starter-test';
import 'ui-library-starter-test/dist/ui-library-starter-test.css';

Vue.use(ComponentLibrary);</code></pre><p>Исправьте имя или добавьте команду <code>update</code> в <code>@/package.json</code>:</p><pre><code class="json">{
  "name": "ui-library-start-test",
  "scripts": {
    "update": "npm install ui-library-starter-test@latest"
  },
}</code></pre><h3>Updating in projects</h3><p>Обновляйте библиотеку до последней версии в проектах:</p><pre><code class="bash">$ npm run update</code></pre><h2>Constants</h2><h3>_stylebase.styl</h3><p>Глобальный медиатор стилей собирает не компилируемые <code>/utils</code>, компилируемые <code>/core</code> сущности и необходимые глобально кастомизации используемых сторонних модулей <code>/libs</code> (но, те которые позволяют это сделать без <code>scoped</code>— стоит разместить в SFC-обертках).</p><p><code>@/src/stylus/_stylebase.styl</code> библиотеки:</p><pre><code>// utils
@import "utils/_variables";
@import "utils/_placeholders";
@import "utils/_mixins";
@import "utils/_typography";

// core
@import "core/_base"; // normalize
@import "core/_animations";

// libs
...</code></pre><p>Теперь можно использовать всю эту кухню на компонентах:</p><pre><code>&lt;style lang="stylus" scoped>
@import "~/src/stylus/_stylebase.styl";

...
&lt;/style></code></pre><p>Это можно назвать «глобальными стилями-невидимками», что-то такое — они, с одной стороны — участвуют в правильном оформлении везде, но, при этом, «их не видно». Мы предоставляем глобальные константы гайдлайна и всю прочую мощь препроцессора всем компонентным системам — библиотеке и всем ее «читателям».</p><h4>Mixins and placeholders</h4><p>UI Library Starter дает надежду на то, что в вашей разметке код будет полностью оптимальный и консистентный. Это способно сделать даже крупную систему из нескольких проектов базирующихся на одном визуальном языке — и полностью управляемой, и, в тоже время — гибкой.<br/><br/>Не копируйте код кусками по компонентам — оптимизируйте очевидно одинаковые наборы в миксинах и плейсхолдерах!<br/><br/>Или вы можете делать примеси без параметров для того, чтобы — забегая вперед (см. раздел Breakpoints) — такой же набор стал доступен внутри медиа-миксинов <code>@/src/stylus/utils/_mixins.styl</code>:</p><pre><code>// Utilities
//////////////////////////////////////////////////////
// Mixins without arguments duplicate placeholders,
// so it can be passed to media mixins

$flex--center()
  display flex
  align-items center
  justify-content center</code></pre><p>Теперь:</p><pre><code>.selector
  +$tablet()
    $flex--center()</code></pre><h3>Colors</h3><p>Абстрагируйте все цвета из гайдлайна в короткие имена-маркеры.</p><p><code>~/src/stylus/utils/_variables.styl</code>:</p><pre><code>// Palette
//////////////////////////////////////////////////////
$colors = {
  cat: #515bd4,
  dog: #ffffff,
  bird: #fd5f00,
  wood: #fed564,
  stone: #8bc24c,
  sea: #13334c,
}
// Dependencies colors
$colors["text"] = $colors.sea
$colors["placeholder"] = rgba($colors.sea, $opacites.rock)
$colors["primary"] = $colors.cat
$colors["secondary"] = $colors.dog</code></pre><p>В любом месте кода препроцессора или секции стилей SFC (при условии импорта стилевой базы) библиотеки или дочерних проектов вы можете передавать правильные цвета:</p><pre><code>.selector
  color $colors.primary</code></pre><p>Легко поддерживать тестовый компонент наглядно демонстрирующий палитру в <code>@/src/components/tests/TestColors/TestColors.vue</code>.</p><h3>Breakpoints</h3><p>Переменные-брекпоинты лучше называть более интуитивно-понятно.</p><p><code>~/src/stylus/utils/_variables.styl</code>:</p><pre><code>// Breakpoints
//////////////////////////////////////////////////////

$breakpoints = {
  tablet: 768px,
  desktop: 1025px,
}
$breakpoints["mobile--max"] = $breakpoints.tablet - 1
$breakpoints["tablet--max"] = $breakpoints.desktop - 1</code></pre><p>Основные точки перехода: в стилевой базе препроцессора в <code>px</code> и в константах скриптов библиотеки в <code>Number</code> — должны соответствовать друг-другу.<br/><br/><code>@/src/utils/сonstants.js</code>:</p><pre><code class="javascript">// Design constants
//////////////////////////////////////////////////////

export const DESIGN = {
  BREAKPOINTS: {
    tablet: 768,
    desktop: 1025,
  },
};</code></pre><p>В препроцессоре — мощнейшее, очень удобное средство — построенные на брекпоинтах примеси принимающие контент:</p><pre><code>// Media
//////////////////////////////////////////////////////

$no-gadgets()
  @media only screen and (max-width $breakpoints.desktop--max)
    {block}

$desktop()
  @media only screen and (min-width $breakpoints.desktop)
    {block}

$gadgets()
  @media only screen and (max-width $breakpoints.tablet--max)
    {block}

$tablet()
  @media only screen and (min-width $breakpoints.tablet) and (max-width $breakpoints.tablet--max)
    {block}

$not-mobile()
  @media only screen and (min-width $breakpoints.tablet)
    {block}

$mobile()
  @media only screen and (max-width $breakpoints.mobile--max)
    {block}</code></pre><p>Использование в любом блоке стилей SFC:</p><pre><code>.selector
  +$desktop()
    // styles only for desktops

  +$tablet()
    // styles only for tablet

  +$mobile()
    // styles only for mobile</code></pre><p>В строгой традиции запрещается использование любых глобальных классов со стилями, за исключением анимаций для Vue и вынужденных кастомизаций действительно необходимых сторонних модулей где «классический ад с <code>!important</code>»))). Мы стараемся минимизировать количество зависимостей и «точечно» закрываем самые «дорогие», неподъемные по ресурсам проблемные места.</p><p>Точки перехода скриптов обрабатываются специальным модулем-помощником для экрана через matchMedia:</p><pre><code class="javascript">// Viewport utils module
//////////////////////////////////////////////////////

import { DESIGN } from './constants.js';

const ScreenHelper = (() => {
  const TABLET = DESIGN.BREAKPOINTS.tablet;
  const DESKTOP = DESIGN.BREAKPOINTS.desktop;

  const isMobile = () => {
    return window.matchMedia(`(max-width: ${TABLET - 1}px)`).matches;
  };

  const isTablet = () => {
    return window.matchMedia(
      `(min-width: ${TABLET}px) and (max-width: ${DESKTOP - 1}px)`,
    ).matches;
  };

  const isDesktop = () => {
    return window.matchMedia(`(min-width: ${DESKTOP}px)`).matches;
  };

  const getOrientation = () => {
    if (window.matchMedia('(orientation: portrait)').matches) {
      return 'portrait';
    }
    return 'landscape';
  };

  const getPixelRatio = () => {
    // eslint-disable-next-line prettier/prettier
    return (
      window.devicePixelRatio ||
      window.screen.deviceXDPI / window.screen.logicalXDPI
    );
  };

  return {
    isMobile,
    isTablet,
    isDesktop,
    getOrientation,
    getPixelRatio,
  };
})();

export default ScreenHelper;</code></pre><p>Для того чтобы компоненты могли всегда верно определять типоразмер устройства предоставлена общая функциональность обновляющая переменные в событии ресайза. Этот миксин может быть невероятно полезен и на этапе конечной сборки адаптивных видов — в дочерних проектах.</p><p><code>@/src/mixins/resize.js</code>:</p><pre><code class="javascript">import ScreenHelper from '../utils/screen-helper.js';

export default {
  data() {
    return {
      isMobile: null,
      isTablet: null,
      isDesktop: null,
    };
  },

  mounted() {
    window.addEventListener('resize', this.onWindowResizeCommon, false);
    this.onWindowResizeCommon();
  },

  beforeDestroy() {
    window.removeEventListener('resize', this.onWindowResizeCommon, false);
  },

  methods: {
    onWindowResizeCommon() {
      // console.log('onWindowResizeCommon!!!!');

      this.isMobile = ScreenHelper.isMobile();
      this.isTablet = ScreenHelper.isTablet();
      this.isDesktop = ScreenHelper.isDesktop();
    },
  },
};</code></pre><p>На любых компонентах или видах в библиотеке:</p><pre><code>&lt;template>
  &lt;Component v-show="isDesktop" />
  
  &lt;div v-if="isDesktop" />
&lt;/template>

&lt;script>
import resize from '../../../src/mixins/resize.js';

export default {
  name: 'ComponentName',

  mixins: [resize],
};
&lt;/script></code></pre><p>В проектах:</p><pre><code>&lt;script>
import resize from 'ui-library-starter/src/mixins/resize.js';

export default {
  name: 'Test',

  mixins: [resize],
};
&lt;/script></code></pre><p>Тестовый компонент в <code>@/src/components/Tests/TestBreakpoints/TestBreakpoints.vue</code>.</p><h3>Typography</h3><p>Абстрагируйте все гарнитуры из гайдлайна в короткие имена-маркеры.</p><p><code>~/src/stylus/utils/_typography.styl</code>:</p><pre><code>// Typography
//////////////////////////////////////////////////////
//////////////////////////////////////////////////////
//////////////////////////////////////////////////////

// Typographic Variables
//////////////////////////////////////////////////////

// Guide

$font-family = "Ubuntu"

$font-weight = {
  regular: 400,
  bold: 700,
}

$letter-spacing = {
  normal: normal
}

// Universal Typographic Mixin
//////////////////////////////////////////////////////

// We use one, only one, Karl, a universal mixin for all cases!

$text($name)
  font-family $font-family
  letter-spacing $letter-spacing.normal

  if $name == "elena"
    font-size 72px
    line-height 72px
    font-weight $font-weight.bold
  if $name == "olga"
    font-size 56px
    line-height 56px
    font-weight $font-weight.bold
  if $name == "anna"
    font-size 40px
    line-height 44px
    font-weight $font-weight.bold
  if $name == "maria"
    font-size 32px
    line-height 36px
    font-weight $font-weight.bold
  if $name == "katya"
    font-size 24px
    line-height 28px
    font-weight $font-weight.regular
  if $name == "alena"
    font-size 20px
    line-height 28px
    font-weight $font-weight.regular
  if $name == "natasha"
    font-size 16px
    line-height 28px
    font-weight $font-weight.regular
  if $name == "nina"
    font-size 13px
    line-height 16px
    font-weight $font-weight.regular</code></pre><h3>Others</h3><p><code>~/src/stylus/utils/_variables.styl</code>:</p><pre><code>// Others from guide
//////////////////////////////////////////////////////

$border-radiuses = {
  soccer: 0,
  dancing: 2px,
  swimming: 3px,
  shooting: 10px,
}

$opacites = {
  waltz: 1,
  funky: 0.75,
  rock: 0.66,
  psy: 0.45,
  pop: 0.2,
  reggae: 0,
}

$effects = {
  duration: 0.1s,
}</code></pre><p>Можно получить из этого миксины для более лаконичного синтаксиса <code>~/src/stylus/utils/_mixins.styl</code>:</p><pre><code>// Rounding
//////////////////////////////////////////////////////

$border-radius($name)
  if $name == "soccer"
    border-radius $border-radiuses.soccer // 0
  if $name == "dancing"
    border-radius $border-radiuses.dancing // 2px
  if $name == "swimming"
    border-radius $border-radiuses.swimming // 3px
  if $name == "shooting"
    border-radius $border-radiuses.shooting // 10px


// Opacity
//////////////////////////////////////////////////////

$opacity($name)
  if $name == "waltz"
    opacity $opacites.waltz // 1
  if $name == "funky"
    opacity $opacites.funky // 0.75
  if $name == "rock"
    opacity $opacites.rock // 0.66
  if $name == "psy"
    opacity $opacites.psy // 0.45
  if $name == "pop"
    opacity $opacites.pop // 0.2
  if $name == "reggae"
    opacity $opacites.reggae // 0</code></pre><p>Теперь можно:</p><pre><code>.selector
  $opacity("dancing")
  $border-radius("funky")</code></pre><p>Переменные все равно могут пригодиться если дизайнеры захотят сделать новый цвет с разрешенной прозрачностью:</p><pre><code>.selector
  color rgba($colors.dog, $opacites.psy)</code></pre><h4>Анимации</h4><p>Единственные глобально компилируемые стилевые классы которые в строгой традиции разрешено использовать — для анимаций Vue. Вы можете добавлять их после соответсвующих <code>@keyframes</code> в специальном файле стилевой базы <code>~/src/stylus/core/_animation.styl</code>:</p><pre><code>// Project animations
//////////////////////////////////////////////////////
//////////////////////////////////////////////////////
//////////////////////////////////////////////////////

// Keyframes
//////////////////////////////////////////////////////

@keyframes fade
  0%
    opacity 0

  100%
    opacity 1


// Vue classes for animation
//////////////////////////////////////////////////////

.fade
  &amp;-enter-active
    animation fade ($effects.duration * 2) forwards

  &amp;-leave-active
    animation fade ($effects.duration * 2) reverse</code></pre><p>Теперь в разметке:</p><pre><code>&lt;template>
  &lt;transition name="fade">
    &lt;div v-if="Boolean" />
  &lt;/transition>
&lt;/template></code></pre><h3>Structure</h3><pre><code>.
├─ docs/ // documentation folder
│  ├── .vuepress/ // VuePress
│  │   ├─ stylus/ // import of fonts and customization of documentation
│  │   │  └─ palette.styl
│  │   ├─ config.js // configuration
│  │   └─ enhanceApp.js // improvements - installation of library components
│  ├─ components/ // components documentation folder
│  │  ├─ link.md
│  │  └─ ...
│  ├─ constants/ // library documentation folder
│  │  ├─ breakpoints.md
│  │  ├─ colors.md
│  │  ├─ others.md
│  │  ├─ stylebase.md
│  │  └─ typography.md
│  ├─ sandbox/ // sandbox view
│  │  └─ sandbox.md
│  ├─ links.md // useful reading links
│  ├─ README.md // homepage
│  ├─ start.md // getting started
│  └─ structure.md // structure
├─ src/ // source folder
│  ├─ components/
│  │  ├─ Icon
│  │  │  ├─ index.js
│  │  │  └─ Icon.vue
│  │  ├─ Sandbox
│  │  │  ├─ index.js
│  │  │  └─ Sandbox.vue
│  │  ├─ Tests
│  │  │  └─ ...
│  │  └─ ...
│  ├─ mixins/
│  │  ├─ resize.js // adaptive to components
│  │  └─ ...
│  ├─ static/ // after build fonts will be copied here
│  │  └─ fonts/
│  │     └─ ...
│  ├─ stylus/
│  │  ├─ core
│  │  │  ├─ _animations.styl // keyframes and Vue animationss classes
│  │  │  └─ _base.styl // normalize
│  │  ├─ utils
│  │  │  ├─ _mixins.styl
│  │  │  ├─ _placeholders.styl
│  │  │  ├─ _typography.styl // Use one, only one, Karl, a universal mixin for all cases!
│  │  │  └─ _variables.styl
│  │  └─ _stylebase.styl // main file of stylus 
│  ├─ utils/ // scripts
│  │  ├─ constants.js // javascript constants
│  │  ├─ screen-helper.js // adaptive viewport
│  │  └─ ...
│  └─ main.js // library connection
├─ .browserslistrc // configuration of supported browsers
├─ .eslintrc.js // linter configuration
├─ .gitignore // git ignore
├─ .prettierrc // prettier configuration
├─ babel.config.js // babel configuration
├─ colors.jpg // image for README
├─ package.json // project configuration
└─ README.md
```</code></pre><h2>Мы сегодня многое поняли</h2><p>Чистый код начинается с четких концепций и годной архитектуры, эффективная работа команды — с аккуратной коммуникации и внятных соглашений. Я потратил всего один вечер для того чтобы написать сам пример модуля-библиотеки на Vue со Stylus (без компонент). Точно тоже самое можно быстро легко осуществить для связки любого современного компонентного фреймворка и препроцессора. Даже если вы не хотите, или по каким-то внешним причинам — не можете — выделить атомарный и подробно-компонентный UI своего интерфейса в модуль-библиотеку, изложенные выше подходы все равно способны помочь вам и вашей команде писать действительно красивые и удобные проекты фронтенда с по-настоящему качественной версткой.<br/><br/>Удачи в написании собственных библиотек!</p><figure class=""><img src="https://habrastorage.org/r/w780q1/getpro/habr/upload_files/5e4/f10/383/5e4f10383d235d5ea2efb8c17dccafd4.jpg" alt="Советский плакат" title="Советский плакат" width="462" height="700" data-src="https://habrastorage.org/getpro/habr/upload_files/5e4/f10/383/5e4f10383d235d5ea2efb8c17dccafd4.jpg" data-blurred="true"/><figcaption>Советский плакат</figcaption></figure></div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bvue%5D" class="tm-tags-list__link">vue</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bstylus%5D" class="tm-tags-list__link">stylus</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B0%D1%82%D0%BE%D0%BC%D0%B0%D1%80%D0%BD%D1%8B%D0%B9%20%D0%B4%D0%B8%D0%B7%D0%B0%D0%B9%D0%BD%5D" class="tm-tags-list__link">атомарный дизайн</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BA%D0%BE%D0%BC%D0%BF%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D1%8B%5D" class="tm-tags-list__link">компоненты</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B1%D0%B8%D0%B1%D0%BB%D0%B8%D0%BE%D1%82%D0%B5%D0%BA%D0%B8%5D" class="tm-tags-list__link">библиотеки</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B2%D0%B5%D1%80%D1%81%D1%82%D0%BA%D0%B0%5D" class="tm-tags-list__link">верстка</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/web_design/" class="tm-hubs-list__link">
    Веб-дизайн
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/crazydev/" class="tm-hubs-list__link">
    Ненормальное программирование
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/css/" class="tm-hubs-list__link">
    CSS
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/javascript/" class="tm-hubs-list__link">
    JavaScript
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/ui/" class="tm-hubs-list__link">
    Интерфейсы
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 8: ↑5 и ↓3</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 8: ↑5 и ↓3" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+2</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">5.9K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    46
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/ushliypakostnik/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/fa9/446/abe/fa9446abe1c36fe3e012c0b514e64cf0.png" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 19 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    3
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">2</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Левон Алексеевич Гамбарян</span> <a href="/ru/users/ushliypakostnik/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @ushliypakostnik
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Front-end разработчик</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/582638/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 12 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/582638/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/582638/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"582638":{"id":"582638","timePublished":"2021-10-10T14:36:56+00:00","isCorporative":false,"lang":"ru","titleHtml":"Как правильно верстать 2, или зачем я написал еще одну UI-библиотеку, мой первый npm-модуль?","leadData":{"textHtml":"\u003Cp\u003EЭто работа является логическим продолжением моего первого подробного текста для сообщества об актуальных подходах к верстке \u003Ca href=\"https:\u002F\u002Fgood-layout-book.netlify.app\u002F\" rel=\"noopener noreferrer nofollow\"\u003E\u003Cu\u003EКак верстать веб-интерфейсы быстро, качественно и интересно\u003C\u002Fu\u003E\u003C\u002Fa\u003E. Но, если в первом трактате, внимание уделялось, прежде всего, стилю кода, его качеству и эффектным современным возможностям различных препроцессоров и фреймворков, что демонстрировалось на некоторых конкретных специфических задачах, теперь хочется сфокусироваться на архитектурных или даже организационных аспектах веб-производства. Если вы не читали мой первый текст, но собираетесь при этом прочесть этот — не поленитесь перейти по ссылке и пробежать глазами самые последние разделы каждой из двух частей первого пособия: «Готовые решения» и «Песочницы». Этот текст начинает прямо с этих мест и развивает именно эти идеи: и о пагубности применения раскрученных-популярных «на все готовых» UI-«дизайн-систем»-фреймворков для создания кастомизированных веб-морд любой сложности и, о, по сути, полезности использования хотя бы минимального документирования и явных соглашений при разработке веб-GUI на фронтенде. Но я не стану тратить время, доказывая, что «ни в коем случае нельзя использовать Vuetify или AntDesign» для создания крупных UI-систем с полностью кастомным оформлением. Вам не нужно прикручивать себе \u003Cs\u003Eогромный геморрой\u003C\u002Fs\u003E непроницаемый слой плохо кастомизируемого готового GUI для того чтобы написать кнопку или поле ввода! Если вам нужен датапикер — найдите и допилите что-нибудь под себя. Это понимание может только прийти или так и не придти с годами тяжелого опыта, когда вы будете постоянно тратить непростительно много своего времени на то, чтобы написать очевидно отвратительный CSS — «кряки с !important`ами поверх стилей библиотеки», выдумывать чудные костыли на javascript чтобы изменить дефолтное поведение виджетов на кастомное и хитрое-нестандартное затребованное вашими дизайнерами... И при этом ваши шаблоны, стили и js-обвязки будут превращаться во все менее читаемые запутанные нагромождения разнообразно оформленного кода, с различным подходом к наименованию и прочими бедами… Этот текст и написанный для него проект призваны наглядно показать «а как надо?».\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F549\u002Fe37\u002F7d9\u002F549e377d962c1bd8a6d7c25f0e407984.jpg","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F549\u002Fe37\u002F7d9\u002F549e377d962c1bd8a6d7c25f0e407984.jpg","fit":"cover","positionY":0,"positionX":51.666666666667}},"editorVersion":"2.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":3,"votesCount":19},"rating":2,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"968008","alias":"ushliypakostnik","fullname":"Левон Алексеевич Гамбарян","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002Ffa9\u002F446\u002Fabe\u002Ffa9446abe1c36fe3e012c0b514e64cf0.png","speciality":"Front-end разработчик"},"statistics":{"commentsCount":12,"favoritesCount":46,"readingCount":5935,"score":2,"votesCount":8},"hubs":[{"relatedData":null,"id":"47","alias":"web_design","type":"collective","title":"Веб-дизайн","titleHtml":"Веб-дизайн","isProfiled":true},{"relatedData":null,"id":"84","alias":"crazydev","type":"collective","title":"Ненормальное программирование","titleHtml":"Ненормальное программирование","isProfiled":true},{"relatedData":null,"id":"307","alias":"css","type":"collective","title":"CSS","titleHtml":"CSS","isProfiled":true},{"relatedData":null,"id":"357","alias":"javascript","type":"collective","title":"JavaScript","titleHtml":"JavaScript","isProfiled":true},{"relatedData":null,"id":"9188","alias":"ui","type":"collective","title":"Интерфейсы","titleHtml":"Интерфейсы","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"2","alias":"design","title":"Дизайн"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F580\u002F9ef\u002F8ac\u002F5809ef8aca028d84b97bae2d5bc1d394.jpg\" alt=\"Спойлер: атомарный дизайн\" title=\"Спойлер: атомарный дизайн\" width=\"780\" height=\"163\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F580\u002F9ef\u002F8ac\u002F5809ef8aca028d84b97bae2d5bc1d394.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003EСпойлер: атомарный дизайн\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EЭто работа является логическим продолжением моего первого подробного текста для сообщества об актуальных подходах к верстке \u003Ca href=\"https:\u002F\u002Fgood-layout-book.netlify.app\u002F\" rel=\"noopener noreferrer nofollow\"\u003E\u003Cu\u003EКак верстать веб-интерфейсы быстро, качественно и интересно\u003C\u002Fu\u003E\u003C\u002Fa\u003E. Но, если, в первом трактате, внимание уделялось, прежде всего, стилю кода, его качеству и эффектным современным возможностям различных препроцессоров и фреймворков, что демонстрировалось на некоторых конкретных специфических задачах, теперь хочется сфокусироваться на архитектурных или даже организационных аспектах веб-производства. Если вы не читали мой первый текст, но собираетесь при этом прочесть этот — не поленитесь перейти по ссылке и пробежать глазами самые последние разделы каждой из двух частей первого пособия: «Готовые решения» и «Песочницы». Этот текст начинает прямо с этих мест и развивает именно эти идеи: и о пагубности применения раскрученных-популярных «на все готовых» UI-«дизайн-систем»-фреймворков для создания кастомизированных веб-морд любой сложности и, о, по сути, полезности использования хотя бы минимального документирования и явных соглашений при разработке веб-GUI на фронтенде. Но я не стану тратить время, доказывая, что «ни в коем случае нельзя использовать Vuetify или AntDesign» для создания крупных UI-систем с полностью кастомным оформлением. Вам не нужно прикручивать себе \u003Cs\u003Eогромный геморрой\u003C\u002Fs\u003E непроницаемый слой плохо кастомизируемого готового GUI для того чтобы написать кнопку или поле ввода! Если вам нужен датапикер — найдите и допилите что-нибудь под себя. Это понимание может только прийти или так и не придти с годами тяжелого опыта, когда вы будете постоянно тратить непростительно много своего времени на то, чтобы написать очевидно отвратительный CSS — «кряки с !important`ами поверх стилей библиотеки», выдумывать чудные костыли на javascript чтобы изменить дефолтное поведение виджетов на кастомное и хитрое-нестандартное затребованное дизайнерами... И, при этом, ваши шаблоны, стили и js-обвязки будут превращаться во все менее читаемые, запутанные нагромождения разнообразно оформленного кода, с различным подходом к наименованию и прочими бедами… Этот текст и написанный для него проект призваны наглядно показать «а как надо?».\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F0e7\u002F0c1\u002F5b5\u002F0e70c15b5652fbcb37a45c2a1311378f.jpeg\" alt=\"Симонов Игорь Иванович. «Бракодел». 1953 год.\" title=\"Симонов Игорь Иванович. «Бракодел». 1953 год.\" width=\"2423\" height=\"2160\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F0e7\u002F0c1\u002F5b5\u002F0e70c15b5652fbcb37a45c2a1311378f.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003EСимонов Игорь Иванович. «Бракодел». 1953 год.\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EВерстка по-прежнему остается достаточно свободной дисциплиной, в которой сосуществуют множество совершенно разных методологий, подходов и связанных с ними технических решений. Часто программисты принимают какой-то один определенный способ, и, в результате, стагнируют в общем понимании и развитии. Привычки формируют удобную зону комфорта и это мешает осознать риски в ситуациях для которых они неадекватны. Знаете, какой аргумент мне уже несколько раз приходилось слышать в технической дискуссии от оппонентов защищавших привычную для них систему, технику разметки, но совершенно непригодную, на мой взгляд, для решения текущих насущных задач, в реальной ситуации данного конкретного проекта и сроков? «Ну это же \u003Cem\u003Eобщепринятая\u003C\u002Fem\u003E технология?», «Гугл, Фейсбук, … это используют, чем мы хуже»... Если вы слышите от кого-то, что нечто, не относящееся к действительно используемому всеми нами известному перечню базовых спецификаций — «общепринято», это повод сразу сделать вывод о том, что ваш собеседник имеет мало разнообразного опыта в этом и просто защищает свою лень и нежелание учиться новому. Рядом с аргументом про странные пристрастия акул капитализма обычно следует еще и что-нибудь совершенно несостоятельное про «наши программисты не все знают Stylus», при том что, любой препроцессор CSS даже и тем более начинающий программист способен изучить до базового уровня за один полезный приятный вечер. Мне всегда нравилось менять технологии, синтаксисы — это освежает и придает драйву, интереса в работе. И именно совершенно разнообразный опыт реальной коммерческой практики с различными технологиями сформировал мои представления о том «что хорошо, что плохо» в тех или иных ситуациях.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F939\u002Fe73\u002F396\u002F939e7339689cd38cfd7a789ed13f440d.jpg\" alt=\"Закон рабочей чести!\" title=\"Закон рабочей чести!\" width=\"2495\" height=\"1396\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F939\u002Fe73\u002F396\u002F939e7339689cd38cfd7a789ed13f440d.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003EЗакон рабочей чести!\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EВозможно, я когда-нибудь накоплю достаточно злости и найду время для того чтобы на наглядных вопиющих примерах показать «а почему вот это плохо?». Но эта статья и пример модуля о том «как надо?», что точно будет аккуратно и эффективно. Если вы являетесь упертым сторонником CSS-in-JS-подходов, или, вообще, по-прежнему наносите оформление на разметку в «бородатом» «утилитарном» стиле «много классов с говорящими названиями содержащих одно-два правило» (тут уместно вспомнить уже «продвинутую» — CSS-in-JS — реализацию \u003Ca href=\"https:\u002F\u002Ftailwindcss.com\u002F\" rel=\"noopener noreferrer nofollow\"\u003ETaiwind\u003C\u002Fa\u003E с ее оголтелым слоганом-оксюмороном: «“Best practices” don’t actually work».) — предложенная и в моей первой книжке и в ее практическом продолжении — здесь — методология, использующая только любой классический препроцессор как «абстрактный медиатор стилей» для доставки дизайн-констант и прочей стилевой абстракции, и сам компонентный фреймворк для, простите за сплошную тавтологию — аккуратной декларативной компонентности — вам все это не зайдет, наверняка. Например, попытки посадить Styled Components на дизайн-константы приводят к безобразному коду в таких «стилях»... Или утилиты «ишак вижу — ищак пою» «в стиле Taiwind» вполне способны представлять «атомы», но все равно ограничивают гибкость в случае непрогнозируемых и частых изменений, ну или просто — также выглядят излишне-невменяемо уже на самой разметке. Я встречал проекты где прикручено «вообще сразу все» — препроцессор, CSS-модули и Styled Components, Flow к зачем-то “отключенному” CRA, например — и это уже даже нельзя назвать «оверинжинирингом», так как это просто отвратительная глупость и очевидно плохая архитектура. Возможно, раскаяние и отрезвление наступит когда вы опять превысите сроки и бюджет на очередном проекте в пять, да, Карл, пять раз — и такое бывает сплошь и рядом. И\u002Fили — дизайнеры, по просьбе клиента которому никак нельзя отказать в очередной раз «все переделают» в макетах, которые «уже сверстаны»…\u003C\u002Fp\u003E\u003Ch2\u003EМотивация\u003C\u002Fh2\u003E\u003Cp\u003EДавайте, прежде всего, четко обрисуем проблему которую мы собираемся решать. В реальном мире, в очень многих командах — проектирование практически никак не «дружит» с разработкой, общаясь, по сути — только через конечные «макеты». Даже действительно опытные «фуллы», которых бизнес предпочитает нанимать «и в качестве фронтендеров», на самом то деле, верстают совсем слабо. Кодеры сдают только им самим известно \u003Cs\u003Eиз какого гавна\u003C\u002Fs\u003E как собранные страницы на тестирование, которое, в свою очередь — тупо сравнивает их с макетами — замыкая порочный круг. Обычно и, тем более, в условиях жестких дедлайнов и\u002Fили в разношерстных, наспех собранных командах из специалистов с совершенно разными скилами и опытом — бывает очень сложно ввести соглашения. Общий фокус процесса неминуемо смещается на то чтобы «сделать хоть как-нибудь», «протолкнув» быстрый гавнокод через тестировщиков…\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff7c\u002F30c\u002F1c5\u002Ff7c30c1c512aa0d079054f3e333ea531.jpg\" alt=\"Советский плакат\" title=\"Советский плакат\" width=\"1140\" height=\"641\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff7c\u002F30c\u002F1c5\u002Ff7c30c1c512aa0d079054f3e333ea531.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003EСоветский плакат\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EТакая организация работы как раз очень выгодна мракоделам. Мракодел отгораживается «только своей задачей» — «моя хата скраю» — и пишет ее так, как ему удобно, игнорируя best practices и напряжные соглашения, часто вообще — просто изображая работу удаленно — скопировал, чутка перековырял под макеты — ушел гулять, вечером отправил — ждет когда тестировщики обязательно и несколько раз вернут на доработку… «Есть баги — есть работа!». «Переиспользование» превращается в простое копирование и «интуитивную» модификацию «уже готовых кусков» — лавинообразно усугубляя мрачность и запутанность стилей, разметки и js-обвязок для них. И если javascript бывает еще более-менее адекватен, все его «умеют» и понимают — то стили часто превращаются в просто непроходимые дебри и бесконечную излишнюю неоптимизированную колбасу, несмотря на то какие именно технологии используются… При этом руководство, менеджеры которые не ходят читать репо могут пребывать в наивной уверенности что «\u003Cem\u003Eвсе готово, только кнопку нажать\u003C\u002Fem\u003E» или хотя бы — «\u003Cem\u003Eвот это уже сделано на том проекте и можно переиспользовать\u003C\u002Fem\u003E»... Мне приходилось получать репо с тонной «индусского» — нереально небрежного и явно копированного целыми крупными кусками и даже файлами кода, игнорирующего вполне имеющийся у фирмы единый UI-кит, его константы и компонентность, с посылом от руководства что «все готово», «надо слегка переписать»… Мне приходилось годами исправлять за «тимлидами-сеньорами» проекты с ужасной архитектурой блокирующей быструю доставку именно того, что нужно заказчику, например — сложного современного дизайна… Причем, когда проект начинали — самые важные требования остались проигнорированы, зато с совершенно ненужными в этом случае «модными трендами» покуражились вовсю...\u003C\u002Fp\u003E\u003Cp\u003EЯ заметил что с молодыми специалистами часто работать и добиваться качественного результата бывает намного проще чем с закостенелыми самоуверенными «фуллстеками», рефлексующими свою недооцененность и прочее… Ребята помоложе еще не потеряли азарт и интерес к тому что делают, не успели несколько раз перегореть, устать, и большинство как раз стремиться стать настоящими профессионалами, открыты новым идеям, подходам, ищут и перенимают хороший стиль, адекватно реагируют на критику и так далее.. Хотя бывают исключения и с теми, и с другими, конечно… Но хватить абстрактной лиричной боли — перейдем уже к «хорошим практикам по Гамбаряну»…\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F355\u002F6db\u002F3be\u002F3556db3be1030ed346dc06158550358e.jpeg\" alt=\"Советский плакат\" title=\"Советский плакат\" width=\"1467\" height=\"2048\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F355\u002F6db\u002F3be\u002F3556db3be1030ed346dc06158550358e.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003EСоветский плакат\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Ch2\u003EРазрабатывайте визуальный язык и основанные на нем шаблоны своих интерфейсов через простые четкие соглашения и документирование, а не хаотическое копирование!!!\u003C\u002Fh2\u003E\u003Cp\u003EПо опыту, особенно, если речь идет о «бренной вьюхе» на фронтенде, очень многие программисты используют годную на все времена стремительно интуитивную методологию «программирование через копирование файлов или больших кусков кода» с девизом «да хз что за функция» — и такой уже распиленный системный хардкор-код практически невозможно полностью отрефакторить, точнее — по опыту — только в том случае, если это позволяют удачно выбранные изначально технологии, плюс, конечно же, организационные ресурсы... Некоторые системы в реальных коммерческих ситуациях можно только «подмести» и «заморозить», продолжая, по сути, доставлять мрак при необходимости какой-то видимости прогресса для клиента. Необходимость непрерывно править плохой код коллег, или работать с неадекватными задачам и целям проектов архитектурами после предшественников резко снижает качество жизни программистов.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fdd6\u002F08c\u002Fc50\u002Fdd608cc50c7bbb7b060bfefe04e5cbb1.jpg\" alt=\"Советский плакат\" title=\"Советский плакат\" width=\"1000\" height=\"1379\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fdd6\u002F08c\u002Fc50\u002Fdd608cc50c7bbb7b060bfefe04e5cbb1.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003EСоветский плакат\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EПрограммисты такие же ленивые, хоть и мыслящие, животные как и все другие люди и коты. Да, мне кажется, что мой полосатый много думает и иногда даже пытается поделиться... Вот даже котик пытается рассказать о результатах своего умственного труда? А многие из вас не то что никогда не оставляют комментариев — в принципе — пишут такой код что \u003Cs\u003Eя бы сразу уволил\u003C\u002Fs\u003E \u003Cs\u003Eкак это развидеть\u003C\u002Fs\u003E, к которому очевидно любые комментарии излишни, так скажем. Причем, причины такого состояния кода множества проектов всегда одни и те же: «времени совсем не было», «надо было что-то показать», «руководство попросило сделать очень быстро» и тому подобное, «будет время — перепишем»… Поверьте, в реальной коммерции — оплаченного отдельного времени на оптимизацию и рефакторинг практически никогда не бывает. Клиенты в аутсорсе, например, почти никогда не покупают его как дополнительную опцию. Даже если некий продукт очевидно неаккуратно написан, работает со сбоями и совершенно не годен для масштабирования — бизнес практически всегда будет заинтересован, прежде всего, в доставке нового функционала любой ценой, а не в исправлении «уже проданного» — и все что он действительно захочет, чаще всего, это опять — быстро — «как-нибудь подлатать все баги»… Главная задача команды разработчиков в этом смысле — прямо на старте выработать четкую систему приемлемых и удобных для всех участников соглашений, которая с самого начала позволит писать максимально консистентный, понятный, и, самое главное, в идеале — и гибкий, и, одновременно, железно надежный код.\u003C\u002Fp\u003E\u003Cp\u003EСреднестатистический разработчик-мракодел, тянущий лямку в капитализме никогда не возвращается к своему поспешному или даже откровенно, простите мой спесишизм, «индусскому» копипасте-коду для того чтобы улучшить его, кроме ситуаций, когда служба контроля качества вернула некий конкретный баг на доработку. И, конечно, тут совсем нельзя говорить о каком-либо структурном улучшении, так как подобные правки всегда носят не системный, а полностью локальный-частный характер «быстрых фиксов», «кряков» и только усугубляют беспорядок. Не дай бог трогать код по «уже закрытым таскам», «так ведь можно что-нибудь поломать!»... Среднестатистический разработчик-мракодел нацелен, прежде всего, на закрытие своих тасков-багов по трекеру и не интересуются общим состоянием проекта, приходящим чужим кодом. Полезные соглашения его напрягают, он игнорирует или даже активно противиться им. Кроме того, я заметил, что профессиональные мракоделы в командах и на проектах стремятся объединяться в устойчивые группы… Мракоделы копируют мракокод из файла в файл, из проекта в проект, покрывая друг-друга, ломая волю ПМов и регулярно рапортуя через них начальству которое не читает репо что «все почти готово, только кнопку нажать»... Мракоделы даже иногда дорастают до сеньоров и лидов. Тогда они начинают занимаются сомнительным оверинжинирингом, накручивая ненужные, но модные технологии, пока не оказывается что все сроки сорваны и клиент не получил того чего хотел, а код такой что заплатки негде ставить без поллитры не прочитать… Как простому верстальщику противостоять вселенскому мраку?\u003C\u002Fp\u003E\u003Cp\u003EДалее будет изложена простая методика реализации гибкого и масштабируемого GUI веб-интерфейсов, доставки дизайна в код, аккуратное использование которой сводит на минимум возможности добавления низкопробного кода в проекты фронтенда, а также способно помочь более четко, сперва — оценить, и, в дальнейшем, организовать эффективную совместную работу. Вкратце, обобщая  можно тезисно описать это как то, что вам нужно добиться от разработчиков участвующих в развитии проекта фронтенда соблюдения следующих основных моментов:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EВсе оформление вплоть до перекастомизаций необходимых сторонних модулей неукоснительно основано на константах-«атомах» и уже собираемых на их основе более сложных паттернах которые диктует ваш дизайн, руководство по стилю.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EПри первоначальной оценке интерфейс разбирается на компоненты: «молекулы» и «организмы», «шаблоны» в терминах атомарного дизайна. Элементы, виджеты, раскладки, общие лейауты, все кроме уже окончательных видов роутера — на которых собирается соответствующая макетам конечная реальная вьюха из этих переиспользуемых сущностей — формируют библиотеку компонент и тем самым уже минимально документируются для всей команды. Код автоматически становится намного более оптимальным чем при хаотичном «копипаста»-подходе когда «левая нога не знает что делает правая». \u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EДаже на «отдельном проекте» нужно стараться организовывать компонентную архитектуру таким образом, как будто ваши @\u002Fsrc\u002Fcomponents — находятся в удаленном репозитории — «UI-библиотеке», и, поэтому — недоступны для «обвязок» напрямую. Компоненты «реальных вьюх» [соответствующие дизайн-макетам], например на @\u002Fsrc\u002Fviews во Vue или @\u002Fsrc\u002Fpages и @\u002Fsrc\u002Flayouts с Nuxt —должны взаимодействовать с UI-компонентами которые они просто «собирают, предоставляя данные» — исключительно через пропсы — через явно обозначенный интерфейс, а не «состоянием». Концептуально, это напоминает нам «инкапсуляцию» из «серьезного программирования», а практически будет приводить к тому что — стили за редким исключением будут сосредоточены практически только «в UI-компонентах», а вся бизнес-логика — совершенно точно исключительно на видах. Это еще и способно организовать работу более эффективно — участники «с хорошей версткой» могут, прежде всего — поставлять качественную разметку.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EЧасто встречающийся в современной корпоративной культуре случай когда, предположим, два разных отдела ведут разработку разных интерфейсов основанных на одной визуальной дизайн-системе — очевидно основной когда необходимо построить работу через общую библиотеку-модуль.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F8f9\u002F7c8\u002F12e\u002F8f97c812ef6fa8a6a589e539a3d4da19.jpeg\" alt=\"Советский плакат\" title=\"Советский плакат\" width=\"1540\" height=\"2048\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F8f9\u002F7c8\u002F12e\u002F8f97c812ef6fa8a6a589e539a3d4da19.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003EСоветский плакат\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Ch2\u003EАнтибиблиотека\u003C\u002Fh2\u003E\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Fui-library-starter\" rel=\"noopener noreferrer nofollow\"\u003E\u003Cu\u003EUI Library Starter\u003C\u002Fu\u003E\u003C\u002Fa\u003E это точно не еще одна библиотека «готового на все UI». Это, прежде всего, концепт и пример системного подхода, которые могут позволить вам легко поддерживать свои собственные библиотеки только из необходимых компонент, чистого оптимального кода, сопровождаемого необходимой наглядной документацией и с оформлением точно согласующимся с руководством по стилю. Проект содержит некоторый минимальный набор готовых компонент именно в качестве примера. Это то, что встречается практически в любом большом интерфейсе: простые, базовые примеры — обертка для контента, сетки, и пара важных «дорогих» контролов: датапикер с диапазоном на одном листе и кварталами, обертка над сторонним селектом...\u003C\u002Fp\u003E\u003Cp\u003EМысли о том что написание хардкор-кода или, точнее, написание хардкор-кода еще и с помощью чужого, обычно практически полностью изолированного от остальной системы готового кода как-то \u003Cem\u003Eпомогает решать задачи бизнеса\u003C\u002Fem\u003E — нужно забыть. Возможно, какие-то тактические задачи, может быть, но точно — все равно ненадежно, и всегда —стратегически создает предпосылки для очень серьезных проблем в будущем, возможно, даже самом скором. Кроме того, исключает возможность получать удовольствие от работы для тех кто трудиться с вами параллельно или будет вынужден иметь дело с этим легаси в дальнейшем.\u003C\u002Fp\u003E\u003Cp\u003EВ этом смысле сама идея UI Library Starter противоположна концепции любой обычной популярной библиотеки где «все включено». Она не в том чтобы дать вам возможность лениться, бояться и тратить рабочее время неэффективно мучаясь трудными кастомизациями через \u003Ccode\u003E!important\u003C\u002Fcode\u003E с неизвестным результатом, другими адовыми кряками, превращая свои проекты в неведомы зверушки из скрытых под капотом чужих кривых поделок, нечитаемые лоскутные одеяла повторяющегося кода или запутанные описания одного и того же совсем по-разному, с позорно огромным опасным пулом зависимостей. Идея этого проекта в том, чтобы аккуратно помочь вам начать писать действительно оптимальный, понятный и задокументированный, гибкий и легко масштабируемый код, который вы сможете постоянно переиспользовать и улучшать.\u003Cbr\u002F\u003E\u003Cbr\u002F\u003E\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fushliypakostnik\u002Fui-library-start\" rel=\"noopener noreferrer nofollow\"\u003EПример\u003C\u002Fa\u003E дочернего проекта использующего модуль-библиотеку.\u003C\u002Fp\u003E\u003Cp\u003EДалее — простите мне странные вкрапления моего никакого английского в документации…)))\u003C\u002Fp\u003E\u003Ch2\u003EGetting Started\u003C\u002Fh2\u003E\u003Ch3\u003EInstallation\u003C\u002Fh3\u003E\u003Cp\u003EСкачайте код \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fushliypakostnik\u002Fui-library-starter\" rel=\"noopener noreferrer nofollow\"\u003Eui-library-starter\u003C\u002Fa\u003E и оформите его в отдельный репозиторий. При выборе имени для нового репозитория необходимо сразу убедиться в том, что оно не занято на \u003Ca href=\"https:\u002F\u002Fwww.npmjs.com\u002F\" rel=\"noopener noreferrer nofollow\"\u003Enpmjs.com\u003C\u002Fa\u003E. Пусть это будет ui-library-starter-test.\u003C\u002Fp\u003E\u003Cp\u003EИли, в случае, если вы не планируете менять стиль проекта под свои собственные гайды, но, собираетесь поиграться или даже внести вклад в его развитие, например, предложив еще какие-то важные компоненты — сделайте форк, конечно же. Дальнейшие инструкции относятся к первому случаю — пилим свежую либу с кастомным стилем под конкретные задачи — в этом случае многие могут захотеть удалить эту документацию и почти все компоненты, чтобы не выполнять лишнюю кастомизацию.\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"bash\"\u003E$ npm install\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3\u003ECustomization\u003C\u002Fh3\u003E\u003Ch4\u003EREADME.md\u003C\u002Fh4\u003E\u003Cp\u003EПоправьте первую строчку в \u003Ccode\u003E@\u002FREADME.md\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"markdown\"\u003E# Ui-library-starter test project\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3\u003Epackage.json\u003C\u002Fh3\u003E\u003Cp\u003EДалее в \u003Ccode\u003E@\u002Fpackage.json\u003C\u002Fcode\u003E вам необходимо крайне аккуратно переписать актуальной информацией следующие поля, ничего не пропустив:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"json\"\u003E{\n  \"name\": \"ui-library-starter-test\",\n  \"description\": \"UI Library Starter Demonstration\",\n  \"version\": \"0.1.0\",\n\n  \"main\": \"dist\u002Fui-library-starter-test.umd.min.js\",\n  \"unpkg\": \"dist\u002Fui-library-starter-test.umd.min.js\",\n  \"jsdelivr\": \"dist\u002Fui-library-starter-test.umd.min.js\",\n\n  \"scripts\": {\n    \"build\": \"rimraf .\u002Fsrc\u002Fstatic &amp;&amp; cp -r .\u002Fdocs\u002F.vuepress\u002Fpublic .\u002Fsrc\u002Fstatic &amp;&amp; vue-cli-service build --target lib --name ui-library-starter-test src\u002Fmain.js\"\n  },\n\n  \"author\": \"Levon Gambaryan\",\n  \"license\": \"MIT\",\n\n  \"homepage\": \"\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https:\u002F\u002Fgithub.com\u002Fushliypakostnik\u002Fui-library-starter-test\"\n  },\n  \"bugs\": {\n    \"url\": \"https:\u002F\u002Fgithub.com\u002Fushliypakostnik\u002Fui-library-starter-test\u002Fissues\"\n  },\n\n  \"keywords\": []\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EОбратите внимание на имя проекта в конце длинной команды деплоя \u003Ccode\u003Ebuild\u003C\u002Fcode\u003E!\u003C\u002Fp\u003E\u003Ch4\u003EDocumentation config\u003C\u002Fh4\u003E\u003Cp\u003EПерейдите к документации на VuePress и сконфигурируйте ее под себя \u003Ccode\u003E@\u002Fdocs\u002F.vuepress\u002Fconfig.js\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"javascript\"\u003Emodule.exports = {\n  locales: {\n    '\u002F': {\n      lang: 'en-US',\n      title: 'UI Library',\n      description: 'Vue Component UI Library',\n    },\n  },\n\n  themeConfig: {\n    repoLabel: 'GitHub repo',\n    repo: 'https:\u002F\u002Fgithub.com\u002Fushliypakostnik\u002Fui-library-starter-test.git',\n    docsDir: 'docs',\n    search: false,\n    locales: {\n      '\u002F': {\n        nav: [{ text: '', link: '' }],\n        sidebar: [\n          {\n            title: `Components`,\n            children: [\n              \u002F\u002F ... готовые компоненты библиотеки без Sandbox и папки \u002FTests с тестовыми \n            ],\n          },\n          {\n            title: `Sandbox`,\n            path: '\u002Fsandbox\u002Fsandbox',\n          },\n        ],\n      },\n    },\n  },\n};\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch4\u003EConnecting fonts\u003C\u002Fh4\u003E\u003Cp\u003EПерепишите имя шрифта и переменные начертаний если требуется в файле \u003Ccode\u003E~\u002Fsrc\u002Fstylus\u002Futils\u002F_typography.styl\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"css\"\u003E$font-family = \"Open Sans\"\n\n$font-weight = {\n  regular: 400,\n  bold: 700,\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EПоместите папку с правильным шрифтом рядом с папкой \u003Ccode\u003E\u002FUbuntu\u003C\u002Fcode\u003E в \u003Ccode\u003E@\u002Fdocs\u002F.vuepress\u002Fpublic\u002Ffonts\u002F\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003Cp\u003EПропишите правильные импорты и пути в файле кастомизации документации на VuePress \u003Ccode\u003E@\u002Fdocs\u002F.vuepress\u002Fstyles\u002Fpalette.styl\u002F\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E@import \"..\u002F..\u002F..\u002Fsrc\u002Fstylus\u002F_stylebase.styl\"\n\n\u002F\u002F Import fonts\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\n@font-face {\n  font-family: $font-family;\n  src: url('\u002Ffonts\u002FOpenSans\u002FOpenSans-Regular.eot');\n  src: local('Open Sans Regular'), local('OpenSans-Regular'),\n    url('\u002Ffonts\u002FOpenSans\u002FOpenSans-Regular.eot?#iefix') format('embedded-opentype'),\n    url('\u002Ffonts\u002FOpenSans\u002FOpenSans-Regular.woff') format('woff'),\n    url('\u002Ffonts\u002FOpenSans\u002FOpenSans-Regular.ttf') format('truetype');\n  font-weight: $font-weight.regular;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: $font-family;\n  src: url('\u002Ffonts\u002FOpenSans\u002FOpenSans-Bold.eot');\n  src: local('Open Sans Bold'), local('OpenSans-Bold'),\n    url('\u002Ffonts\u002FOpenSans\u002FOpenSans-Bold.eot?#iefix') format('embedded-opentype'),\n    url('\u002Ffonts\u002FOpenSans\u002FOpenSans-Bold.woff') format('woff'),\n    url('\u002Ffonts\u002FOpenSans\u002FOpenSans-Bold.ttf') format('truetype');\n  font-weight: $font-weight.bold;\n  font-style: normal;\n}\n\n\u002F\u002F Customization\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\n...\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EУдалите директорию со старым шрифтом \u003Ccode\u003E@\u002Fdocs\u002F.vuepress\u002Fpublic\u002Ffonts\u002FUbuntu\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003Ch3\u003EСleaning project\u003C\u002Fh3\u003E\u003Cp\u003EЕсли вы хотите получить полностью чистую документацию — произведите следующую очистку папок и файлов.\u003C\u002Fp\u003E\u003Cp\u003EУдалите все папки и файлы в \u003Ccode\u003E@\u002Fdocs\u002F\u003C\u002Fcode\u003E кроме директорий \u003Ccode\u003E@\u002Fdocs\u002F.vuepress\u003C\u002Fcode\u003E, \u003Ccode\u003E@\u002Fdocs\u002Fcomponents\u003C\u002Fcode\u003E и \u003Ccode\u003E@\u002Fdocs\u002Fsandbox\u003C\u002Fcode\u003E — если желаете оставить Песочницу. И файла \u003Ccode\u003E@\u002Fdocs\u002FREADME.md\u003C\u002Fcode\u003E, который нужно оставить, но очистить:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"markdown\"\u003E# UI Library\n\n...\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EУдалите директорию \u003Ccode\u003E@\u002Fsrc\u002Fcomponents\u002Ftests\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003Cp\u003EВычистите импорты тестовых компонент в индексном файле \u003Ccode\u003E@\u002Fsrc\u002Fcomponents\u002Findex.js\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"javascript\"\u003E\u002F\u002F Tests - следующие три строчки удалить!!!\nexport { default as TestColors } from '.\u002Ftests\u002FTestColors';\nexport { default as TestBreakpoints } from '.\u002Ftests\u002FTestBreakpoints';\nexport { default as TestTypography } from '.\u002Ftests\u002FTestTypography';\n\n\u002F\u002F Elements\n...\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EВы можете выбрать какие компоненты оставить или даже удалить их все, если уверенны в себе и не нуждаетесь в наглядных примерах под рукой. Вернитесь к конфигурации документации и отразите изменения в \u003Ccode\u003E@\u002Fdocs\u002F.vuepress\u002Fconfig.js\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003Ch4\u003EStyle setting\u003C\u002Fh4\u003E\u003Cp\u003EЗапустите разработку документации командой:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"bash\"\u003E$ npm run docs:dev\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EПрочитайте раздел Constants этой документации.\u003C\u002Fp\u003E\u003Cp\u003EВам необходимо настроить препроцессор вашей библиотеки в точном соответствии с вашим руководством по фирменному стилю.\u003C\u002Fp\u003E\u003Ch3\u003EAdding a component\u003C\u002Fh3\u003E\u003Cp\u003EПосле того как стили библиотеки настроены вы можете добавлять свои специфические компоненты.\u003C\u002Fp\u003E\u003Cp\u003EВыберете имя для компонента в PascalCase стиле написания, предположим это \u003Ccode\u003EComponentName\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003Cp\u003EНекоторые имена могут оказаться зарезервированы VuePress. \u003Ccode\u003ELayout\u003C\u002Fcode\u003E, например. Самая достойная замена \u003Ccode\u003ELayout\u003C\u002Fcode\u003E видится как \u003Ccode\u003EView\u003C\u002Fcode\u003E.\u003Cbr\u002F\u003E\u003Cbr\u002F\u003EДобавьте директорию \u003Ccode\u003E@\u002Fsrc\u002Fcomponents\u002FComponentName\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003Cp\u003EДобавьте в нее индексный файл c импортом-экспортом \u003Ccode\u003E@\u002Fsrc\u002Fcomponents\u002FComponentName\u002Findex.js:\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"javascript\"\u003Eimport ComponentName from '.\u002FComponentName.vue';\n\nexport default ComponentName;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EИ сам компонент \u003Ccode\u003E@\u002Fsrc\u002Fcomponents\u002FComponentName\u002FComponentName.vue:\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E&lt;template\u003E\n  &lt;div\n    class=\"component-name\"\n    :class=\"{\n      '.component-name__element--modifier1': prop1,\n      '.component-name__element--modifier2': prop2,\n    }\"\n  \u003E\n    This is test component!!!\n  &lt;\u002Fdiv\u003E\n&lt;\u002Ftemplate\u003E\n\n&lt;script\u003E\nexport default {\n  name: 'ComponentName',\n\n  props: {\n    prop1: {\n      type: Boolean,\n      required: true,\n    },\n    prop2: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n  },\n};\n&lt;\u002Fscript\u003E\n\n&lt;style lang=\"stylus\" scoped\u003E\n@import \"~\u002Fsrc\u002Fstylus\u002F_stylebase.styl\";\n\n.component-name\n  background $colors.primary \u002F\u002F test styles\n  \u002F\u002F add adaptive\n  +$mobile()\n    display block\n\n  &amp;__element\n    $text(\"natasha\") \u002F\u002F add typography\n\n    &amp;--modifier1\n      color $colors.primary \u002F\u002F add good color\n\n    &amp;--modifier2\n      color $colors.secondary\n&lt;\u002Fstyle\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EДобавьте экспорт в индексный файл библиотеки \u003Ccode\u003E@\u002Fsrc\u002Fcomponents\u002Findex.js\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"javascript\"\u003Eexport { default as ComponentName } from '.\u002FComponentName';\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EДобавьте документацию компонента в файл \u003Ccode\u003E@\u002Fdocs\u002Fcomponents\u002Fcomponent-name.md\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"markdown\"\u003E# ComponentName\n\n## Description\n\nThis is new custom component.\n\n## Connection\n\n```vue\n&lt;template\u003E\n  &lt;ComponentName prop1 \u002F\u003E\n&lt;\u002Ftemplate\u003E\n```\n\n## Render\n\n&lt;ComponentName prop1 \u002F\u003E\n\n## API\n\n### Props\n\n| **Name**  | **Type** | **Description** | **Default** |\n| :-------- | :------- | :-------------- | ----------: |\n| **prop1** | Boolean  | -               |  (required) |\n| **prop2** | Boolean  | -               |     `false` |\n\n## Source code\n\n&lt;code\u003E@\u002Fsrc\u002Fcomponents\u002FComponentName\u002FComponentName.vue&lt;\u002Fcode\u003E\n\n&lt;&lt;&lt; @\u002Fsrc\u002Fcomponents\u002FComponentName\u002FComponentName.vue\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EИ далее — рендер-тест и исходный код по аналогии с другими файлами.\u003C\u002Fp\u003E\u003Cp\u003EДобавьте компонент в конфигурацию VuePress \u003Ccode\u003E@\u002Fdocs\u002F.vuepress\u002Fconfig.js\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"javascript\"\u003Emodule.exports = {\n  themeConfig: {\n    locales: {\n      '\u002F': {\n        sidebar: [\n          {\n            title: `Components`,\n            children: [\n              {\n                title: `ComponentName`,\n                path: '\u002Fcomponents\u002Fcomponent-name',\n              },\n            ],\n          },\n        ],\n      },\n    },\n  },\n};\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch4\u003EUsing third party modules\u003C\u002Fh4\u003E\u003Cp\u003EИспользуйте только относительные пути для импорта чего-либо в javascript ваших компонентов. Не используйте «абсолютные» алиасы:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E&lt;script\u003E\nimport moment from '..\u002F..\u002F..\u002Fnode_modules\u002Fmoment\u002Fmoment';\nimport { dateFilter } from '..\u002F..\u002F..\u002Fnode_modules\u002Fvue-date-fns\u002Fsrc\u002Findex';\n\nimport Icon from '..\u002FIcon\u002FIcon';\n\nexport default {\n  components: {\n    Icon,\n  },\n};\n&lt;\u002Fscript\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EВ реальных проектах вам потребуется очень часто закрывать «самые дорогие требования» с помощью аккуратно подобранных подходящих готовых решений. В таких случаях логично будет создавать обертку над чужим модулем, предоставляющую всю необходимую кастомизацию. Пример этого: \u003Ca href=\"https:\u002F\u002Fui-library-starter.netlify.app\u002Fcomponents\u002Fselect\" rel=\"noopener noreferrer nofollow\"\u003ESelect\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Cp\u003EУстановите и импортируйте модуль как обычно в главном файле \u003Ccode\u003E@\u002Fsrc\u002Fmain.js\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"javascript\"\u003Eimport vSelect from 'vue-select';\nimport 'vue-select\u002Fdist\u002Fvue-select.css';\n\nVue.component('v-select', vSelect);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EТак как мы используем глобальные стили собственной кастомизации модуля — невозможно будет защитить стили перекастомизации в SFC-обертке с помощью \u003Ccode\u003Escoped\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E&lt;style lang=\"stylus\"\u003E\n@import \"~\u002Fsrc\u002Fstylus\u002F_stylebase.styl\";\n\n.vs\n  &amp;__dropdown-toggle\n    \u002F\u002F ...\n\n  \u002F\u002F ...\n\n\u002F\u002F ...\n&lt;\u002Fstyle\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch4\u003EUse the sandbox\u003C\u002Fh4\u003E\u003Cp\u003EИспользуйте специальный компонент \u003Ccode\u003E@\u002Fsrc\u002Fcomponents\u002FSandbox\u002FSandbox.vue\u003C\u002Fcode\u003E и роут документации Sandbox как экспериментальную площадку и холст для создания новых компонент на простых мокках или тестирования взаимодействия между ними. Хотя, очевидно, некоторые компоненты, такие как, например, лейаут — удобнее создавать непосредственно в проекте и уже после этого переносить в библиотеку.\u003C\u002Fp\u003E\u003Ch3\u003ELibrary publishing\u003C\u002Fh3\u003E\u003Cp\u003EЗарегистрируйтесь на \u003Ca href=\"https:\u002F\u002Fwww.npmjs.com\u002F\" rel=\"noopener noreferrer nofollow\"\u003Enpmjs.com\u003C\u002Fa\u003E\u003Cstrong\u003E \u003C\u002Fstrong\u003Eи подтвердите регистрацию (дождитесь письма на почту).\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"bash\"\u003E$ npm run build\n$ npm version patch\n$ npm publish\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3\u003EConnecting to projects\u003C\u002Fh3\u003E\u003Cp\u003EВы можете либо использовать стартовый шаблон для новых проектов \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fushliypakostnik\u002Fui-library-start\" rel=\"noopener noreferrer nofollow\"\u003E\u003Cstrong\u003Eui-library-start\u003C\u002Fstrong\u003E\u003C\u002Fa\u003E, тогда вам придется заменить библиотеку:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"bash\"\u003E$ npm uninstall ui-library-starter --save-dev\n$ npm install ui-library-starter-test --save-dev\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EЛибо установить библиотеку как любой другой модуль в любой другой проект:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"bash\"\u003E$ npm install ui-library-starter-test --save-dev\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EОрганизация стилей дочерних проектов может или иметь подобную библиотеке структуру или любую другую (например, если вы внедряете бибилиотеку в старый проект). Единственное требование: первый импорт в основном файле — основного файла библиотеки. Второй — подключение шрифтов и стилизация \u003Ccode\u003E:root\u003C\u002Fcode\u003E и \u003Ccode\u003Ebody\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003E@\u002Fsrc\u002Fstylus\u002F_stylebase.styl\u003C\u002Fcode\u003E проекта использующего библиотеку:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E\u002F\u002F Import UI Library stylebase\n@import '~ui-library-starter-test\u002Fsrc\u002Fstylus\u002F_stylebase.styl';\n\n\u002F\u002F core\n@import \"core\u002F_base\"; \u002F\u002F normalize\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Ccode\u003E@\u002Fsrc\u002Fstylus\u002Fcore\u002F_base.styl\u003C\u002Fcode\u003E проекта использующего библиотеку:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E\u002F\u002F Import UI Library fonts\n\n@font-face {\n  font-family: $font-family;\n  src: url('~ui-library-starter-test\u002Fsrc\u002Fstatic\u002Ffonts\u002FOpenSans\u002FOpenSans-Regular.eot');\n  src: local('Open Sans Regular'), local('OpenSans-Regular'),\n    url('~ui-library-starter-test\u002Fsrc\u002Fstatic\u002Ffonts\u002FOpenSans\u002FOpenSans-Regular.eot?#iefix') format('embedded-opentype'),\n    url('~ui-library-starter-test\u002Fsrc\u002Fstatic\u002Ffonts\u002FOpenSans\u002FOpenSans-Regular.woff') format('woff'),\n    url('~ui-library-starter-test\u002Fsrc\u002Fstatic\u002Ffonts\u002FOpenSans\u002FOpenSans-Regular.ttf') format('truetype');\n  font-weight: $font-weight.regular;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: $font-family;\n  src: url('~ui-library-starter-test\u002Fsrc\u002Fstatic\u002Ffonts\u002FOpenSans\u002FOpenSans-Bold.eot');\n  src: local('Open Sans Bold'), local('OpenSans-Bold'),\n    url('~ui-library-starter-test\u002Fsrc\u002Fstatic\u002Ffonts\u002FOpenSans\u002FOpenSans-Bold.eot?#iefix') format('embedded-opentype'),\n    url('~ui-library-starter-test\u002Fsrc\u002Fstatic\u002Ffonts\u002FOpenSans\u002FOpenSans-Bold.woff') format('woff'),\n    url('~ui-library-starter-test\u002Fsrc\u002Fstatic\u002Ffonts\u002FOpenSans\u002FOpenSans-Bold.ttf') format('truetype');\n  font-weight: $font-weight.bold;\n  font-style: bold;\n}\n\n\n\u002F\u002F Base normalize\n\n:root\n  scroll-behavior smooth\n\nbody\n  font-family $font-family, sans-serif\n  -moz-osx-font-smoothing grayscale\n  -webkit-font-smoothing antialiased\n  text-rendering: optimizeSpeed\n  color $colors.text\n  overflow-x hidden\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EПрактически единственный повод что-то поменять в этом файле — крайне маловероятная ситуация — замена или добавление шрифта в гайдлайн. Предполагается что отредактировать пути шрифтов придется только один раз — при подключении библиотеки под определенный стиль.\u003C\u002Fp\u003E\u003Cp\u003EПодключите все это к главному шаблону \u003Ccode\u003E@\u002Fsrc\u002FApp.vue\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E&lt;template\u003E\n  &lt;div id=\"app\"\u003E&lt;\u002Fdiv\u003E\n&lt;\u002Ftemplate\u003E\n\n&lt;script\u003E\nexport default {\n  name: 'App',\n};\n&lt;\u002Fscript\u003E\n\n&lt;style lang=\"stylus\"\u003E\n@import \"~\u002Fsrc\u002Fstylus\u002F_stylebase.styl\";\n&lt;\u002Fstyle\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EИсправьте имя библиотеки в импортах в точку входа \u003Ccode\u003E@\u002Fsrc\u002Fmain.js\u003C\u002Fcode\u003E если вы брали готовый репо или подключите:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"javascript\"\u003Eimport ComponentLibrary from 'ui-library-starter-test';\nimport 'ui-library-starter-test\u002Fdist\u002Fui-library-starter-test.css';\n\nVue.use(ComponentLibrary);\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EИсправьте имя или добавьте команду \u003Ccode\u003Eupdate\u003C\u002Fcode\u003E в \u003Ccode\u003E@\u002Fpackage.json\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"json\"\u003E{\n  \"name\": \"ui-library-start-test\",\n  \"scripts\": {\n    \"update\": \"npm install ui-library-starter-test@latest\"\n  },\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3\u003EUpdating in projects\u003C\u002Fh3\u003E\u003Cp\u003EОбновляйте библиотеку до последней версии в проектах:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"bash\"\u003E$ npm run update\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2\u003EConstants\u003C\u002Fh2\u003E\u003Ch3\u003E_stylebase.styl\u003C\u002Fh3\u003E\u003Cp\u003EГлобальный медиатор стилей собирает не компилируемые \u003Ccode\u003E\u002Futils\u003C\u002Fcode\u003E, компилируемые \u003Ccode\u003E\u002Fcore\u003C\u002Fcode\u003E сущности и необходимые глобально кастомизации используемых сторонних модулей \u003Ccode\u003E\u002Flibs\u003C\u002Fcode\u003E (но, те которые позволяют это сделать без \u003Ccode\u003Escoped\u003C\u002Fcode\u003E— стоит разместить в SFC-обертках).\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003E@\u002Fsrc\u002Fstylus\u002F_stylebase.styl\u003C\u002Fcode\u003E библиотеки:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E\u002F\u002F utils\n@import \"utils\u002F_variables\";\n@import \"utils\u002F_placeholders\";\n@import \"utils\u002F_mixins\";\n@import \"utils\u002F_typography\";\n\n\u002F\u002F core\n@import \"core\u002F_base\"; \u002F\u002F normalize\n@import \"core\u002F_animations\";\n\n\u002F\u002F libs\n...\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EТеперь можно использовать всю эту кухню на компонентах:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E&lt;style lang=\"stylus\" scoped\u003E\n@import \"~\u002Fsrc\u002Fstylus\u002F_stylebase.styl\";\n\n...\n&lt;\u002Fstyle\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EЭто можно назвать «глобальными стилями-невидимками», что-то такое — они, с одной стороны — участвуют в правильном оформлении везде, но, при этом, «их не видно». Мы предоставляем глобальные константы гайдлайна и всю прочую мощь препроцессора всем компонентным системам — библиотеке и всем ее «читателям».\u003C\u002Fp\u003E\u003Ch4\u003EMixins and placeholders\u003C\u002Fh4\u003E\u003Cp\u003EUI Library Starter дает надежду на то, что в вашей разметке код будет полностью оптимальный и консистентный. Это способно сделать даже крупную систему из нескольких проектов базирующихся на одном визуальном языке — и полностью управляемой, и, в тоже время — гибкой.\u003Cbr\u002F\u003E\u003Cbr\u002F\u003EНе копируйте код кусками по компонентам — оптимизируйте очевидно одинаковые наборы в миксинах и плейсхолдерах!\u003Cbr\u002F\u003E\u003Cbr\u002F\u003EИли вы можете делать примеси без параметров для того, чтобы — забегая вперед (см. раздел Breakpoints) — такой же набор стал доступен внутри медиа-миксинов \u003Ccode\u003E@\u002Fsrc\u002Fstylus\u002Futils\u002F_mixins.styl\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E\u002F\u002F Utilities\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\u002F\u002F Mixins without arguments duplicate placeholders,\n\u002F\u002F so it can be passed to media mixins\n\n$flex--center()\n  display flex\n  align-items center\n  justify-content center\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EТеперь:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E.selector\n  +$tablet()\n    $flex--center()\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3\u003EColors\u003C\u002Fh3\u003E\u003Cp\u003EАбстрагируйте все цвета из гайдлайна в короткие имена-маркеры.\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003E~\u002Fsrc\u002Fstylus\u002Futils\u002F_variables.styl\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E\u002F\u002F Palette\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n$colors = {\n  cat: #515bd4,\n  dog: #ffffff,\n  bird: #fd5f00,\n  wood: #fed564,\n  stone: #8bc24c,\n  sea: #13334c,\n}\n\u002F\u002F Dependencies colors\n$colors[\"text\"] = $colors.sea\n$colors[\"placeholder\"] = rgba($colors.sea, $opacites.rock)\n$colors[\"primary\"] = $colors.cat\n$colors[\"secondary\"] = $colors.dog\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EВ любом месте кода препроцессора или секции стилей SFC (при условии импорта стилевой базы) библиотеки или дочерних проектов вы можете передавать правильные цвета:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E.selector\n  color $colors.primary\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EЛегко поддерживать тестовый компонент наглядно демонстрирующий палитру в \u003Ccode\u003E@\u002Fsrc\u002Fcomponents\u002Ftests\u002FTestColors\u002FTestColors.vue\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003Ch3\u003EBreakpoints\u003C\u002Fh3\u003E\u003Cp\u003EПеременные-брекпоинты лучше называть более интуитивно-понятно.\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003E~\u002Fsrc\u002Fstylus\u002Futils\u002F_variables.styl\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E\u002F\u002F Breakpoints\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\n$breakpoints = {\n  tablet: 768px,\n  desktop: 1025px,\n}\n$breakpoints[\"mobile--max\"] = $breakpoints.tablet - 1\n$breakpoints[\"tablet--max\"] = $breakpoints.desktop - 1\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EОсновные точки перехода: в стилевой базе препроцессора в \u003Ccode\u003Epx\u003C\u002Fcode\u003E и в константах скриптов библиотеки в \u003Ccode\u003ENumber\u003C\u002Fcode\u003E — должны соответствовать друг-другу.\u003Cbr\u002F\u003E\u003Cbr\u002F\u003E\u003Ccode\u003E@\u002Fsrc\u002Futils\u002Fсonstants.js\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"javascript\"\u003E\u002F\u002F Design constants\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\nexport const DESIGN = {\n  BREAKPOINTS: {\n    tablet: 768,\n    desktop: 1025,\n  },\n};\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EВ препроцессоре — мощнейшее, очень удобное средство — построенные на брекпоинтах примеси принимающие контент:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E\u002F\u002F Media\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\n$no-gadgets()\n  @media only screen and (max-width $breakpoints.desktop--max)\n    {block}\n\n$desktop()\n  @media only screen and (min-width $breakpoints.desktop)\n    {block}\n\n$gadgets()\n  @media only screen and (max-width $breakpoints.tablet--max)\n    {block}\n\n$tablet()\n  @media only screen and (min-width $breakpoints.tablet) and (max-width $breakpoints.tablet--max)\n    {block}\n\n$not-mobile()\n  @media only screen and (min-width $breakpoints.tablet)\n    {block}\n\n$mobile()\n  @media only screen and (max-width $breakpoints.mobile--max)\n    {block}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EИспользование в любом блоке стилей SFC:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E.selector\n  +$desktop()\n    \u002F\u002F styles only for desktops\n\n  +$tablet()\n    \u002F\u002F styles only for tablet\n\n  +$mobile()\n    \u002F\u002F styles only for mobile\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EВ строгой традиции запрещается использование любых глобальных классов со стилями, за исключением анимаций для Vue и вынужденных кастомизаций действительно необходимых сторонних модулей где «классический ад с \u003Ccode\u003E!important\u003C\u002Fcode\u003E»))). Мы стараемся минимизировать количество зависимостей и «точечно» закрываем самые «дорогие», неподъемные по ресурсам проблемные места.\u003C\u002Fp\u003E\u003Cp\u003EТочки перехода скриптов обрабатываются специальным модулем-помощником для экрана через matchMedia:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"javascript\"\u003E\u002F\u002F Viewport utils module\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\nimport { DESIGN } from '.\u002Fconstants.js';\n\nconst ScreenHelper = (() =\u003E {\n  const TABLET = DESIGN.BREAKPOINTS.tablet;\n  const DESKTOP = DESIGN.BREAKPOINTS.desktop;\n\n  const isMobile = () =\u003E {\n    return window.matchMedia(`(max-width: ${TABLET - 1}px)`).matches;\n  };\n\n  const isTablet = () =\u003E {\n    return window.matchMedia(\n      `(min-width: ${TABLET}px) and (max-width: ${DESKTOP - 1}px)`,\n    ).matches;\n  };\n\n  const isDesktop = () =\u003E {\n    return window.matchMedia(`(min-width: ${DESKTOP}px)`).matches;\n  };\n\n  const getOrientation = () =\u003E {\n    if (window.matchMedia('(orientation: portrait)').matches) {\n      return 'portrait';\n    }\n    return 'landscape';\n  };\n\n  const getPixelRatio = () =\u003E {\n    \u002F\u002F eslint-disable-next-line prettier\u002Fprettier\n    return (\n      window.devicePixelRatio ||\n      window.screen.deviceXDPI \u002F window.screen.logicalXDPI\n    );\n  };\n\n  return {\n    isMobile,\n    isTablet,\n    isDesktop,\n    getOrientation,\n    getPixelRatio,\n  };\n})();\n\nexport default ScreenHelper;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EДля того чтобы компоненты могли всегда верно определять типоразмер устройства предоставлена общая функциональность обновляющая переменные в событии ресайза. Этот миксин может быть невероятно полезен и на этапе конечной сборки адаптивных видов — в дочерних проектах.\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003E@\u002Fsrc\u002Fmixins\u002Fresize.js\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode class=\"javascript\"\u003Eimport ScreenHelper from '..\u002Futils\u002Fscreen-helper.js';\n\nexport default {\n  data() {\n    return {\n      isMobile: null,\n      isTablet: null,\n      isDesktop: null,\n    };\n  },\n\n  mounted() {\n    window.addEventListener('resize', this.onWindowResizeCommon, false);\n    this.onWindowResizeCommon();\n  },\n\n  beforeDestroy() {\n    window.removeEventListener('resize', this.onWindowResizeCommon, false);\n  },\n\n  methods: {\n    onWindowResizeCommon() {\n      \u002F\u002F console.log('onWindowResizeCommon!!!!');\n\n      this.isMobile = ScreenHelper.isMobile();\n      this.isTablet = ScreenHelper.isTablet();\n      this.isDesktop = ScreenHelper.isDesktop();\n    },\n  },\n};\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EНа любых компонентах или видах в библиотеке:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E&lt;template\u003E\n  &lt;Component v-show=\"isDesktop\" \u002F\u003E\n  \n  &lt;div v-if=\"isDesktop\" \u002F\u003E\n&lt;\u002Ftemplate\u003E\n\n&lt;script\u003E\nimport resize from '..\u002F..\u002F..\u002Fsrc\u002Fmixins\u002Fresize.js';\n\nexport default {\n  name: 'ComponentName',\n\n  mixins: [resize],\n};\n&lt;\u002Fscript\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EВ проектах:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E&lt;script\u003E\nimport resize from 'ui-library-starter\u002Fsrc\u002Fmixins\u002Fresize.js';\n\nexport default {\n  name: 'Test',\n\n  mixins: [resize],\n};\n&lt;\u002Fscript\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EТестовый компонент в \u003Ccode\u003E@\u002Fsrc\u002Fcomponents\u002FTests\u002FTestBreakpoints\u002FTestBreakpoints.vue\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003Ch3\u003ETypography\u003C\u002Fh3\u003E\u003Cp\u003EАбстрагируйте все гарнитуры из гайдлайна в короткие имена-маркеры.\u003C\u002Fp\u003E\u003Cp\u003E\u003Ccode\u003E~\u002Fsrc\u002Fstylus\u002Futils\u002F_typography.styl\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E\u002F\u002F Typography\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\n\u002F\u002F Typographic Variables\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\n\u002F\u002F Guide\n\n$font-family = \"Ubuntu\"\n\n$font-weight = {\n  regular: 400,\n  bold: 700,\n}\n\n$letter-spacing = {\n  normal: normal\n}\n\n\u002F\u002F Universal Typographic Mixin\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\n\u002F\u002F We use one, only one, Karl, a universal mixin for all cases!\n\n$text($name)\n  font-family $font-family\n  letter-spacing $letter-spacing.normal\n\n  if $name == \"elena\"\n    font-size 72px\n    line-height 72px\n    font-weight $font-weight.bold\n  if $name == \"olga\"\n    font-size 56px\n    line-height 56px\n    font-weight $font-weight.bold\n  if $name == \"anna\"\n    font-size 40px\n    line-height 44px\n    font-weight $font-weight.bold\n  if $name == \"maria\"\n    font-size 32px\n    line-height 36px\n    font-weight $font-weight.bold\n  if $name == \"katya\"\n    font-size 24px\n    line-height 28px\n    font-weight $font-weight.regular\n  if $name == \"alena\"\n    font-size 20px\n    line-height 28px\n    font-weight $font-weight.regular\n  if $name == \"natasha\"\n    font-size 16px\n    line-height 28px\n    font-weight $font-weight.regular\n  if $name == \"nina\"\n    font-size 13px\n    line-height 16px\n    font-weight $font-weight.regular\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3\u003EOthers\u003C\u002Fh3\u003E\u003Cp\u003E\u003Ccode\u003E~\u002Fsrc\u002Fstylus\u002Futils\u002F_variables.styl\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E\u002F\u002F Others from guide\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\n$border-radiuses = {\n  soccer: 0,\n  dancing: 2px,\n  swimming: 3px,\n  shooting: 10px,\n}\n\n$opacites = {\n  waltz: 1,\n  funky: 0.75,\n  rock: 0.66,\n  psy: 0.45,\n  pop: 0.2,\n  reggae: 0,\n}\n\n$effects = {\n  duration: 0.1s,\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EМожно получить из этого миксины для более лаконичного синтаксиса \u003Ccode\u003E~\u002Fsrc\u002Fstylus\u002Futils\u002F_mixins.styl\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E\u002F\u002F Rounding\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\n$border-radius($name)\n  if $name == \"soccer\"\n    border-radius $border-radiuses.soccer \u002F\u002F 0\n  if $name == \"dancing\"\n    border-radius $border-radiuses.dancing \u002F\u002F 2px\n  if $name == \"swimming\"\n    border-radius $border-radiuses.swimming \u002F\u002F 3px\n  if $name == \"shooting\"\n    border-radius $border-radiuses.shooting \u002F\u002F 10px\n\n\n\u002F\u002F Opacity\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\n$opacity($name)\n  if $name == \"waltz\"\n    opacity $opacites.waltz \u002F\u002F 1\n  if $name == \"funky\"\n    opacity $opacites.funky \u002F\u002F 0.75\n  if $name == \"rock\"\n    opacity $opacites.rock \u002F\u002F 0.66\n  if $name == \"psy\"\n    opacity $opacites.psy \u002F\u002F 0.45\n  if $name == \"pop\"\n    opacity $opacites.pop \u002F\u002F 0.2\n  if $name == \"reggae\"\n    opacity $opacites.reggae \u002F\u002F 0\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EТеперь можно:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E.selector\n  $opacity(\"dancing\")\n  $border-radius(\"funky\")\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EПеременные все равно могут пригодиться если дизайнеры захотят сделать новый цвет с разрешенной прозрачностью:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E.selector\n  color rgba($colors.dog, $opacites.psy)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch4\u003EАнимации\u003C\u002Fh4\u003E\u003Cp\u003EЕдинственные глобально компилируемые стилевые классы которые в строгой традиции разрешено использовать — для анимаций Vue. Вы можете добавлять их после соответсвующих \u003Ccode\u003E@keyframes\u003C\u002Fcode\u003E в специальном файле стилевой базы \u003Ccode\u003E~\u002Fsrc\u002Fstylus\u002Fcore\u002F_animation.styl\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E\u002F\u002F Project animations\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\n\u002F\u002F Keyframes\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\n@keyframes fade\n  0%\n    opacity 0\n\n  100%\n    opacity 1\n\n\n\u002F\u002F Vue classes for animation\n\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\u002F\n\n.fade\n  &amp;-enter-active\n    animation fade ($effects.duration * 2) forwards\n\n  &amp;-leave-active\n    animation fade ($effects.duration * 2) reverse\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EТеперь в разметке:\u003C\u002Fp\u003E\u003Cpre\u003E\u003Ccode\u003E&lt;template\u003E\n  &lt;transition name=\"fade\"\u003E\n    &lt;div v-if=\"Boolean\" \u002F\u003E\n  &lt;\u002Ftransition\u003E\n&lt;\u002Ftemplate\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3\u003EStructure\u003C\u002Fh3\u003E\u003Cpre\u003E\u003Ccode\u003E.\n├─ docs\u002F \u002F\u002F documentation folder\n│  ├── .vuepress\u002F \u002F\u002F VuePress\n│  │   ├─ stylus\u002F \u002F\u002F import of fonts and customization of documentation\n│  │   │  └─ palette.styl\n│  │   ├─ config.js \u002F\u002F configuration\n│  │   └─ enhanceApp.js \u002F\u002F improvements - installation of library components\n│  ├─ components\u002F \u002F\u002F components documentation folder\n│  │  ├─ link.md\n│  │  └─ ...\n│  ├─ constants\u002F \u002F\u002F library documentation folder\n│  │  ├─ breakpoints.md\n│  │  ├─ colors.md\n│  │  ├─ others.md\n│  │  ├─ stylebase.md\n│  │  └─ typography.md\n│  ├─ sandbox\u002F \u002F\u002F sandbox view\n│  │  └─ sandbox.md\n│  ├─ links.md \u002F\u002F useful reading links\n│  ├─ README.md \u002F\u002F homepage\n│  ├─ start.md \u002F\u002F getting started\n│  └─ structure.md \u002F\u002F structure\n├─ src\u002F \u002F\u002F source folder\n│  ├─ components\u002F\n│  │  ├─ Icon\n│  │  │  ├─ index.js\n│  │  │  └─ Icon.vue\n│  │  ├─ Sandbox\n│  │  │  ├─ index.js\n│  │  │  └─ Sandbox.vue\n│  │  ├─ Tests\n│  │  │  └─ ...\n│  │  └─ ...\n│  ├─ mixins\u002F\n│  │  ├─ resize.js \u002F\u002F adaptive to components\n│  │  └─ ...\n│  ├─ static\u002F \u002F\u002F after build fonts will be copied here\n│  │  └─ fonts\u002F\n│  │     └─ ...\n│  ├─ stylus\u002F\n│  │  ├─ core\n│  │  │  ├─ _animations.styl \u002F\u002F keyframes and Vue animationss classes\n│  │  │  └─ _base.styl \u002F\u002F normalize\n│  │  ├─ utils\n│  │  │  ├─ _mixins.styl\n│  │  │  ├─ _placeholders.styl\n│  │  │  ├─ _typography.styl \u002F\u002F Use one, only one, Karl, a universal mixin for all cases!\n│  │  │  └─ _variables.styl\n│  │  └─ _stylebase.styl \u002F\u002F main file of stylus \n│  ├─ utils\u002F \u002F\u002F scripts\n│  │  ├─ constants.js \u002F\u002F javascript constants\n│  │  ├─ screen-helper.js \u002F\u002F adaptive viewport\n│  │  └─ ...\n│  └─ main.js \u002F\u002F library connection\n├─ .browserslistrc \u002F\u002F configuration of supported browsers\n├─ .eslintrc.js \u002F\u002F linter configuration\n├─ .gitignore \u002F\u002F git ignore\n├─ .prettierrc \u002F\u002F prettier configuration\n├─ babel.config.js \u002F\u002F babel configuration\n├─ colors.jpg \u002F\u002F image for README\n├─ package.json \u002F\u002F project configuration\n└─ README.md\n```\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2\u003EМы сегодня многое поняли\u003C\u002Fh2\u003E\u003Cp\u003EЧистый код начинается с четких концепций и годной архитектуры, эффективная работа команды — с аккуратной коммуникации и внятных соглашений. Я потратил всего один вечер для того чтобы написать сам пример модуля-библиотеки на Vue со Stylus (без компонент). Точно тоже самое можно быстро легко осуществить для связки любого современного компонентного фреймворка и препроцессора. Даже если вы не хотите, или по каким-то внешним причинам — не можете — выделить атомарный и подробно-компонентный UI своего интерфейса в модуль-библиотеку, изложенные выше подходы все равно способны помочь вам и вашей команде писать действительно красивые и удобные проекты фронтенда с по-настоящему качественной версткой.\u003Cbr\u002F\u003E\u003Cbr\u002F\u003EУдачи в написании собственных библиотек!\u003C\u002Fp\u003E\u003Cfigure class=\"\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5e4\u002Ff10\u002F383\u002F5e4f10383d235d5ea2efb8c17dccafd4.jpg\" alt=\"Советский плакат\" title=\"Советский плакат\" width=\"462\" height=\"700\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F5e4\u002Ff10\u002F383\u002F5e4f10383d235d5ea2efb8c17dccafd4.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cfigcaption\u003EСоветский плакат\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"vue"},{"titleHtml":"stylus"},{"titleHtml":"атомарный дизайн"},{"titleHtml":"компоненты"},{"titleHtml":"библиотеки"},{"titleHtml":"верстка"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F549\u002Fe37\u002F7d9\u002F549e377d962c1bd8a6d7c25f0e407984.jpg","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F549\u002Fe37\u002F7d9\u002F549e377d962c1bd8a6d7c25f0e407984.jpg","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F582638\\\u002F\"},\"headline\":\"Как правильно верстать 2, или зачем я написал еще одну UI-библиотеку, мой первый npm-модуль?\",\"datePublished\":\"2021-10-10T17:36:56+03:00\",\"dateModified\":\"2021-10-18T17:27:12+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Левон Алексеевич Гамбарян\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Спойлер: атомарный дизайнЭто работа является логическим продолжением моего первого подробного текста для сообщества об актуальных подходах к верстке Как верстать...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F582638\\\u002F#post-content-body\",\"about\":[\"h_web_design\",\"h_crazydev\",\"h_css\",\"h_javascript\",\"h_ui\",\"f_develop\",\"f_design\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F582638\\\u002Ffdf2d39eeb563f9b44049e6f70039ddc\\\u002F\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F580\\\u002F9ef\\\u002F8ac\\\u002F5809ef8aca028d84b97bae2d5bc1d394.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F0e7\\\u002F0c1\\\u002F5b5\\\u002F0e70c15b5652fbcb37a45c2a1311378f.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F939\\\u002Fe73\\\u002F396\\\u002F939e7339689cd38cfd7a789ed13f440d.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Ff7c\\\u002F30c\\\u002F1c5\\\u002Ff7c30c1c512aa0d079054f3e333ea531.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F355\\\u002F6db\\\u002F3be\\\u002F3556db3be1030ed346dc06158550358e.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fdd6\\\u002F08c\\\u002Fc50\\\u002Fdd608cc50c7bbb7b060bfefe04e5cbb1.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F8f9\\\u002F7c8\\\u002F12e\\\u002F8f97c812ef6fa8a6a589e539a3d4da19.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F5e4\\\u002Ff10\\\u002F383\\\u002F5e4f10383d235d5ea2efb8c17dccafd4.jpg\"]}","metaDescription":"Спойлер: атомарный дизайнЭто работа является логическим продолжением моего первого подробного текста для сообщества об актуальных подходах к верстке Как верстать веб-интерфейсы быстро, качественно и...","mainImageUrl":null,"amp":true},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"web_design,crazydev,css,javascript,ui"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
